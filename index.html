<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>테스트릭 — 나를 알아가는 가장 재미있는 방법</title>
<meta name="description" content="테스트릭 — 성격 유형, MBTI, 전생, 연애 궁합, 정신연령, 다크 성향, 숨겨진 재능, 컬러 심리까지 8가지 무료 심리 테스트. 15가지 심층 분석 리포트 제공. 32,847명이 선택한 자기탐색 플랫폼.">
<meta property="og:title" content="테스트릭 — 나를 알아가는 가장 재미있는 방법">
<meta property="og:description" content="성격, MBTI, 전생, 연애궁합, 정신연령, 다크성향 등 8가지 무료 심리테스트. 15가지 심층 분석 리포트 제공.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://testrik.co.kr">
<meta property="og:image" content="https://testrik.co.kr/og.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:site_name" content="테스트릭">
<meta property="og:locale" content="ko_KR">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="테스트릭 — 나를 알아가는 가장 재미있는 방법">
<meta name="twitter:description" content="성격, MBTI, 전생, 연애궁합 등 8가지 무료 심리테스트. 15가지 심층 분석 리포트!">
<meta name="twitter:image" content="https://testrik.co.kr/og.png">
<meta name="keywords" content="심리테스트, MBTI, 성격테스트, 전생테스트, 연애궁합, 정신연령, 다크성향, 재능테스트, 컬러심리, 무료심리테스트, 성격유형, 자기이해">
<link rel="canonical" href="https://testrik.co.kr">
<link rel="preconnect" href="https://fonts.googleapis.com">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6576106349875242" crossorigin="anonymous"></script>
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NC6JQECH29"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-NC6JQECH29');</script>
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js" crossorigin="anonymous"></script>
<script>if(window.Kakao&&!Kakao.isInitialized())Kakao.init('9e33d57e8433fd9cff42615b2055798f');</script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=Gowun+Batang:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#0b0b16;--bg-card:#111122;--accent:#8b5cf6;--accent-light:#a78bfa;--pink:#ec4899;--pink-light:#f472b6;--emerald:#10b981;--amber:#f59e0b;--sky:#0ea5e9;--rose:#f43f5e;--text:#ececf6;--text-sec:#a0a0c0;--text-dim:#6e6e90;--border:#1e1e38;--r-md:16px;--r-lg:24px;--font:'Noto Sans KR',-apple-system,sans-serif;--serif:'Gowun Batang',serif;--tr:.3s cubic-bezier(.4,0,.2,1)}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth;-webkit-tap-highlight-color:transparent;font-size:16px}
body{font-family:var(--font);background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden;line-height:1.7;-webkit-font-smoothing:antialiased;font-size:1rem;letter-spacing:-.01em;font-weight:400}
a{color:inherit;text-decoration:none}button{font-family:inherit;cursor:pointer;border:none;outline:none}
.bg-c{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.bg-c .o{position:absolute;border-radius:50%;filter:blur(100px);opacity:.2;animation:fl 25s ease-in-out infinite}
.bg-c .o1{width:600px;height:600px;background:var(--accent);top:-15%;left:-10%}
.bg-c .o2{width:500px;height:500px;background:var(--pink);top:50%;right:-15%;animation-delay:-8s}
.bg-c .o3{width:400px;height:400px;background:var(--sky);bottom:-10%;left:25%;animation-delay:-16s}
@keyframes fl{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(40px,-60px) scale(1.05)}66%{transform:translate(-30px,40px) scale(.95)}}
.app{position:relative;z-index:1}
.hdr{position:sticky;top:0;z-index:100;backdrop-filter:blur(24px) saturate(1.2);background:rgba(11,11,22,.8);border-bottom:1px solid var(--border)}
.hdr-in{max-width:1100px;margin:0 auto;padding:14px 20px;display:flex;align-items:center;justify-content:space-between}
.logo{font-family:var(--serif);font-size:1.6rem;font-weight:700;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.logo small{font-family:var(--font);font-size:.65rem;display:block;-webkit-text-fill-color:var(--text-dim);letter-spacing:3px;text-transform:uppercase;margin-top:2px}
.nav{display:flex;gap:4px}.nav a{padding:8px 14px;border-radius:20px;font-size:.92rem;color:var(--text-sec);font-weight:500;transition:var(--tr);white-space:nowrap}.nav a:hover,.nav a.on{color:var(--text);background:rgba(255,255,255,.05)}
.mob-btn{display:none;width:40px;height:40px;border-radius:10px;background:0;border:1px solid var(--border);color:var(--text);font-size:1.2rem;align-items:center;justify-content:center}
.hero{max-width:1100px;margin:0 auto;padding:64px 20px 48px;text-align:center}
.hero-b{display:inline-flex;align-items:center;gap:6px;padding:8px 18px;border-radius:20px;border:1px solid rgba(139,92,246,.3);background:rgba(139,92,246,.08);font-size:.85rem;color:var(--accent-light);margin-bottom:24px;animation:fu .7s ease both}
.hero-b .pu{width:6px;height:6px;border-radius:50%;background:var(--emerald);animation:pu 2s ease-in-out infinite}
@keyframes pu{0%,100%{opacity:1}50%{opacity:.3}}
.hero h1{font-family:var(--serif);font-size:clamp(2.2rem,5.5vw,3.6rem);font-weight:700;line-height:1.35;margin-bottom:20px;animation:fu .7s ease .08s both}
.hero h1 .gr{background:linear-gradient(135deg,var(--accent-light) 0%,var(--pink-light) 40%,var(--amber) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:var(--text-sec);font-size:1.1rem;max-width:500px;margin:0 auto 36px;line-height:1.8;animation:fu .7s ease .16s both}
.hero-s{display:flex;justify-content:center;gap:40px;flex-wrap:wrap;animation:fu .7s ease .24s both}
.st-n{font-size:1.8rem;font-weight:900;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.st-l{font-size:.8rem;color:var(--text-dim);margin-top:4px}
@keyframes fu{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.ad-s{max-width:1100px;margin:0 auto 8px;padding:0 20px}
.ad-b{background:rgba(139,92,246,.03);border:1px dashed var(--border);border-radius:var(--r-md);padding:20px;text-align:center}
.ad-lb{font-size:.65rem;text-transform:uppercase;letter-spacing:2px;color:var(--text-dim);opacity:.5;margin-bottom:4px}
.ad-t{font-size:.82rem;color:var(--text-dim)}
.sec{max-width:1100px;margin:0 auto;padding:48px 20px}
.sec-h{display:flex;align-items:center;justify-content:space-between;margin-bottom:28px;flex-wrap:wrap;gap:12px}
.sec-t{font-family:var(--serif);font-size:1.5rem;font-weight:700;display:flex;align-items:center;gap:10px}
.sec-t .bar{width:3px;height:18px;border-radius:2px;background:linear-gradient(180deg,var(--accent),var(--pink))}
.pills{display:flex;gap:8px;margin-bottom:28px;overflow-x:auto;padding-bottom:4px;scrollbar-width:none}.pills::-webkit-scrollbar{display:none}
.pill{padding:10px 20px;border-radius:22px;border:1px solid var(--border);background:0;color:var(--text-sec);font-size:.95rem;font-weight:500;white-space:nowrap;transition:var(--tr)}
.pill:hover{border-color:var(--accent);color:var(--text)}.pill.on{background:linear-gradient(135deg,var(--accent),var(--pink));border-color:transparent;color:#fff;font-weight:600}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}
.card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--r-lg);overflow:hidden;cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1);animation:fu .5s ease both}
.card:hover{transform:translateY(-5px);border-color:rgba(139,92,246,.4);box-shadow:0 20px 60px rgba(139,92,246,.1)}
.c-vis{height:170px;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}
.c-vis .bg{position:absolute;inset:0;transition:transform .6s ease}.card:hover .c-vis .bg{transform:scale(1.05)}
.c-vis .ic{position:relative;z-index:1;font-size:3.5rem;filter:drop-shadow(0 4px 16px rgba(0,0,0,.4))}
.bdg{position:absolute;top:12px;left:12px;z-index:2;padding:5px 12px;border-radius:10px;font-size:.72rem;font-weight:700;backdrop-filter:blur(8px)}
.bdg-h{background:rgba(244,63,94,.25);color:var(--rose);border:1px solid rgba(244,63,94,.3)}
.bdg-n{background:rgba(16,185,129,.25);color:var(--emerald);border:1px solid rgba(16,185,129,.3)}
.bdg-a{background:rgba(14,165,233,.25);color:var(--sky);border:1px solid rgba(14,165,233,.3)}
.bdg-p{background:rgba(245,158,11,.25);color:var(--amber);border:1px solid rgba(245,158,11,.3)}
.c-bd{padding:18px 20px 20px}.c-cat{font-size:.75rem;color:var(--accent-light);font-weight:600;text-transform:uppercase;letter-spacing:1.2px;margin-bottom:7px}
.c-tit{font-size:1.1rem;font-weight:700;margin-bottom:6px;line-height:1.4}
.c-desc{font-size:.88rem;color:var(--text-sec);line-height:1.6;margin-bottom:14px}
.c-ft{display:flex;align-items:center;justify-content:space-between;padding-top:14px;border-top:1px solid var(--border);font-size:.8rem;color:var(--text-dim)}
.ov{display:none;position:fixed;inset:0;z-index:200;background:rgba(6,6,14,.96);backdrop-filter:blur(24px);overflow-y:auto;-webkit-overflow-scrolling:touch}
.ov.open{display:flex;align-items:flex-start;justify-content:center}
.ov-x{position:fixed;top:16px;right:16px;z-index:210;width:44px;height:44px;border-radius:50%;border:1px solid var(--border);background:var(--bg-card);color:var(--text);font-size:1.1rem;display:flex;align-items:center;justify-content:center;transition:var(--tr)}.ov-x:hover{border-color:var(--rose);color:var(--rose)}
.qw{max-width:540px;width:100%;padding:60px 20px 40px}
.prog{width:100%;height:3px;background:var(--border);border-radius:2px;margin-bottom:48px;overflow:hidden}
.prog-bar{height:100%;border-radius:2px;background:linear-gradient(90deg,var(--accent),var(--pink));transition:width .5s cubic-bezier(.4,0,.2,1)}
.qi{text-align:center;animation:fu .5s ease both}.qi .qi-ic{font-size:5rem;margin-bottom:24px}
.qi h2{font-family:var(--serif);font-size:1.8rem;font-weight:700;margin-bottom:14px;line-height:1.4}
.qi .qi-d{color:var(--text-sec);font-size:1.05rem;line-height:1.8;max-width:420px;margin:0 auto 16px}
.qi .qi-m{display:flex;justify-content:center;gap:20px;margin:20px 0 32px;font-size:.9rem;color:var(--text-dim)}
.st-btn{display:inline-flex;align-items:center;gap:8px;padding:18px 44px;border-radius:var(--r-md);background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;font-size:1.1rem;font-weight:700;transition:var(--tr);box-shadow:0 4px 24px rgba(139,92,246,.3)}.st-btn:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(139,92,246,.4)}
.qs{animation:fu .4s ease both}
.q-st{text-align:center;font-size:.88rem;color:var(--accent-light);font-weight:600;margin-bottom:20px}
.q-tx{text-align:center;font-family:var(--serif);font-size:1.45rem;font-weight:700;line-height:1.6;margin-bottom:40px;white-space:pre-line}
.q-ops{display:flex;flex-direction:column;gap:12px}
.q-op{width:100%;padding:18px 22px;text-align:left;border:1px solid var(--border);border-radius:var(--r-md);background:var(--bg-card);color:var(--text);font-size:1.02rem;line-height:1.5;transition:all .25s ease}
.q-back{display:block;margin:24px auto 0;padding:10px 24px;background:transparent;border:1px solid var(--border);border-radius:var(--r-md);color:var(--text-dim);font-size:.88rem;cursor:pointer;transition:all .2s ease}
.q-back:hover{border-color:var(--accent);color:var(--accent-light)}
.q-op:hover{border-color:var(--accent);background:rgba(139,92,246,.06);transform:translateX(4px)}.q-op:active{transform:scale(.98)}
.q-ad{margin:20px 0;padding:18px;text-align:center;background:rgba(139,92,246,.03);border:1px dashed var(--border);border-radius:var(--r-md)}
.res{text-align:center;animation:fu .6s ease both}
.res-bdg{display:inline-block;padding:8px 22px;border-radius:20px;font-size:.85rem;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--pink));margin-bottom:24px}
.res-ic{font-size:5.5rem;margin-bottom:18px}
.res-ty{font-family:var(--serif);font-size:2rem;font-weight:700;margin-bottom:10px;line-height:1.3}
.res-sub{color:var(--accent-light);font-size:1.02rem;margin-bottom:24px}
.res-tags{display:flex;gap:6px;justify-content:center;flex-wrap:wrap;margin-bottom:24px}
.tag{padding:6px 14px;border-radius:16px;font-size:.82rem;border:1px solid var(--border);background:rgba(139,92,246,.06);color:var(--accent-light)}
.res-txt{text-align:left;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--r-md);padding:24px;font-size:.98rem;color:var(--text-sec);line-height:1.9;margin-bottom:28px;white-space:pre-line}
.comp{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--r-md);padding:22px;margin-bottom:24px;text-align:left}
.comp-t{font-size:.95rem;font-weight:700;margin-bottom:12px}.comp-r{display:flex;align-items:center;gap:10px;padding:8px 0;font-size:.92rem}
.comp-g{color:var(--emerald)}.comp-b{color:var(--rose)}
.sh-r{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:28px}
.sh-btn{padding:14px 22px;border-radius:12px;font-size:.92rem;font-weight:600;transition:var(--tr);display:flex;align-items:center;gap:6px}.sh-btn:hover{transform:translateY(-2px)}
.sh-k{background:#FEE500;color:#3C1E1E}.sh-ig{background:linear-gradient(135deg,#833ab4,#fd1d1d,#fcb045);color:#fff}.sh-th{background:#000;color:#fff;border:1px solid #333}.sh-c{background:var(--bg-card);color:var(--text);border:1px solid var(--border)}
.pm-cta{padding:24px;border-radius:var(--r-md);background:linear-gradient(135deg,rgba(139,92,246,.1),rgba(236,72,153,.1));border:1px solid rgba(139,92,246,.2);margin-bottom:24px}
.pm-cta p{font-size:.92rem;color:var(--text-sec);margin-bottom:12px}
.pm-btn{padding:16px 36px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;font-weight:700;font-size:1.05rem;transition:var(--tr)}.pm-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(139,92,246,.3)}
.pm-note{font-size:.78rem;color:var(--text-dim);margin-top:10px}
.retry-r{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:20px}
.retry{flex:1;min-width:140px;padding:16px;text-align:center;border:1px solid var(--border);border-radius:var(--r-md);background:var(--bg-card);color:var(--text);font-size:.95rem;font-weight:600;transition:var(--tr)}.retry:hover{border-color:var(--accent)}
/* Premium Modal */
.pm-ov{display:none;position:fixed;inset:0;z-index:300;background:rgba(6,6,14,.97);backdrop-filter:blur(24px);overflow-y:auto}.pm-ov.open{display:block}
.pm-wrap{max-width:600px;margin:0 auto;padding:40px 20px 60px}
.pm-close{position:fixed;top:16px;right:16px;z-index:310;width:44px;height:44px;border-radius:50%;border:1px solid var(--border);background:var(--bg-card);color:var(--text);font-size:1.1rem;display:flex;align-items:center;justify-content:center}.pm-close:hover{border-color:var(--rose);color:var(--rose)}
.pm-hdr{text-align:center;margin-bottom:40px;padding:32px;background:linear-gradient(135deg,rgba(139,92,246,.08),rgba(236,72,153,.08));border:1px solid rgba(139,92,246,.15);border-radius:var(--r-lg)}
.pm-hdr .pm-ic{font-size:4rem;margin-bottom:14px}.pm-hdr h2{font-family:var(--serif);font-size:1.6rem;font-weight:700;margin-bottom:6px}.pm-hdr .pm-sub{color:var(--accent-light);font-size:.92rem}
.pm-label{font-size:.78rem;text-transform:uppercase;letter-spacing:2px;color:var(--accent-light);font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:6px}
.pm-label::before{content:'';display:inline-block;width:12px;height:2px;background:var(--accent-light)}
.pm-sec{margin-bottom:32px}
.gauge{margin-bottom:14px}.gauge-l{display:flex;justify-content:space-between;font-size:.88rem;margin-bottom:6px}.gauge-l span:first-child{font-weight:600}.gauge-l span:last-child{color:var(--accent-light);font-weight:700}
.gauge-tr{height:8px;background:var(--border);border-radius:4px;overflow:hidden}
.gauge-f{height:100%;border-radius:4px;transition:width 1s cubic-bezier(.4,0,.2,1)}
.gf-p{background:linear-gradient(90deg,var(--accent),var(--pink))}
.gf-g{background:linear-gradient(90deg,#059669,var(--emerald))}
.gf-a{background:linear-gradient(90deg,#d97706,var(--amber))}
.gf-s{background:linear-gradient(90deg,#0284c7,var(--sky))}
.gf-r{background:linear-gradient(90deg,#e11d48,var(--rose))}
.dt-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--r-md);padding:20px;margin-bottom:16px}
.dt-card h4{font-size:1.1rem;font-weight:700;margin-bottom:10px;display:flex;align-items:center;gap:8px}
.dt-card p,.dt-card li{font-size:1.05rem;color:var(--text-sec);line-height:1.95}
.dt-card ul{list-style:none;padding:0}.dt-card li{padding:4px 0}.dt-card li::before{content:'•';color:var(--accent-light);margin-right:8px}
.dt-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
.dt-mini{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:16px;text-align:center}
.dt-mini .dt-val{font-size:1.6rem;font-weight:900;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.dt-mini .dt-lab{font-size:.78rem;color:var(--text-dim);margin-top:4px}
.fm-row{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
.fm-item{text-align:center;border-radius:20px;padding:24px 10px 20px;background:var(--bg-card);border:1px solid var(--border);position:relative;overflow:hidden;transition:all .3s}
.fm-item:hover{transform:translateY(-4px);border-color:rgba(139,92,246,.4);box-shadow:0 8px 24px rgba(139,92,246,.15)}
.fm-item::before{content:'';position:absolute;top:0;left:0;right:0;height:55%;background:linear-gradient(180deg,rgba(139,92,246,.12),transparent);pointer-events:none}
.fm-item .fm-avatar{width:80px;height:80px;border-radius:50%;margin:0 auto 12px;display:flex;align-items:center;justify-content:center;font-size:2.8rem;position:relative;box-shadow:0 6px 20px rgba(0,0,0,.3),inset 0 -3px 6px rgba(0,0,0,.15);border:3px solid rgba(255,255,255,.15)}
.fm-item .fm-avatar.av-1{background:linear-gradient(135deg,#7c3aed,#a78bfa)}
.fm-item .fm-avatar.av-2{background:linear-gradient(135deg,#d97706,#fbbf24)}
.fm-item .fm-avatar.av-3{background:linear-gradient(135deg,#db2777,#f472b6)}
.fm-item .fm-avatar.av-4{background:linear-gradient(135deg,#0284c7,#38bdf8)}
.fm-item .fm-avatar::after{content:'';position:absolute;top:6px;left:12px;width:16px;height:10px;background:rgba(255,255,255,.2);border-radius:50%;transform:rotate(-30deg)}
.fm-item .fm-nm{font-size:1.05rem;font-weight:800;color:var(--text);margin-top:6px}
.fm-item .fm-tag{display:inline-block;margin-top:6px;padding:3px 10px;border-radius:12px;font-size:.75rem;color:var(--accent-light);font-weight:700;background:rgba(139,92,246,.1);border:1px solid rgba(139,92,246,.15)}
@media(max-width:500px){.fm-row{grid-template-columns:repeat(2,1fr);gap:10px}.fm-item .fm-avatar{width:68px;height:68px;font-size:2.2rem}}
footer{border-top:1px solid var(--border);padding:44px 20px;text-align:center;margin-top:60px}
.f-logo{font-family:var(--serif);font-size:1.3rem;font-weight:700;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:12px}
footer .cp{font-size:.82rem;color:var(--text-dim);line-height:1.8}
.f-lnk{margin-top:16px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}.f-lnk a{font-size:.82rem;color:var(--text-dim)}.f-lnk a:hover{color:var(--accent-light)}
@media(max-width:768px){.nav{display:none}.mob-btn{display:flex}.hero{padding:48px 20px 40px}.grid{grid-template-columns:1fr 1fr;gap:12px}.c-vis{height:140px}.c-vis .ic{font-size:2.8rem}.c-bd{padding:14px 16px 16px}.c-tit{font-size:1rem}.c-desc{display:none}.sh-r,.retry-r{flex-direction:column}.sh-btn{width:100%;justify-content:center}.retry{min-width:auto}.dt-grid{grid-template-columns:1fr 1fr}.q-tx{font-size:1.3rem}.q-op{font-size:.98rem;padding:16px 18px}.res-ty{font-size:1.8rem}.res-txt{font-size:.95rem}}
@media(max-width:400px){.grid{grid-template-columns:1fr}.dt-grid{grid-template-columns:1fr}}
/* ===== REVIEW SECTION ===== */
.reviews{max-width:1100px;margin:0 auto;padding:48px 20px}
.reviews .sec-t{margin-bottom:28px}
.rv-track{display:flex;gap:16px;overflow:hidden;position:relative}
.rv-inner{display:flex;gap:16px;animation:rvScroll 40s linear infinite;width:max-content}
.rv-inner:hover{animation-play-state:paused}
@keyframes rvScroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.rv-card{flex-shrink:0;width:300px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--r-lg);padding:24px;transition:all .3s ease}
.rv-card:hover{border-color:rgba(139,92,246,.3);transform:translateY(-3px)}
.rv-top{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.rv-avatar{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.3rem;font-weight:700;color:#fff}
.rv-info{flex:1}
.rv-name{font-size:.92rem;font-weight:700;margin-bottom:2px}
.rv-meta{font-size:.78rem;color:var(--text-dim)}
.rv-stars{color:var(--amber);font-size:.85rem;letter-spacing:2px;margin-bottom:10px}
.rv-test{display:inline-block;padding:4px 10px;border-radius:10px;font-size:.72rem;font-weight:600;background:rgba(139,92,246,.08);color:var(--accent-light);border:1px solid rgba(139,92,246,.15);margin-bottom:12px}
.rv-body{font-size:.92rem;color:var(--text-sec);line-height:1.75}
.rv-body strong{color:var(--text);font-weight:600}
.rv-bottom{margin-top:14px;padding-top:12px;border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
.rv-likes{font-size:.82rem;color:var(--text-dim);display:flex;align-items:center;gap:4px}
.rv-date{font-size:.75rem;color:var(--text-dim)}
@media(max-width:768px){.rv-card{width:280px;padding:20px}.rv-body{font-size:.88rem}}
/* ===== VIRAL REWARD SYSTEM ===== */
.reward-panel{background:linear-gradient(135deg,rgba(139,92,246,.08),rgba(236,72,153,.06));border:1px solid rgba(139,92,246,.2);border-radius:20px;padding:28px 20px;margin:24px 0}
.rw-title{text-align:center;font-family:var(--serif);font-size:1.3rem;font-weight:800;margin-bottom:6px;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.rw-sub{text-align:center;font-size:.95rem;color:var(--text-sec);margin-bottom:20px;line-height:1.6}
.rw-options{display:flex;flex-direction:column;gap:12px}
.rw-opt{display:flex;align-items:center;gap:14px;padding:16px 18px;border-radius:14px;border:1px solid var(--border);background:var(--bg-card);cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}
.rw-opt:hover{border-color:rgba(139,92,246,.4);transform:translateY(-2px);box-shadow:0 6px 20px rgba(139,92,246,.12)}
.rw-opt:active{transform:translateY(0)}
.rw-opt .rw-ic{font-size:2rem;flex-shrink:0}
.rw-opt .rw-info{flex:1}
.rw-opt .rw-info .rw-method{font-size:1.02rem;font-weight:700;margin-bottom:3px}
.rw-opt .rw-info .rw-desc{font-size:.88rem;color:var(--text-sec);line-height:1.5}
.rw-opt .rw-badge{padding:6px 14px;border-radius:20px;font-size:.82rem;font-weight:800;flex-shrink:0}
.rw-badge.free{background:linear-gradient(135deg,#10b981,#34d399);color:#fff}
.rw-badge.pts{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#1a1a2e}
.rw-badge.pay{background:rgba(255,255,255,.08);color:var(--text-sec);border:1px solid var(--border)}
.rw-divider{display:flex;align-items:center;gap:12px;margin:16px 0}
.rw-divider::before,.rw-divider::after{content:'';flex:1;height:1px;background:var(--border)}
.rw-divider span{font-size:.82rem;color:var(--text-dim)}
/* Points bar */
.pts-bar{margin-top:20px;padding:16px 18px;background:var(--bg-card);border:1px solid var(--border);border-radius:14px}
.pts-hd{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.pts-label{font-size:.92rem;font-weight:700}
.pts-val{font-size:1.1rem;font-weight:900;color:var(--amber)}
.pts-track{height:10px;background:rgba(255,255,255,.06);border-radius:6px;overflow:hidden}
.pts-fill{height:100%;border-radius:6px;background:linear-gradient(90deg,#f59e0b,#fbbf24);transition:width 1s ease}
.pts-info{display:flex;justify-content:space-between;margin-top:6px;font-size:.78rem;color:var(--text-dim)}
/* Reward popup */
.rw-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.8);background:var(--bg-card);border:1px solid rgba(139,92,246,.3);border-radius:24px;padding:36px 28px;text-align:center;z-index:10001;opacity:0;pointer-events:none;transition:all .4s cubic-bezier(.4,0,.2,1);max-width:340px;width:90%;box-shadow:0 24px 60px rgba(0,0,0,.4)}
.rw-popup.show{opacity:1;transform:translate(-50%,-50%) scale(1);pointer-events:auto}
.rw-popup-bg{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:10000;opacity:0;pointer-events:none;transition:opacity .3s}
.rw-popup-bg.show{opacity:1;pointer-events:auto}
.rw-popup .rp-ic{font-size:3.5rem;margin-bottom:12px}
.rw-popup .rp-title{font-family:var(--serif);font-size:1.4rem;font-weight:800;margin-bottom:8px;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.rw-popup .rp-msg{font-size:.98rem;color:var(--text-sec);line-height:1.7;margin-bottom:20px}
.rw-popup .rp-btn{width:100%;padding:16px;border:none;border-radius:14px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;font-size:1.05rem;font-weight:700;cursor:pointer}
.rw-popup .rp-btn:hover{filter:brightness(1.1)}
/* Friend invite modal */
.invite-row{display:flex;gap:8px;margin:16px 0}
.invite-row input{flex:1;padding:12px 14px;border:1px solid var(--border);border-radius:10px;background:rgba(255,255,255,.04);color:var(--text);font-size:.92rem}
.invite-row button{padding:12px 18px;border:none;border-radius:10px;background:var(--accent);color:#fff;font-weight:700;cursor:pointer;font-size:.88rem;white-space:nowrap}
/* Referral event banner on main screen */
.event-banner{background:linear-gradient(135deg,rgba(139,92,246,.12),rgba(236,72,153,.08));border:1px solid rgba(139,92,246,.2);border-radius:16px;padding:20px;margin:0 0 28px;text-align:center;position:relative;overflow:hidden}
.event-banner::before{content:'';position:absolute;top:-50%;right:-20%;width:200px;height:200px;background:radial-gradient(circle,rgba(139,92,246,.1),transparent);border-radius:50%}
.event-banner .eb-tag{display:inline-block;padding:5px 14px;border-radius:20px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;font-size:.78rem;font-weight:800;margin-bottom:10px;letter-spacing:.05em}
.event-banner .eb-title{font-family:var(--serif);font-size:1.15rem;font-weight:800;margin-bottom:6px}
.event-banner .eb-desc{font-size:.92rem;color:var(--text-sec);line-height:1.6}
.event-banner .eb-highlight{color:var(--amber);font-weight:800}
@media(max-width:768px){.rw-opt{padding:14px 14px}.rw-opt .rw-ic{font-size:1.6rem}.rw-opt .rw-info .rw-method{font-size:.95rem}.invite-row{flex-direction:column}.invite-row button{width:100%}}
/* Share Progress Dots */
.share-progress{text-align:center;margin:20px 0 24px;padding:18px 16px;border-radius:16px;background:rgba(139,92,246,.06);border:1px solid rgba(139,92,246,.12)}
.sp-label{font-size:.85rem;color:var(--text-sec);margin-bottom:14px;font-weight:600}
.sp-dots{display:flex;align-items:center;justify-content:center;gap:0;margin-bottom:12px}
.sp-dot{width:44px;height:44px;border-radius:50%;border:3px solid var(--border);background:var(--bg-card);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .4s ease;position:relative}
.sp-dot.done{border-color:var(--accent);background:var(--accent);animation:dotPop .4s ease}
.sp-dot.done .sp-num{color:#fff}
.sp-num{font-size:.92rem;font-weight:800;color:var(--text-dim)}
.sp-free{position:absolute;top:-22px;font-size:.65rem;font-weight:800;color:var(--accent);white-space:nowrap;background:rgba(139,92,246,.1);padding:2px 8px;border-radius:10px}
.sp-line{width:32px;height:3px;background:var(--border);transition:background .4s}
.sp-line.done{background:var(--accent)}
.sp-count{font-size:.9rem;font-weight:700;color:var(--text-sec)}
@keyframes dotPop{0%{transform:scale(1)}50%{transform:scale(1.25)}100%{transform:scale(1)}}
/* Coming Soon Section */
.coming-soon{max-width:1100px;margin:0 auto;padding:32px 20px}
.cs-card{position:relative;border-radius:20px;overflow:hidden;cursor:default;border:1px solid var(--border);background:var(--bg-card);box-shadow:0 2px 12px rgba(0,0,0,.06)}
.cs-vis{height:200px;position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden}
.cs-vis .bg{position:absolute;inset:0;opacity:.85}
.cs-vis .ic{font-size:4rem;position:relative;z-index:1;filter:drop-shadow(0 4px 12px rgba(0,0,0,.3))}
.cs-overlay{position:absolute;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(3px);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2}
.cs-dday{font-size:2rem;font-weight:900;color:#fff;text-shadow:0 2px 12px rgba(0,0,0,.4);margin-bottom:4px}
.cs-dday-sub{font-size:.85rem;color:rgba(255,255,255,.85);font-weight:600}
.cs-body{padding:20px}
.cs-badge{display:inline-block;padding:4px 12px;border-radius:20px;font-size:.75rem;font-weight:700;background:linear-gradient(135deg,#f59e0b,#ef4444);color:#fff;margin-bottom:8px}
.cs-title{font-size:1.15rem;font-weight:800;color:var(--text);margin-bottom:6px}
.cs-desc{font-size:.9rem;color:var(--text-sec);line-height:1.6;margin-bottom:12px}
.cs-notify{display:flex;align-items:center;gap:8px}
.cs-notify-btn{flex:1;padding:12px 16px;border-radius:12px;border:none;background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;font-size:.9rem;font-weight:700;cursor:pointer;transition:all .3s}
.cs-notify-btn:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(139,92,246,.3)}
.cs-notify-btn.notified{background:var(--bg-card);border:2px solid var(--accent);color:var(--accent);cursor:default}
@media(max-width:768px){.cs-vis{height:160px}.cs-vis .ic{font-size:3rem}.cs-dday{font-size:1.6rem}}
/* ===== PREMIUM SUMMARY DASHBOARD ===== */
.pm-dash{margin-bottom:36px}
.pm-dash-title{font-family:var(--serif);font-size:1.2rem;font-weight:700;text-align:center;margin-bottom:20px;color:var(--accent-light)}
.pm-radar{display:flex;justify-content:center;margin-bottom:24px}
.pm-radar canvas{max-width:300px;max-height:300px}
.pm-overview{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:24px}
.pm-ov-item{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;padding:22px 14px 18px;text-align:center;cursor:pointer;transition:all .25s ease;position:relative;overflow:hidden}
.pm-ov-item:hover{border-color:rgba(139,92,246,.4);transform:translateY(-3px);box-shadow:0 6px 20px rgba(139,92,246,.12)}
.pm-ov-item .ov-num{position:absolute;top:8px;left:10px;width:22px;height:22px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;font-size:.65rem;font-weight:800;display:flex;align-items:center;justify-content:center}
.pm-ov-item .ov-ic{font-size:2.6rem;margin-bottom:10px;filter:drop-shadow(0 2px 6px rgba(0,0,0,.2))}
.pm-ov-item .ov-label{font-size:.95rem;font-weight:800;color:var(--text);line-height:1.4}
.pm-ov-item .ov-preview{font-size:.78rem;color:var(--text-dim);margin-top:6px;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.pm-ov-item.active{border-color:var(--accent);background:rgba(139,92,246,.08)}
/* Horizontal bar chart summary */
.pm-bars-summary{margin-bottom:28px}
.pm-bar-row{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.pm-bar-label{width:90px;font-size:.9rem;font-weight:600;text-align:right;flex-shrink:0}
.pm-bar-track{flex:1;height:24px;background:rgba(255,255,255,.04);border-radius:12px;overflow:hidden;position:relative}
.pm-bar-fill{height:100%;border-radius:12px;transition:width 1.2s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:flex-end;padding-right:8px;font-size:.72rem;font-weight:700;color:#fff}
.pm-bar-fill.bf-1{background:linear-gradient(90deg,#8b5cf6,#a78bfa)}
.pm-bar-fill.bf-2{background:linear-gradient(90deg,#10b981,#34d399)}
.pm-bar-fill.bf-3{background:linear-gradient(90deg,#f59e0b,#fbbf24)}
.pm-bar-fill.bf-4{background:linear-gradient(90deg,#0ea5e9,#38bdf8)}
.pm-bar-fill.bf-5{background:linear-gradient(90deg,#ec4899,#f472b6)}
/* Key metrics row */
.pm-metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:28px}
.pm-metric{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:16px 10px;text-align:center}
.pm-metric .mt-val{font-size:1.6rem;font-weight:900;margin-bottom:2px}
.pm-metric .mt-val.mt-grade{background:linear-gradient(135deg,var(--amber),#fbbf24);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.pm-metric .mt-val.mt-pct{background:linear-gradient(135deg,var(--emerald),#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.pm-metric .mt-val.mt-score{background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.pm-metric .mt-val.mt-type{background:linear-gradient(135deg,var(--sky),#38bdf8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:1.1rem}
.pm-metric .mt-lab{font-size:.85rem;color:var(--text-dim)}
/* Quick glance grid */
.pm-glance{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:28px}
.pm-gl-item{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:14px}
.pm-gl-item .gl-hd{display:flex;align-items:center;gap:6px;margin-bottom:6px;font-size:.95rem;font-weight:700}
.pm-gl-item .gl-val{font-size:1rem;color:var(--text-sec);line-height:1.6}
@media(max-width:768px){.pm-overview{grid-template-columns:repeat(3,1fr);gap:8px}.pm-metrics{grid-template-columns:repeat(2,1fr)}.pm-glance{grid-template-columns:1fr}}
/* ===== ENHANCED PREMIUM STYLES ===== */
.pm-report-hd{text-align:center;padding:32px 24px;background:linear-gradient(135deg,rgba(139,92,246,.12),rgba(236,72,153,.12));border:1px solid rgba(139,92,246,.2);border-radius:var(--r-lg);margin-bottom:32px;position:relative;overflow:hidden}
.pm-report-hd::before{content:'';position:absolute;top:-50%;right:-50%;width:200px;height:200px;background:radial-gradient(circle,rgba(139,92,246,.08),transparent);border-radius:50%}
.pm-report-hd .rpt-ic{font-size:4.5rem;margin-bottom:14px;filter:drop-shadow(0 4px 12px rgba(0,0,0,.3))}
.pm-report-hd h2{font-family:var(--serif);font-size:1.85rem;font-weight:700;margin-bottom:8px}
.pm-report-hd .rpt-sub{color:var(--accent-light);font-size:1.05rem;margin-bottom:20px}
.pm-report-hd .rpt-meta{display:flex;justify-content:center;gap:20px;flex-wrap:wrap}
.rpt-chip{padding:8px 18px;border-radius:20px;font-size:.92rem;font-weight:700;border:1px solid rgba(139,92,246,.2);background:rgba(139,92,246,.06)}
.rpt-chip.grade-s{color:#f59e0b;border-color:rgba(245,158,11,.3);background:rgba(245,158,11,.08)}
.rpt-chip.grade-a{color:var(--accent-light);border-color:rgba(139,92,246,.3)}
.rpt-chip.pct{color:var(--emerald);border-color:rgba(16,185,129,.3);background:rgba(16,185,129,.08)}
.pm-section{margin-bottom:8px;padding-top:8px}
.pm-divider{height:3px;background:linear-gradient(90deg,transparent,rgba(139,92,246,.3),var(--border),rgba(236,72,153,.3),transparent);margin:40px 0}
.pm-section-title{font-family:var(--serif);font-size:1.75rem;font-weight:900;margin-bottom:28px;padding:20px 0 16px;border-bottom:3px solid;border-image:linear-gradient(90deg,var(--accent),var(--pink),transparent) 1;display:flex;align-items:center;gap:14px;letter-spacing:-.02em;background:linear-gradient(135deg,#e2d9f3,#f5e6f0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.pm-section-title .st-num{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;font-size:.95rem;font-weight:800;display:flex;align-items:center;justify-content:center;font-family:var(--font);flex-shrink:0;box-shadow:0 3px 14px rgba(139,92,246,.35);-webkit-text-fill-color:#fff}
/* Radar-like stats */
.stat-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px}
.stat-box{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:16px;text-align:center}
.stat-box .sb-val{font-size:2.2rem;font-weight:900;background:linear-gradient(135deg,var(--accent-light),var(--pink-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat-box .sb-lab{font-size:.9rem;color:var(--text-dim);margin-top:3px}
.stat-box .sb-bar{height:4px;background:var(--border);border-radius:2px;margin-top:8px;overflow:hidden}
.stat-box .sb-fill{height:100%;border-radius:2px;background:linear-gradient(90deg,var(--accent),var(--pink));transition:width 1.2s cubic-bezier(.4,0,.2,1)}
/* Enhanced gauge with description */
.gauge-ex{margin-bottom:20px;padding:20px 18px;background:var(--bg-card);border:1px solid var(--border);border-radius:14px}
.gauge-ex .ge-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.gauge-ex .ge-name{font-size:1.12rem;font-weight:800;display:flex;align-items:center;gap:8px}
.gauge-ex .ge-val{font-size:1.15rem;font-weight:800;color:var(--accent-light)}
.gauge-ex .ge-track{height:20px;background:rgba(255,255,255,.06);border-radius:10px;overflow:hidden;margin-bottom:14px;position:relative}
.gauge-ex .ge-fill{height:100%;border-radius:10px;transition:width 1.2s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:flex-end;padding-right:10px;font-size:.75rem;font-weight:800;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.3)}
.ge-fill.gf-purple{background:linear-gradient(90deg,#8b5cf6,#a78bfa)}
.ge-fill.gf-green{background:linear-gradient(90deg,#10b981,#34d399)}
.ge-fill.gf-amber{background:linear-gradient(90deg,#f59e0b,#fbbf24)}
.ge-fill.gf-sky{background:linear-gradient(90deg,#0ea5e9,#38bdf8)}
.ge-fill.gf-rose{background:linear-gradient(90deg,#ec4899,#f472b6)}
.cr-fill.gf-purple{background:linear-gradient(90deg,#8b5cf6,#a78bfa)}
.cr-fill.gf-green{background:linear-gradient(90deg,#10b981,#34d399)}
.cr-fill.gf-amber{background:linear-gradient(90deg,#f59e0b,#fbbf24)}
.cr-fill.gf-sky{background:linear-gradient(90deg,#0ea5e9,#38bdf8)}
.cr-fill.gf-rose{background:linear-gradient(90deg,#ec4899,#f472b6)}
.gauge-ex .ge-desc{font-size:1.02rem;color:var(--text-sec);line-height:1.9}
/* Strength/Weakness cards */
.sw-card{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;margin-bottom:12px}
.sw-card .sw-hd{display:flex;align-items:center;gap:8px;margin-bottom:10px}
.sw-card .sw-ic{width:32px;height:32px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:.9rem}
.sw-card .sw-ic.str{background:rgba(16,185,129,.12);border:1px solid rgba(16,185,129,.2)}
.sw-card .sw-ic.wk{background:rgba(244,63,94,.12);border:1px solid rgba(244,63,94,.2)}
.sw-card .sw-nm{font-size:1.08rem;font-weight:700;flex:1}
.sw-card .sw-bd{font-size:1.02rem;color:var(--text-sec);line-height:1.9}
.sw-card .sw-tip{margin-top:12px;padding:14px 16px;background:rgba(139,92,246,.05);border-radius:10px;font-size:1rem;color:var(--accent-light);line-height:1.85;border-left:3px solid var(--accent)}
/* Profile section */
.pf-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px}
.pf-item{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:14px;text-align:center}
.pf-item .pf-ic{font-size:1.5rem;margin-bottom:6px}
.pf-item .pf-lab{font-size:.85rem;color:var(--text-dim);margin-bottom:4px;text-transform:uppercase;letter-spacing:1px}
.pf-item .pf-val{font-size:1.02rem;font-weight:700;color:var(--text)}
/* Compatibility */
.compat-item{display:flex;align-items:center;gap:12px;padding:14px;background:var(--bg-card);border:1px solid var(--border);border-radius:12px;margin-bottom:10px}
.compat-item .ci-ic{font-size:1.8rem;flex-shrink:0}
.compat-item .ci-info{flex:1;min-width:0}
.compat-item .ci-name{font-size:1.02rem;font-weight:700;margin-bottom:2px}
.compat-item .ci-desc{font-size:.95rem;color:var(--text-sec);line-height:1.8}
.compat-item .ci-pct{font-size:1rem;font-weight:900;flex-shrink:0;padding:4px 10px;border-radius:8px;font-size:.82rem}
.ci-pct.high{color:var(--emerald);background:rgba(16,185,129,.1);border:1px solid rgba(16,185,129,.2)}
.ci-pct.mid{color:var(--amber);background:rgba(245,158,11,.1);border:1px solid rgba(245,158,11,.2)}
.ci-pct.low{color:var(--rose);background:rgba(244,63,94,.1);border:1px solid rgba(244,63,94,.2)}
/* Career bars */
.career-item{margin-bottom:18px;padding:16px 18px;background:var(--bg-card);border:1px solid var(--border);border-radius:14px}
.career-item .cr-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.career-item .cr-name{font-size:1.12rem;font-weight:800;display:flex;align-items:center;gap:6px}
.career-item .cr-pct{font-size:1.1rem;font-weight:900;color:var(--accent-light)}
.career-item .cr-bar{height:18px;background:rgba(255,255,255,.06);border-radius:9px;overflow:hidden;margin-bottom:10px}
.career-item .cr-fill{height:100%;border-radius:9px;transition:width 1.2s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:flex-end;padding-right:10px;font-size:.72rem;font-weight:800;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.3)}
.career-item .cr-desc{font-size:.98rem;color:var(--text-sec);margin-top:6px;line-height:1.8}
/* Mission cards */
.mission-card{background:linear-gradient(135deg,rgba(139,92,246,.08),rgba(236,72,153,.08));border:1px solid rgba(139,92,246,.15);border-radius:14px;padding:20px;margin-bottom:12px;position:relative}
.mission-card .mc-week{position:absolute;top:12px;right:14px;font-size:.6rem;font-weight:700;color:var(--accent-light);text-transform:uppercase;letter-spacing:1.5px}
.mission-card .mc-title{font-size:1.1rem;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px}
.mission-card .mc-body{font-size:1.02rem;color:var(--text-sec);line-height:1.9}
.mission-card .mc-action{margin-top:12px;padding:14px 16px;background:linear-gradient(135deg,rgba(139,92,246,.15),rgba(236,72,153,.1));border:1px solid rgba(139,92,246,.25);border-radius:10px;font-size:.95rem;color:var(--accent-light);font-weight:700;cursor:pointer;transition:all .3s;text-align:center}
.mission-card .mc-action:hover{background:linear-gradient(135deg,rgba(139,92,246,.25),rgba(236,72,153,.15));transform:translateY(-1px)}
/* Lucky elements */
.lucky-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:16px}
.lucky-item{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;padding:24px 14px;text-align:center;transition:all .3s}
.lucky-item:hover{transform:translateY(-2px);border-color:rgba(139,92,246,.3)}
.lucky-item .lk-ic{font-size:2.8rem;margin-bottom:10px;filter:drop-shadow(0 2px 8px rgba(0,0,0,.2))}
.lucky-item .lk-lab{font-size:.82rem;color:var(--accent-light);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:8px;font-weight:700}
.lucky-item .lk-val{font-size:1.2rem;font-weight:900;color:var(--text)}
/* Today mission */
.today-mission{background:linear-gradient(135deg,rgba(245,158,11,.08),rgba(236,72,153,.08));border:2px solid rgba(245,158,11,.2);border-radius:var(--r-lg);padding:24px;text-align:center;margin-bottom:24px}
.today-mission .tm-ic{font-size:2.5rem;margin-bottom:10px}
.today-mission .tm-title{font-size:1.15rem;font-weight:700;margin-bottom:8px;color:var(--amber)}
.today-mission .tm-body{font-size:1.08rem;color:var(--text-sec);line-height:1.9}
/* Love deep */
.love-profile{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px}
.lp-item{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:14px}
.lp-item .lp-ic{font-size:1.3rem;margin-bottom:4px}
.lp-item .lp-lab{font-size:.85rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.lp-item .lp-val{font-size:1rem;font-weight:600;line-height:1.7}
/* Insight box */
.insight-box{background:var(--bg-card);border-left:4px solid var(--accent);border-radius:0 12px 12px 0;padding:16px 18px;margin-bottom:16px}
.insight-box .ib-title{font-size:1rem;font-weight:700;margin-bottom:6px;color:var(--accent-light)}
.insight-box .ib-body{font-size:1.05rem;color:var(--text-sec);line-height:1.9}
/* Summary badge row */
.sum-badges{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:16px 0}
.sum-badge{padding:7px 16px;border-radius:16px;font-size:.92rem;font-weight:600}
.sb-gold{background:rgba(245,158,11,.1);color:var(--amber);border:1px solid rgba(245,158,11,.2)}
.sb-purple{background:rgba(139,92,246,.1);color:var(--accent-light);border:1px solid rgba(139,92,246,.2)}
.sb-green{background:rgba(16,185,129,.1);color:var(--emerald);border:1px solid rgba(16,185,129,.2)}
.sb-pink{background:rgba(236,72,153,.1);color:var(--pink-light);border:1px solid rgba(236,72,153,.2)}
@media(max-width:768px){.stat-grid{grid-template-columns:1fr 1fr}.pf-grid{grid-template-columns:1fr 1fr}.lucky-grid{grid-template-columns:repeat(3,1fr)}.love-profile{grid-template-columns:1fr}}
/* ===== PREMIUM GATE STEP ===== */
.pm-gate{margin:24px 0;border-radius:24px;overflow:hidden;position:relative;border:none}
.pm-gate::before{content:'';position:absolute;inset:-2px;border-radius:26px;background:linear-gradient(135deg,var(--accent),var(--pink),var(--amber),var(--accent));z-index:0;animation:pmBorderRotate 4s linear infinite;background-size:300% 300%}
@keyframes pmBorderRotate{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.pm-gate-inner{position:relative;z-index:1;border-radius:22px;background:linear-gradient(170deg,#0c0a1a 0%,#1a1035 50%,#0f0d20 100%);overflow:hidden}
/* --- Header --- */
.pm-gate-header{padding:36px 24px 16px;text-align:center;position:relative;overflow:hidden}
.pm-gate-header::before{content:'';position:absolute;top:-100px;left:50%;transform:translateX(-50%);width:300px;height:300px;background:radial-gradient(circle,rgba(139,92,246,.15),transparent 60%);border-radius:50%}
.pm-gate-badge{display:inline-flex;align-items:center;gap:6px;padding:8px 22px;border-radius:24px;background:linear-gradient(135deg,var(--accent),#7c3aed,var(--pink));color:#fff;font-size:.76rem;font-weight:800;letter-spacing:2px;margin-bottom:18px;box-shadow:0 4px 24px rgba(139,92,246,.5);animation:pmBadgePulse 2s ease-in-out infinite}
@keyframes pmBadgePulse{0%,100%{box-shadow:0 4px 24px rgba(139,92,246,.4)}50%{box-shadow:0 6px 36px rgba(139,92,246,.65)}}
.pm-gate h3{font-family:var(--serif);font-size:1.45rem;font-weight:900;margin-bottom:12px;color:#fff;line-height:1.5}
.pm-gate h3 em{font-style:normal;-webkit-text-fill-color:transparent;background:linear-gradient(90deg,#a78bfa,#f472b6);-webkit-background-clip:text}
/* --- 15가지 Counter Ring --- */
.pm-gate-counter{display:flex;justify-content:center;padding:0 20px 20px}
.pgc-ring{width:100px;height:100px;border-radius:50%;position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;background:conic-gradient(#8b5cf6 0%,#ec4899 33%,#f59e0b 66%,#8b5cf6 100%);padding:3px;animation:pgcSpin 6s linear infinite}
@keyframes pgcSpin{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}
.pgc-ring-inner{width:94px;height:94px;border-radius:50%;background:#0f0d20;display:flex;flex-direction:column;align-items:center;justify-content:center}
.pgc-num{font-size:2rem;font-weight:900;color:#fff;line-height:1}
.pgc-label{font-size:.65rem;font-weight:700;color:rgba(255,255,255,.5);letter-spacing:1px;margin-top:2px}
.pgc-desc{font-size:.88rem;color:rgba(255,255,255,.6);margin-top:10px;text-align:center;flex:1;padding:0 8px}
.pgc-desc strong{color:#fff;font-weight:800}
/* --- Scrolling Preview Strip --- */
.pm-gate-scroll{padding:0 0 16px;overflow:hidden;position:relative}
.pm-gate-scroll::before,.pm-gate-scroll::after{content:'';position:absolute;top:0;bottom:0;width:30px;z-index:2;pointer-events:none}
.pm-gate-scroll::before{left:0;background:linear-gradient(90deg,#0f0d20,transparent)}
.pm-gate-scroll::after{right:0;background:linear-gradient(270deg,#0f0d20,transparent)}
.pgs-track{display:flex;gap:10px;animation:pgsScroll 20s linear infinite;width:max-content;padding:0 20px}
@keyframes pgsScroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.pgs-chip{flex-shrink:0;padding:12px 18px;border-radius:14px;display:flex;align-items:center;gap:8px;font-size:.82rem;font-weight:700;white-space:nowrap}
.pgs-chip .pc-ic{font-size:1.1rem}
.pgs-chip .pc-num{font-size:.62rem;font-weight:800;color:rgba(255,255,255,.4);margin-right:-2px}
.pgs-chip:nth-child(odd){background:rgba(139,92,246,.12);border:1px solid rgba(139,92,246,.2);color:#c4b5fd}
.pgs-chip:nth-child(even){background:rgba(236,72,153,.1);border:1px solid rgba(236,72,153,.18);color:#f9a8d4}
/* --- Blurred Sneak Peek --- */
.pm-gate-sneak{padding:0 20px 16px}
.pg-sneak{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.pg-sneak-item{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px;text-align:center;position:relative;overflow:hidden}
.pg-sneak-item .psi-ic{font-size:1.5rem;margin-bottom:6px}
.pg-sneak-item .psi-label{font-size:.72rem;font-weight:700;color:rgba(255,255,255,.4)}
.pg-sneak-item .psi-val{font-size:1rem;font-weight:900;color:#fff;margin-top:3px}
.pg-sneak-item .psi-val.blr{filter:blur(6px);user-select:none}
.pg-sneak-item .psi-lock{position:absolute;top:8px;right:8px;font-size:.6rem;padding:2px 6px;border-radius:6px;background:rgba(139,92,246,.15);color:rgba(139,92,246,.6)}
/* --- Social Proof --- */
.pm-gate-social{display:flex;align-items:center;justify-content:center;gap:12px;padding:10px 20px 14px}
.pgs-avatars{display:flex}
.pgs-avatars span{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.72rem;font-weight:800;color:#fff;margin-left:-8px;border:2px solid #0f0d20}
.pgs-avatars span:first-child{margin-left:0}
.pgs-text{font-size:.82rem;color:rgba(255,255,255,.5)}
.pgs-text strong{color:var(--amber);font-weight:800}
/* --- CTA --- */
.pm-gate-cta{padding:4px 20px 14px}
.pm-gate-btn{width:100%;padding:20px;border-radius:16px;border:none;background:linear-gradient(135deg,#8b5cf6,#7c3aed,#ec4899);color:#fff;font-size:1.15rem;font-weight:900;cursor:pointer;position:relative;overflow:hidden;transition:all .3s;box-shadow:0 8px 32px rgba(139,92,246,.45);letter-spacing:.5px}
.pm-gate-btn:hover{transform:translateY(-2px);box-shadow:0 12px 44px rgba(139,92,246,.55)}
.pm-gate-btn::after{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 40%,rgba(255,255,255,.13) 50%,transparent 60%);animation:pmShine 2.5s ease-in-out infinite}
@keyframes pmShine{0%,100%{transform:translateX(-100%) rotate(45deg)}50%{transform:translateX(100%) rotate(45deg)}}
.pm-gate-trust{display:flex;justify-content:center;gap:14px;padding:0 20px 20px}
.pm-gate-trust-item{display:flex;align-items:center;gap:4px;font-size:.7rem;color:rgba(255,255,255,.35);font-weight:600}
@media(max-width:500px){.pg-sneak{grid-template-columns:1fr 1fr;gap:6px}.pg-sneak-item{padding:12px 8px}}
/* ===== Share Buttons ===== */
.sh-ig{background:linear-gradient(135deg,#833ab4,#fd1d1d,#fcb045);color:#fff}
.sh-th{background:#000;color:#fff;border:1px solid #333}
.sh-x{background:#1a1a1a;color:#fff;border:1px solid #333}
/* ===== AdSense Blocks ===== */
.ad-native{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:20px;margin:20px 0;text-align:center}
.ad-native .adn-label{font-size:.6rem;text-transform:uppercase;letter-spacing:2px;color:rgba(255,255,255,.2);margin-bottom:8px}
.ad-native .adn-body{min-height:80px;display:flex;align-items:center;justify-content:center;font-size:.82rem;color:var(--text-dim)}
.ad-native-inline{background:linear-gradient(135deg,rgba(139,92,246,.04),rgba(236,72,153,.03));border:1px solid rgba(139,92,246,.1);border-radius:14px;padding:16px;margin:16px 0;text-align:center}
.ad-native-inline .adn-label{font-size:.58rem;text-transform:uppercase;letter-spacing:2px;color:rgba(255,255,255,.18);margin-bottom:6px}
.ad-native-inline .adn-body{min-height:60px;display:flex;align-items:center;justify-content:center;font-size:.78rem;color:var(--text-dim)}
/* ===== COUPANG PRODUCT RECOMMENDATION ===== */
.cp-rec{margin:24px 0;border-radius:16px;overflow:hidden;border:1px solid rgba(139,92,246,.15)}
.cp-mini{margin:20px 0;border-radius:16px;overflow:hidden;border:1px solid rgba(139,92,246,.25);background:var(--bg-card);transition:transform .2s}
.cp-mini:hover{transform:translateY(-2px)}
.cp-mini a{display:flex;align-items:center;gap:14px;padding:16px;text-decoration:none;color:var(--text)}
.cp-mini-img{width:72px;height:72px;border-radius:12px;overflow:hidden;flex-shrink:0}
.cp-mini-img img{width:100%;height:100%;object-fit:cover}
.cp-mini-body{flex:1;min-width:0}
.cp-mini-tag{font-size:.6rem;color:var(--text-dim);letter-spacing:1px;text-transform:uppercase;margin-bottom:3px}
.cp-mini-name{font-size:.95rem;font-weight:800;line-height:1.3;margin-bottom:3px}
.cp-mini-hook{font-size:.78rem;color:var(--accent-light);margin-bottom:8px}
.cp-mini-cta{display:inline-block;padding:5px 14px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;font-size:.72rem;font-weight:700}
.cp-mini-arrow{font-size:1.2rem;color:var(--accent);flex-shrink:0}
.cp-rec-hd{padding:16px 20px 12px;background:linear-gradient(135deg,rgba(139,92,246,.08),rgba(236,72,153,.06));display:flex;align-items:center;justify-content:space-between}
.cp-rec-title{font-size:1rem;font-weight:800;color:var(--text)}
.cp-rec-tag{font-size:.65rem;padding:3px 10px;border-radius:10px;background:rgba(139,92,246,.15);color:var(--accent-light);font-weight:600;letter-spacing:.5px}
.cp-cards{display:flex;gap:12px;padding:16px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}
.cp-cards::-webkit-scrollbar{display:none}
.cp-card{min-width:150px;max-width:150px;border-radius:14px;background:var(--bg-card);border:1px solid var(--border);overflow:hidden;flex-shrink:0;transition:transform .2s;cursor:pointer;text-decoration:none;color:var(--text)}
.cp-card:hover{transform:translateY(-3px);border-color:var(--accent)}
.cp-card-img{width:100%;height:120px;overflow:hidden;position:relative}
.cp-card-img img{width:100%;height:100%;object-fit:cover;transition:transform .3s}
.cp-card:hover .cp-card-img img{transform:scale(1.08)}
.cp-card-hook{position:absolute;bottom:0;left:0;right:0;padding:4px 8px;background:linear-gradient(transparent,rgba(0,0,0,.7));font-size:.68rem;color:#fff;font-weight:700;text-align:right}
.cp-card-body{padding:10px 12px 14px}
.cp-card-name{font-size:.82rem;font-weight:700;line-height:1.4;margin-bottom:6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.cp-card-desc{font-size:.72rem;color:var(--text-dim);margin-bottom:8px}
.cp-card-btn{display:block;text-align:center;padding:7px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;font-size:.75rem;font-weight:700}
.cp-notice{padding:0 20px 12px;font-size:.65rem;color:var(--text-dim);line-height:1.5}
/* ===== AUTH & USER SYSTEM ===== */
.hdr-user{display:flex;align-items:center;gap:10px;margin-left:auto;flex-shrink:0}
.login-btn{padding:8px 18px;border-radius:20px;border:1px solid rgba(139,92,246,.4);background:transparent;color:var(--accent-light);font-size:.88rem;font-weight:700;cursor:pointer;transition:all .3s;white-space:nowrap}
.login-btn:hover{background:rgba(139,92,246,.12);border-color:var(--accent)}
.user-pill{display:flex;align-items:center;gap:8px;padding:6px 14px 6px 8px;border-radius:22px;background:rgba(139,92,246,.08);border:1px solid rgba(139,92,246,.2);cursor:pointer;transition:all .3s;position:relative}
.user-pill:hover{background:rgba(139,92,246,.14);border-color:var(--accent)}
.user-pill .up-avatar{width:30px;height:30px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--pink));display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff;font-weight:800}
.user-pill .up-info{display:flex;flex-direction:column;line-height:1.2}
.user-pill .up-name{font-size:.82rem;font-weight:700;color:var(--text);max-width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.user-pill .up-pts{font-size:.72rem;font-weight:800;color:var(--amber)}
/* User dropdown */
.user-drop{position:absolute;top:calc(100% + 8px);right:0;width:280px;background:var(--bg-card);border:1px solid var(--border);border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.3);z-index:1000;opacity:0;visibility:hidden;transform:translateY(-6px);transition:all .25s ease;overflow:hidden}
.user-drop.show{opacity:1;visibility:visible;transform:translateY(0)}
.ud-header{padding:20px 18px;background:linear-gradient(135deg,rgba(139,92,246,.1),rgba(236,72,153,.08));border-bottom:1px solid var(--border)}
.ud-header .ud-name{font-size:1.05rem;font-weight:800;margin-bottom:2px}
.ud-header .ud-email{font-size:.78rem;color:var(--text-dim)}
.ud-pts-card{margin:12px 14px;padding:14px 16px;background:linear-gradient(135deg,rgba(245,158,11,.1),rgba(251,191,36,.08));border:1px solid rgba(245,158,11,.2);border-radius:12px}
.ud-pts-card .upc-label{font-size:.75rem;color:var(--text-dim);font-weight:600;margin-bottom:4px}
.ud-pts-card .upc-val{font-size:1.5rem;font-weight:900;color:var(--amber)}
.ud-pts-card .upc-sub{font-size:.72rem;color:var(--text-dim);margin-top:2px}
.ud-menu{padding:8px 0}
.ud-item{display:flex;align-items:center;gap:10px;padding:12px 18px;font-size:.9rem;font-weight:600;color:var(--text-sec);cursor:pointer;transition:all .2s}
.ud-item:hover{background:rgba(139,92,246,.06);color:var(--text)}
.ud-item .udi-ic{font-size:1.1rem;width:24px;text-align:center}
.ud-sep{height:1px;background:var(--border);margin:4px 14px}
.ud-item.logout{color:#f43f5e}
/* Auth Modal */
.auth-ov{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(6px);z-index:2000;display:none;align-items:center;justify-content:center;padding:20px}
.auth-ov.show{display:flex}
.auth-box{width:100%;max-width:400px;background:var(--bg);border:1px solid var(--border);border-radius:20px;overflow:hidden;position:relative;max-height:90vh;overflow-y:auto}
.auth-close{position:absolute;top:14px;right:14px;width:32px;height:32px;border-radius:50%;border:none;background:rgba(255,255,255,.06);color:var(--text-sec);font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:1}
.auth-close:hover{background:rgba(255,255,255,.12)}
.auth-hd{text-align:center;padding:32px 24px 20px;background:linear-gradient(135deg,rgba(139,92,246,.08),rgba(236,72,153,.06))}
.auth-hd .ah-ic{font-size:2.5rem;margin-bottom:10px}
.auth-hd h2{font-size:1.3rem;font-weight:800;margin-bottom:4px}
.auth-hd p{font-size:.85rem;color:var(--text-sec)}
.auth-tabs{display:flex;border-bottom:1px solid var(--border)}
.auth-tab{flex:1;padding:14px;text-align:center;font-size:.92rem;font-weight:700;color:var(--text-dim);cursor:pointer;border-bottom:2px solid transparent;transition:all .2s}
.auth-tab.active{color:var(--accent-light);border-bottom-color:var(--accent)}
.auth-body{padding:24px}
.auth-social{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}
.social-btn{display:flex;align-items:center;gap:12px;padding:14px 18px;border-radius:12px;border:1px solid var(--border);font-size:.95rem;font-weight:700;cursor:pointer;transition:all .3s}
.social-btn:hover{transform:translateY(-1px)}
.social-btn.kakao{background:#FEE500;color:#191919;border-color:#FEE500}
.social-btn.google{background:#fff;color:#333;border-color:#ddd}
.social-btn.google:hover{background:#f5f5f5}
.social-btn .sb-ic{font-size:1.3rem;width:28px;text-align:center}
.social-btn .sb-tx{flex:1}
.auth-divider{display:flex;align-items:center;gap:12px;margin:20px 0;font-size:.78rem;color:var(--text-dim);font-weight:600}
.auth-divider::before,.auth-divider::after{content:'';flex:1;height:1px;background:var(--border)}
.auth-field{margin-bottom:14px}
.auth-field label{display:block;font-size:.82rem;font-weight:700;color:var(--text-sec);margin-bottom:6px}
.auth-field input{width:100%;padding:13px 16px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,.03);color:var(--text);font-size:.95rem;outline:none;transition:border-color .3s}
.auth-field input:focus{border-color:var(--accent)}
.auth-field input::placeholder{color:var(--text-dim)}
.auth-submit{width:100%;padding:15px;border-radius:12px;border:none;background:linear-gradient(135deg,var(--accent),var(--pink));color:#fff;font-size:1rem;font-weight:800;cursor:pointer;margin-top:8px;transition:all .3s}
.auth-submit:hover{opacity:.9;transform:translateY(-1px)}
.auth-msg{text-align:center;padding:10px;font-size:.82rem;border-radius:8px;margin-bottom:12px;display:none}
.auth-msg.err{display:block;background:rgba(244,63,94,.1);color:#f43f5e;border:1px solid rgba(244,63,94,.2)}
.auth-msg.ok{display:block;background:rgba(16,185,129,.1);color:#10b981;border:1px solid rgba(16,185,129,.2)}
/* My Page Overlay */
.mypage-ov{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(6px);z-index:1500;display:none;align-items:flex-start;justify-content:center;padding:20px;overflow-y:auto}
.mypage-ov.show{display:flex}
.mypage-box{width:100%;max-width:500px;background:var(--bg);border:1px solid var(--border);border-radius:20px;overflow:hidden;margin-top:40px;margin-bottom:40px}
.mp-close{position:sticky;top:0;text-align:right;padding:14px 16px 0;z-index:1}
.mp-close button{width:32px;height:32px;border-radius:50%;border:none;background:rgba(255,255,255,.06);color:var(--text-sec);font-size:1rem;cursor:pointer}
.mp-profile{text-align:center;padding:10px 24px 28px}
.mp-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--pink));margin:0 auto 14px;display:flex;align-items:center;justify-content:center;font-size:2.2rem;color:#fff;font-weight:900;box-shadow:0 4px 20px rgba(139,92,246,.3)}
.mp-name{font-size:1.3rem;font-weight:800;margin-bottom:2px}
.mp-email{font-size:.82rem;color:var(--text-dim)}
.mp-pts-card{margin:0 20px 20px;padding:20px;background:linear-gradient(135deg,rgba(245,158,11,.12),rgba(251,191,36,.08));border:1px solid rgba(245,158,11,.25);border-radius:16px;text-align:center}
.mp-pts-val{font-size:2.2rem;font-weight:900;color:var(--amber);margin-bottom:4px}
.mp-pts-label{font-size:.82rem;color:var(--text-sec);font-weight:600}
.mp-pts-bar{margin-top:12px;height:8px;background:rgba(255,255,255,.06);border-radius:4px;overflow:hidden}
.mp-pts-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,#f59e0b,#fbbf24);transition:width .8s}
.mp-pts-next{font-size:.72rem;color:var(--text-dim);margin-top:6px}
.mp-section{padding:0 20px 20px}
.mp-sec-title{font-size:.92rem;font-weight:800;color:var(--text);margin-bottom:12px;display:flex;align-items:center;gap:6px}
.mp-earn-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.mp-earn-item{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:14px 12px;text-align:center}
.mp-earn-item .mei-ic{font-size:1.6rem;margin-bottom:6px}
.mp-earn-item .mei-label{font-size:.8rem;font-weight:700;color:var(--text);margin-bottom:2px}
.mp-earn-item .mei-pts{font-size:.85rem;font-weight:800;color:var(--amber)}
.mp-use-list{display:flex;flex-direction:column;gap:8px}
.mp-use-item{display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--bg-card);border:1px solid var(--border);border-radius:12px}
.mp-use-item .mui-ic{font-size:1.3rem}
.mp-use-item .mui-info{flex:1}
.mp-use-item .mui-label{font-size:.88rem;font-weight:700}
.mp-use-item .mui-desc{font-size:.75rem;color:var(--text-dim)}
.mp-use-item .mui-cost{font-size:.85rem;font-weight:800;color:var(--accent-light)}
.mp-history{display:flex;flex-direction:column;gap:6px}
.mp-hist-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;background:rgba(255,255,255,.02)}
.mp-hist-item .mhi-ic{font-size:1.1rem}
.mp-hist-item .mhi-info{flex:1}
.mp-hist-item .mhi-label{font-size:.82rem;font-weight:600}
.mp-hist-item .mhi-date{font-size:.7rem;color:var(--text-dim)}
.mp-hist-item .mhi-pts{font-size:.85rem;font-weight:800}
.mp-hist-item .mhi-pts.plus{color:var(--emerald)}
.mp-hist-item .mhi-pts.minus{color:#f43f5e}
.mp-logout{display:block;width:calc(100% - 40px);margin:0 20px 20px;padding:14px;border-radius:12px;border:1px solid rgba(244,63,94,.3);background:transparent;color:#f43f5e;font-size:.92rem;font-weight:700;cursor:pointer;transition:all .3s}
.mp-logout:hover{background:rgba(244,63,94,.08)}
@media(max-width:768px){.hdr-user .login-btn{padding:7px 14px;font-size:.82rem}.user-pill .up-name{max-width:50px}.user-drop{width:260px;right:-10px}}
</style>
</head>
<body>
<div class="bg-c"><div class="o o1"></div><div class="o o2"></div><div class="o o3"></div></div>
<div class="app">
<header class="hdr"><div class="hdr-in">
  <div class="logo" onclick="goHome(event)" style="cursor:pointer">
    <svg width="150" height="40" viewBox="0 0 150 40" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="logoGr1" x1="0" y1="0" x2="36" y2="36" gradientUnits="userSpaceOnUse">
          <stop offset="0%" stop-color="#8b5cf6"/><stop offset="100%" stop-color="#ec4899"/>
        </linearGradient>
        <linearGradient id="logoGr2" x1="0" y1="0" x2="36" y2="36" gradientUnits="userSpaceOnUse">
          <stop offset="0%" stop-color="#a855f7"/><stop offset="100%" stop-color="#f472b6"/>
        </linearGradient>
        <linearGradient id="logoTxt" x1="0" y1="0" x2="110" y2="0" gradientUnits="userSpaceOnUse">
          <stop offset="0%" stop-color="#8b5cf6"/><stop offset="45%" stop-color="#a855f7"/><stop offset="100%" stop-color="#ec4899"/>
        </linearGradient>
        <filter id="logoGlow"><feGaussianBlur stdDeviation="1.5" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
      </defs>
      <!-- Logomark: Diamond crystal with inner T -->
      <g filter="url(#logoGlow)">
        <path d="M18 2 L32 12 L32 28 L18 38 L4 28 L4 12 Z" fill="url(#logoGr1)" opacity=".92"/>
        <path d="M18 6 L28 13 L28 27 L18 34 L8 27 L8 13 Z" fill="url(#logoGr2)" opacity=".3"/>
      </g>
      <!-- Inner T symbol -->
      <rect x="11" y="13" width="14" height="3" rx="1.5" fill="#fff" opacity=".9"/>
      <rect x="16" y="13" width="3" height="14" rx="1.5" fill="#fff" opacity=".9"/>
      <!-- Sparkle accents -->
      <circle cx="30" cy="6" r="1.8" fill="#f59e0b" opacity=".9"/>
      <circle cx="33" cy="3" r=".8" fill="#fbbf24" opacity=".7"/>
      <circle cx="7" cy="36" r="1" fill="#ec4899" opacity=".5"/>
      <!-- Text -->
      <text x="40" y="24" font-family="'Noto Serif KR',Georgia,serif" font-size="19" font-weight="900" fill="url(#logoTxt)">테스트릭</text>
      <text x="40" y="35" font-family="'Pretendard','Apple SD Gothic Neo',sans-serif" font-size="7.5" fill="#94a3b8" letter-spacing="3" font-weight="700">TESTRIK</text>
    </svg>
  </div>
  <nav class="nav"><a href="#" class="on" onclick="goHome(event)">홈</a><a href="#" onclick="scrollTo_('tests',event)">인기</a><a href="#" onclick="scrollTo_('sec2',event)">전체</a><a href="#" onclick="scrollTo_('comingSoon',event)">🚀 예정</a></nav>
  <div class="hdr-user" id="hdrUser" style="display:none">
    <button class="login-btn" id="loginBtn" onclick="openAuth()">로그인</button>
    <div class="user-pill" id="userPill" style="display:none" onclick="toggleUserDrop()">
      <div class="up-avatar" id="upAvatar">T</div>
      <div class="up-info"><span class="up-name" id="upName">닉네임</span><span class="up-pts" id="upPts">0 P</span></div>
      <div class="user-drop" id="userDrop">
        <div class="ud-header"><div class="ud-name" id="udName">닉네임</div><div class="ud-email" id="udEmail"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9afff7fbf3f6daeeffe9eeb4f9f5f7">[email&#160;protected]</a></div></div>
        <div class="ud-pts-card" style="display:none"><div class="upc-label">보유 포인트</div><div class="upc-val" id="udPts">0 P</div><div class="upc-sub">프리미엄 분석 무료 해제까지 <span id="udPtsLeft">1,900</span>P</div></div>
        <div class="ud-menu">
          <div class="ud-item" onclick="openMyPage()"><span class="udi-ic">👤</span>마이페이지</div>
          <div class="ud-item" onclick="openMyPage('points')"><span class="udi-ic">🏆</span>포인트 내역</div>
          <div class="ud-item" onclick="openMyPage('history')"><span class="udi-ic">📋</span>테스트 기록</div>
          <div class="ud-sep"></div>
          <div class="ud-item logout" onclick="logoutUser()"><span class="udi-ic">🚪</span>로그아웃</div>
        </div>
      </div>
    </div>
  </div>
  <button class="mob-btn" onclick="scrollTo_('tests',event)">☰</button>
</div></header>
<section class="hero" id="hero">
  <div class="hero-b"><span class="pu"></span> 매주 새로운 테스트 업데이트</div>
  <h1>나를 알아가는<br>가장 <span class="gr">재미있는</span> 방법</h1>
  <p>심리테스트, MBTI, 전생, 궁합, 정신연령까지 —<br>당신의 숨겨진 모습을 발견하세요.</p>
  <div class="hero-s">
    <div><div class="st-n" id="sU">0</div><div class="st-l">누적 참여</div></div>
    <div><div class="st-n">8</div><div class="st-l">테스트</div></div>
    <div><div class="st-n">82.4%</div><div class="st-l">만족도</div></div>
  </div>
</section>

<!-- ===== 후기 섹션 ===== -->
<section class="reviews" id="reviews">
  <div class="sec-h"><h2 class="sec-t"><span class="bar"></span>💬 실제 참여자 후기</h2></div>
  <div class="rv-track">
    <div class="rv-inner" id="rvInner"></div>
  </div>
</section>

<section class="sec" id="tests">
  <!-- EVENT BANNER -->
  <div class="event-banner">
    <div class="eb-tag">🎉 OPEN EVENT</div>
    <div class="eb-title">15가지 심층 분석 <span class="eb-highlight">전체 무료!</span></div>
    <div class="eb-desc">테스트 완료 후 <strong>15가지 심층 분석 리포트</strong>를<br>바로 확인할 수 있어요. 친구에게도 공유해보세요! 🎁</div>
  </div>
  <div class="sec-h"><h2 class="sec-t"><span class="bar"></span>🔥 인기 테스트</h2></div>
  <div class="pills" id="pills"></div>
  <div class="grid" id="g1">
    <!-- 정적 콘텐츠 (SEO/크롤러용, JS 로드 시 교체됨) -->
    <div class="card"><div class="c-bd"><h3 class="c-tit">나의 숨겨진 성격 유형은?</h3><p class="c-desc" style="display:block">8가지 질문으로 알아보는 진짜 내면의 성격. 6가지 유형 중 나는 어디에 해당할까? 숨겨진 강점과 약점, 대인관계 패턴까지 심층 분석합니다.</p></div></div>
    <div class="card"><div class="c-bd"><h3 class="c-tit">초정밀 MBTI 검사</h3><p class="c-desc" style="display:block">16가지 성격유형을 기존보다 더 세밀하게 분석. E/I, S/N, T/F, J/P 4가지 차원을 정밀 측정하여 당신만의 MBTI 리포트를 제공합니다.</p></div></div>
    <div class="card"><div class="c-bd"><h3 class="c-tit">전생에 나는 누구였을까?</h3><p class="c-desc" style="display:block">당신의 영혼이 가진 전생의 기억을 탐색합니다. 기사, 학자, 예술가, 귀족, 탐험가 등 과거의 삶이 현재에 미치는 영향을 분석합니다.</p></div></div>
    <div class="card"><div class="c-bd"><h3 class="c-tit">연애 유형 테스트</h3><p class="c-desc" style="display:block">나의 연애 스타일과 사랑의 언어를 알아보세요. 이상적인 파트너 유형과 연애 궁합까지 분석하는 연애 심층 테스트입니다.</p></div></div>
  </div>
</section>
<div class="ad-s"><a href="https://link.coupang.com/a/dPX38G" target="_blank" rel="noopener noreferrer" style="text-decoration:none;display:block"><div style="border-radius:14px;overflow:hidden;border:1px solid rgba(139,92,246,.15);background:var(--bg-card)"><div style="display:flex;gap:0;align-items:stretch"><div style="width:110px;min-height:110px;flex-shrink:0;overflow:hidden"><img src="https://picsum.photos/seed/bookshelf/220/220" alt="책" style="width:100%;height:100%;object-fit:cover"></div><div style="padding:14px 16px;flex:1;display:flex;flex-direction:column;justify-content:center"><div style="font-size:.55rem;text-transform:uppercase;letter-spacing:2px;color:var(--text-dim);margin-bottom:4px">Sponsored</div><div style="font-size:.95rem;font-weight:800;color:var(--text);line-height:1.4;margin-bottom:4px">🔥 나를 바꾸는 한 권의 책</div><div style="font-size:.78rem;color:var(--text-sec);line-height:1.5;margin-bottom:8px">성격 심리학 베스트셀러 — 32,847명이 읽고 변화를 경험했어요</div><div style="display:inline-block;padding:6px 16px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;font-size:.78rem;font-weight:700;text-align:center">쿠팡 최저가 보기 →</div></div></div></div></a><div style="font-size:.6rem;color:var(--text-dim);text-align:center;padding:4px 0">이 포스팅은 쿠팡 파트너스 활동의 일환으로, 일정액의 수수료를 제공받습니다.</div></div>
<section class="sec" id="sec2">
  <div class="sec-h"><h2 class="sec-t"><span class="bar"></span>✨ 새로운 테스트</h2></div>
  <div class="grid" id="g2">
    <div class="card"><div class="c-bd"><h3 class="c-tit">정신연령 테스트</h3><p class="c-desc" style="display:block">실제 나이와 정신연령의 차이를 분석합니다. 판단력, 책임감, 창의력 등 다양한 기준으로 당신의 내면 나이를 측정합니다.</p></div></div>
    <div class="card"><div class="c-bd"><h3 class="c-tit">나의 다크 성향은?</h3><p class="c-desc" style="display:block">누구에게나 있는 내면의 어두운 면을 탐색합니다. 그림자, 반항아, 유령, 가면 중 당신의 다크 성향을 심층 분석합니다.</p></div></div>
    <div class="card"><div class="c-bd"><h3 class="c-tit">숨겨진 재능 발견</h3><p class="c-desc" style="display:block">아직 발견하지 못한 나만의 숨겨진 재능을 찾아보세요. 기술형, 학습형, 사교형, 창작형, 리더형 중 당신의 재능은?</p></div></div>
    <div class="card"><div class="c-bd"><h3 class="c-tit">나를 표현하는 컬러는?</h3><p class="c-desc" style="display:block">색깔에는 에너지가 있습니다. 레드, 블루, 퍼플, 골드, 그린 중 당신의 영혼 컬러와 에너지 균형을 분석합니다.</p></div></div>
  </div>
</section>

<!-- ===== 메인 공유 유도 배너 ===== -->
<div style="max-width:1100px;margin:0 auto;padding:24px 20px">
  <div style="background:linear-gradient(135deg,rgba(139,92,246,.06),rgba(236,72,153,.04));border:1px solid rgba(139,92,246,.15);border-radius:20px;padding:28px 24px;text-align:center">
    <div style="font-size:1.6rem;margin-bottom:8px">💬</div>
    <p style="font-size:1.05rem;font-weight:800;color:var(--text);margin-bottom:6px">친구에게 테스트릭을 알려주세요!</p>
    <p style="font-size:.82rem;color:var(--text-sec);margin-bottom:16px;line-height:1.6">"이거 해봐!" 한마디면 충분해요 😊<br>카톡으로 보내면 같이 결과 비교하는 재미가 두 배!</p>
    <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
      <button onclick="mainShareKakao()" style="background:#FEE500;color:#3C1E1E;border:none;border-radius:12px;padding:12px 24px;font-size:.88rem;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:6px;transition:transform .2s" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform=''">💬 카톡으로 공유</button>
      <button onclick="mainCopyLink()" style="background:var(--bg-card);color:var(--text);border:1px solid var(--border);border-radius:12px;padding:12px 24px;font-size:.88rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;transition:transform .2s" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform=''">🔗 링크 복사</button>
    </div>
  </div>
</div>

<!-- ===== 카카오 애드핏 (메인) ===== -->
<div style="max-width:1100px;margin:0 auto;padding:16px 20px;text-align:center">
  <ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-WcSR8S48AekqmYbK" data-ad-width="320" data-ad-height="100"></ins>
</div>

<!-- ===== 업데이트 예정 테스트 ===== -->
<section class="coming-soon" id="comingSoon">
  <div class="sec-h"><h2 class="sec-t"><span class="bar"></span>🚀 새로운 테스트 준비 중</h2></div>
  <div class="cs-card" id="csCard"></div>
</section>

<!-- ===== SEO 정적 콘텐츠 ===== -->
<section style="max-width:800px;margin:0 auto;padding:48px 20px">
  <article style="color:var(--text-sec);font-size:.88rem;line-height:1.9">
    <h2 style="font-family:var(--serif);font-size:1.3rem;color:var(--text);margin-bottom:20px;text-align:center">테스트릭 — 나를 알아가는 가장 재미있는 방법</h2>
    <p style="margin-bottom:24px">테스트릭은 심리학 기반의 자기탐색 플랫폼입니다. 단순한 재미를 넘어, 과학적 성격 이론과 심리 분석 기법을 활용하여 당신의 숨겨진 성격, 강점, 대인관계 패턴, 연애 스타일까지 심층적으로 분석합니다. 모든 테스트는 무료이며, 테스트 완료 후 15가지 카테고리의 상세 분석 리포트를 받아볼 수 있습니다.</p>

    <h3 style="font-size:1.05rem;color:var(--text);margin:28px 0 12px">🧠 테스트 종류와 분석 방법</h3>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">성격 유형 테스트</strong> — Big Five 성격 모델을 기반으로 내향성, 외향성, 감수성, 논리력, 유연성 등 핵심 성격 차원을 측정합니다. 달빛, 태양, 번개, 봄꽃, 무지개, 산 등 6가지 유형으로 분류하여 직관적으로 이해할 수 있도록 설계했습니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">MBTI 심층 분석</strong> — 기존 MBTI의 4가지 차원(E/I, S/N, T/F, J/P)을 더 세밀한 질문으로 측정합니다. 16가지 성격 유형 각각에 대해 강점, 약점, 적합 직업, 연애 스타일, 스트레스 관리법까지 상세하게 분석합니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">전생 테스트</strong> — 당신의 성격 특성과 가치관을 분석하여 전생의 모습을 추측합니다. 기사, 학자, 예술가, 귀족, 치유사, 탐험가 등 과거의 삶이 현재 성격에 미치는 영향을 재미있게 풀어냅니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">연애 유형 테스트</strong> — 사랑의 5가지 언어(Quality Time, Words of Affirmation, Acts of Service, Physical Touch, Gifts)를 기반으로 당신의 연애 스타일을 분석합니다. 이상적인 파트너 유형과 궁합까지 알 수 있습니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">정신연령 테스트</strong> — 판단력, 책임감, 감성, 창의력 등 다양한 기준으로 당신의 내면 나이를 측정합니다. 실제 나이와 정신연령의 차이가 무엇을 의미하는지 심층 해석을 제공합니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">다크 성향 테스트</strong> — 누구에게나 존재하는 내면의 어두운 면을 탐색합니다. 그림자, 반항아, 유령, 가면 4가지 다크 유형을 분석하며, 이를 건강하게 관리하는 방법을 제시합니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">숨겨진 재능 테스트</strong> — 아직 발견하지 못한 잠재적 재능을 분석합니다. 기술형, 학습형, 사교형, 창작형, 리더형 중 당신의 강점을 파악하고, 이를 활용할 수 있는 구체적인 방법을 안내합니다.</p>
    <p style="margin-bottom:20px"><strong style="color:var(--text)">컬러 심리 테스트</strong> — 색채 심리학을 기반으로 당신의 에너지 컬러를 분석합니다. 레드, 블루, 퍼플, 골드, 그린 각 컬러가 가진 에너지 특성과 균형 팁을 제공합니다.</p>

    <h3 style="font-size:1.05rem;color:var(--text);margin:28px 0 12px">📊 15가지 심층 분석 리포트란?</h3>
    <p style="margin-bottom:20px">테스트릭의 프리미엄 분석은 단순한 유형 분류를 넘어 총 15개 카테고리로 당신을 분석합니다. 종합 성향 대시보드, 핵심 성격 차원 그래프, 숨겨진 내면 분석, 강점과 약점 상세 분석, 성장 전략 로드맵, 대인관계 프로필, 연애 심층 분석, 궁합 상세, 직업 적합도 TOP 5, 재정 성향, 스트레스 관리 전략, 유명인 매칭, 7일 성장 챌린지, 행운의 요소, 오늘의 미션까지 — 하나의 테스트로 종합적인 자기 이해를 얻을 수 있습니다.</p>

    <h3 style="font-size:1.05rem;color:var(--text);margin:28px 0 12px">❓ 자주 묻는 질문</h3>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">Q. 테스트는 정말 무료인가요?</strong><br>네, 모든 테스트와 15가지 심층 분석 리포트가 완전 무료입니다. 별도의 결제나 회원가입 없이 바로 시작할 수 있습니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">Q. 결과는 얼마나 정확한가요?</strong><br>심리학의 Big Five 모델, MBTI 이론, 색채 심리학 등 학술적 기반을 참고하여 설계했습니다. 다만, 전문 심리 상담을 대체하는 것은 아니며 재미와 자기 이해 목적으로 활용하시기를 권장합니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">Q. 개인정보는 안전한가요?</strong><br>테스트 응답 데이터는 결과 산출 후 별도로 저장되지 않습니다. 개인정보처리방침에 따라 최소한의 정보만 처리합니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">Q. 친구와 결과를 비교할 수 있나요?</strong><br>네! 카카오톡, 인스타그램, 스레드 등 다양한 채널로 결과를 공유할 수 있습니다. 친구와 함께 테스트하고 결과를 비교하면 더 재미있습니다.</p>
    <p style="margin-bottom:8px"><strong style="color:var(--text)">Q. 모바일에서도 사용할 수 있나요?</strong><br>테스트릭은 모바일 최적화 웹앱입니다. 스마트폰, 태블릿, PC 어디서든 별도 설치 없이 웹 브라우저에서 바로 이용할 수 있습니다.</p>

    <p style="color:var(--text-dim);font-size:.75rem;line-height:1.7;padding-top:20px;margin-top:24px;border-top:1px solid var(--border)">※ 테스트 결과는 재미와 자기 이해 목적이며, 전문 심리 상담을 대체하지 않습니다. © 2026 테스트릭(Testrik). 문의: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b5d6dadbc1d4d6c1f5c1d0c6c1c7dcde9bd6da9bdec7">[email&#160;protected]</a></p>
  </article>
</section>

<!-- ===== 카카오 애드핏 (하단) ===== -->
<div style="max-width:800px;margin:0 auto;padding:16px 20px;text-align:center">
  <ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-WcSR8S48AekqmYbK" data-ad-width="320" data-ad-height="100"></ins>
</div>

<footer>
  <div class="f-logo">
    <svg width="130" height="34" viewBox="0 0 150 40" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="fLogoGr1" x1="0" y1="0" x2="36" y2="36" gradientUnits="userSpaceOnUse">
          <stop offset="0%" stop-color="#8b5cf6"/><stop offset="100%" stop-color="#ec4899"/>
        </linearGradient>
        <linearGradient id="fLogoGr2" x1="0" y1="0" x2="36" y2="36" gradientUnits="userSpaceOnUse">
          <stop offset="0%" stop-color="#a855f7"/><stop offset="100%" stop-color="#f472b6"/>
        </linearGradient>
        <linearGradient id="fLogoTxt" x1="0" y1="0" x2="110" y2="0" gradientUnits="userSpaceOnUse">
          <stop offset="0%" stop-color="#8b5cf6"/><stop offset="45%" stop-color="#a855f7"/><stop offset="100%" stop-color="#ec4899"/>
        </linearGradient>
      </defs>
      <path d="M18 2 L32 12 L32 28 L18 38 L4 28 L4 12 Z" fill="url(#fLogoGr1)" opacity=".85"/>
      <path d="M18 6 L28 13 L28 27 L18 34 L8 27 L8 13 Z" fill="url(#fLogoGr2)" opacity=".25"/>
      <rect x="11" y="13" width="14" height="3" rx="1.5" fill="#fff" opacity=".85"/>
      <rect x="16" y="13" width="3" height="14" rx="1.5" fill="#fff" opacity=".85"/>
      <text x="40" y="24" font-family="'Noto Serif KR',Georgia,serif" font-size="19" font-weight="900" fill="url(#fLogoTxt)">테스트릭</text>
      <text x="40" y="35" font-family="'Pretendard','Apple SD Gothic Neo',sans-serif" font-size="7.5" fill="#94a3b8" letter-spacing="3" font-weight="700">TESTRIK</text>
    </svg>
  </div>
  <p class="cp">나를 알아가는 가장 재미있는 방법<br>© 2026 Testrik. All rights reserved.</p>
  <div class="f-lnk"><a href="about.html">소개</a><a href="privacy.html">개인정보처리방침</a><a href="terms.html">이용약관</a><a href="contact.html">문의하기</a></div>
</footer>
</div>
<!-- ===== AUTH MODAL ===== -->
<div class="auth-ov" id="authOv">
  <div class="auth-box">
    <button class="auth-close" onclick="closeAuth()">✕</button>
    <div class="auth-hd"><div class="ah-ic">💜</div><h2>테스트릭에 오신 것을 환영해요</h2><p>로그인하고 포인트를 적립하세요!</p></div>
    <div class="auth-tabs">
      <div class="auth-tab active" onclick="switchAuthTab('login')">로그인</div>
      <div class="auth-tab" onclick="switchAuthTab('register')">회원가입</div>
    </div>
    <div class="auth-body" id="authBody">
      <!-- Populated by JS -->
    </div>
  </div>
</div>

<!-- ===== MY PAGE OVERLAY ===== -->
<div class="mypage-ov" id="mypageOv">
  <div class="mypage-box">
    <div class="mp-close"><button onclick="closeMyPage()">✕</button></div>
    <div id="mypageContent"><!-- Populated by JS --></div>
  </div>
</div>

<div class="ov" id="ov"><button class="ov-x" onclick="closeQ()">✕</button><div class="qw" id="qw"></div></div>
<div class="pm-ov" id="pmOv"><button class="pm-close" onclick="closePm()">✕</button><div class="pm-wrap" id="pmW"></div></div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ===== TEST DATA =====
const T=[
// 1. 성격유형
{id:'personality',cat:'심리',badge:'h',bt:'🔥 인기',gr:'linear-gradient(135deg,#667eea,#764ba2)',ic:'🪞',title:'나의 숨겨진 성격 유형은?',desc:'8가지 질문으로 알아보는 진짜 내면',plays:'8,472',time:'2분',
intro:'당신 안에는 아직 발견하지 못한 또 다른 모습이 숨어있습니다.',
qs:[
{q:'친구 약속이 취소됐다.\n첫 반응은?',o:[{t:'🎉 오히려 좋아! 혼자만의 시간!',s:'moon'},{t:'📱 바로 다른 친구에게 연락',s:'sun'},{t:'🤔 왜 취소됐는지 궁금',s:'bolt'},{t:'😢 살짝 서운하지만 괜찮은 척',s:'bloom'}]},
{q:'처음 보는 사람들이\n많은 모임에서?',o:[{t:'🗣️ 먼저 말 걸며 분위기 리드',s:'sun'},{t:'👀 조용히 관찰하다 맞는 사람에게',s:'moon'},{t:'🍽️ 일단 음식 있는 곳으로',s:'rainbow'},{t:'📋 아는 사람 곁에서 소개받기',s:'mountain'}]},
{q:'스트레스 해소법은?',o:[{t:'🎵 혼자 음악 들으며 산책',s:'moon'},{t:'🍻 친구 만나 수다',s:'sun'},{t:'🛒 충동 쇼핑',s:'rainbow'},{t:'📝 할 일 목록 정리',s:'mountain'}]},
{q:'여행 계획 스타일은?',o:[{t:'📋 분 단위 세밀 계획',s:'mountain'},{t:'🎒 대충 숙소만 잡고 즉흥',s:'rainbow'},{t:'📖 현지 문화 미리 공부',s:'bolt'},{t:'💭 느낌 좋은 곳 위주',s:'bloom'}]},
{q:'친구 고민 상담 반응은?',o:[{t:'🧠 상황 분석 후 해결책 제시',s:'bolt'},{t:'🤗 일단 공감하며 위로',s:'bloom'},{t:'🎯 비슷한 내 경험 얘기',s:'sun'},{t:'📚 관련 정보 찾아서 전달',s:'moon'}]},
{q:'이상적인 주말은?',o:[{t:'🏠 넷플릭스와 배달음식',s:'moon'},{t:'🎪 새 팝업스토어 탐방',s:'sun'},{t:'📚 밀린 독서/자기계발',s:'bolt'},{t:'☕ 감성카페 여유',s:'bloom'}]},
{q:'갈등 상황 대처법은?',o:[{t:'🗣️ 솔직하게 말한다',s:'bolt'},{t:'🕊️ 상대 기분 먼저 생각',s:'bloom'},{t:'⏰ 냉각기를 갖는다',s:'moon'},{t:'🤝 절충안 빠르게 제시',s:'sun'}]},
{q:'가장 중요한 가치는?',o:[{t:'🌟 자유와 독립',s:'rainbow'},{t:'🏔️ 안정과 성취',s:'mountain'},{t:'💡 지식과 성장',s:'bolt'},{t:'💕 사랑과 관계',s:'bloom'}]},
{q:'나에게 하루 자유시간이\n주어진다면?',o:[{t:'📱 밀린 영상/웹서핑 폭주',s:'rainbow'},{t:'🧹 그동안 미뤘던 정리정돈',s:'mountain'},{t:'☎️ 오랜 친구에게 연락',s:'bloom'},{t:'📝 미래 계획/자기계발',s:'bolt'}]},
{q:'칭찬받을 때\n기분 좋은 말은?',o:[{t:'🧠 "역시 똑똑해!"',s:'bolt'},{t:'💕 "네가 있어서 든든해"',s:'bloom'},{t:'🌟 "진짜 재밌는 사람이야"',s:'sun'},{t:'🎨 "센스 있다!"',s:'rainbow'}]},
],
results:{
moon:{ic:'🌙',ty:'고요한 달빛',su:'내면의 현자 타입',tg:['깊은 사색가','예민한 감수성','소수정예 관계','풍부한 내면'],tx:'당신은 겉으로 보이는 것보다 훨씬 깊고 풍요로운 내면 세계를 가지고 있습니다.\n\n혼자만의 시간에서 에너지를 충전하며, 깊은 대화와 의미 있는 관계를 중시합니다.\n\n조용한 관찰을 통해 다른 사람들이 놓치는 것들을 포착하는 능력이 탁월합니다.',gd:'빛나는 태양 ☀️',bd:'자유로운 무지개 🌈',pm:{dim:[{n:'내향성',v:92},{n:'직관력',v:88},{n:'감수성',v:85},{n:'독립성',v:78},{n:'공감능력',v:72}],strength:['깊은 통찰을 얻는 능력','감정을 섬세하게 읽는 직관','차분한 분석적 사고력','진정성 있는 관계 형성'],weakness:['새 환경 적응 느림','감정 표현 어려움','과도한 자기 성찰','타인 기대에 맞추려는 스트레스'],career:['작가','심리상담사','연구원','UX디자이너','음악가'],celeb:[{em:'📖',nm:'하루키'},{em:'🎵',nm:'아이유'},{em:'🎬',nm:'봉준호'},{em:'🔬',nm:'아인슈타인'}],advice:'내면의 풍요로움은 큰 자산입니다. 가끔은 생각을 멈추고 행동으로 옮기는 연습이 필요합니다.\n\n💡 실천: 오늘 한 가지 생각을 말이나 글로 표현해보세요.',love:'천천히 마음을 여는 타입. 한번 빠지면 놀랍도록 헌신적이지만 표현이 서투릅니다.\n\n💕 팁: 생각만 하지 말고 작은 것이라도 표현하세요!'}},
sun:{ic:'☀️',ty:'빛나는 태양',su:'에너지 충전소 타입',tg:['타고난 리더십','긍정 에너지','넓은 인맥','빠른 적응력'],tx:'당신은 사람들 사이에서 에너지를 받는 타입입니다.\n\n새로운 만남을 두려워하지 않고, 당신이 있는 곳에는 항상 웃음이 넘칩니다.',gd:'따뜻한 봄꽃 🌸',bd:'고요한 달빛 🌙',pm:{dim:[{n:'외향성',v:95},{n:'사교성',v:90},{n:'리더십',v:85},{n:'적응력',v:82},{n:'낙관성',v:88}],strength:['분위기를 밝히는 에너지','빠른 판단력과 실행력','쉽게 관계를 맺는 능력','유연한 위기 대처'],weakness:['혼자 있기 어려움','깊이보다 넓이 추구','타인 평가에 민감','집중 유지 어려움'],career:['마케터','영업','MC/방송인','이벤트기획자','창업가'],celeb:[{em:'🎤',nm:'유재석'},{em:'🌟',nm:'손흥민'},{em:'🎭',nm:'박보영'},{em:'💼',nm:'일론 머스크'}],advice:'밝은 에너지는 주변을 변화시킵니다. 다만 혼자만의 시간도 의식적으로 만들어보세요.\n\n💡 실천: 오늘 혼자 30분 시간을 갖고 나에게 집중하세요.',love:'적극적이고 표현 풍부한 타입. 항상 즐거운 경험을 선사합니다.\n\n💕 팁: 상대의 조용한 시간도 존중하세요.'}},
bolt:{ic:'⚡',ty:'날카로운 번개',su:'이성의 탐구자 타입',tg:['분석력','객관적 판단','지적 호기심','문제해결'],tx:'당신은 감정보다 논리를 앞세우며 상황을 객관적으로 바라보는 능력이 뛰어납니다.\n\n복잡한 문제도 핵심을 꿰뚫어 봅니다.',gd:'견고한 산 🏔️',bd:'따뜻한 봄꽃 🌸',pm:{dim:[{n:'분석력',v:94},{n:'논리성',v:91},{n:'호기심',v:88},{n:'객관성',v:86},{n:'집중력',v:80}],strength:['체계적 문제 분석','냉철한 판단력','끊임없는 학습 열정','핵심 파악 통찰력'],weakness:['감정 표현 서투름','타인 감정 과소평가','완벽주의 스트레스','관계 거리감'],career:['데이터분석가','개발자','전략컨설턴트','교수','의사/변호사'],celeb:[{em:'🧪',nm:'스티브잡스'},{em:'📊',nm:'워렌 버핏'},{em:'🎯',nm:'제프베조스'},{em:'🔬',nm:'마리 퀴리'}],advice:'분석력은 어떤 분야에서든 빛날 수 있습니다. 논리만으로 풀 수 없는 영역도 있음을 기억하세요.\n\n💡 실천: 오늘 만나는 사람에게 감정을 담아 한마디를 건네보세요.',love:'신중하고 분석적. 감정보다 논리로 접근하는 경향.\n\n💕 팁: 가끔은 분석을 멈추고 느끼는 대로!'}},
bloom:{ic:'🌸',ty:'따뜻한 봄꽃',su:'공감의 예술가 타입',tg:['공감능력','따뜻한 감성','예술적 감각','깊은 배려'],tx:'당신은 다른 사람의 감정을 마치 자신의 것처럼 느끼는 공감 능력의 소유자입니다.\n\n감성적인 영역에서 특히 빛을 발합니다.',gd:'고요한 달빛 🌙',bd:'날카로운 번개 ⚡',pm:{dim:[{n:'공감능력',v:96},{n:'감수성',v:93},{n:'배려심',v:90},{n:'예술성',v:85},{n:'직관력',v:80}],strength:['미묘한 감정 변화를 읽어내는 능력','따뜻한 위로와 공감','예술적 감각과 창의적 표현력','갈등에서 조화를 이끄는 힘'],weakness:['타인 감정에 과도하게 영향','거절 어려움','자기 희생적 경향','감정에 압도'],career:['상담사','간호사','예술가','교사','크리에이터'],celeb:[{em:'🎨',nm:'반고흐'},{em:'🎵',nm:'BTS RM'},{em:'📖',nm:'헤르만헤세'},{em:'🌸',nm:'다이애나비'}],advice:'따뜻함은 세상에 꼭 필요한 선물입니다. 하지만 남을 돌보기 전에 자신을 먼저 돌보세요.\n\n💡 실천: 오늘은 나를 위한 시간을 먼저 확보하세요.',love:'전부를 주는 헌신적 타입. 작은 변화도 놓치지 않는 세심함.\n\n💕 팁: 건강한 경계를 유지하며 사랑하세요.'}},
rainbow:{ic:'🌈',ty:'자유로운 무지개',su:'즉흥의 모험가 타입',tg:['유연한 사고','창의적','모험 정신','호기심'],tx:'당신은 계획보다 즉흥을 사랑하는 자유로운 영혼입니다.\n\n예상치 못한 상황에서 오히려 빛을 발합니다.',gd:'빛나는 태양 ☀️',bd:'견고한 산 🏔️',pm:{dim:[{n:'창의력',v:93},{n:'모험심',v:90},{n:'적응력',v:88},{n:'자유',v:95},{n:'호기심',v:91}],strength:['창의적 문제해결','유연한 적응력','새 시도 두려워하지 않는 용기','주변에 영감을 주는 존재'],weakness:['집중 유지 어려움','책임감/끈기 부족','계획 없는 행동','안정적 관계 어려움'],career:['스타트업CEO','여행작가','광고크리에이터','프리랜서','탐험가'],celeb:[{em:'🎨',nm:'앤디워홀'},{em:'✈️',nm:'리처드브랜슨'},{em:'🎬',nm:'타란티노'},{em:'🌍',nm:'체게바라'}],advice:'자유로운 영혼은 세상을 더 재미있게 만듭니다. 가끔은 한 곳에 깊이 뿌리를 내리는 것도 모험입니다.\n\n💡 실천: 진행 중인 프로젝트 하나를 끝까지 마무리하세요.',love:'자유롭고 스릴 있는 관계를 원합니다.\n\n💕 팁: 자유와 책임은 함께 갑니다.'}},
mountain:{ic:'🏔️',ty:'견고한 산',su:'계획의 건축가 타입',tg:['계획력','책임감','체계적','목표지향'],tx:'당신은 계획하고 실행하는 것에서 깊은 만족을 느끼는 타입입니다.\n\n어떤 일이든 완벽하게 마무리합니다.',gd:'날카로운 번개 ⚡',bd:'자유로운 무지개 🌈',pm:{dim:[{n:'계획력',v:95},{n:'책임감',v:93},{n:'실행력',v:90},{n:'인내심',v:88},{n:'체계성',v:92}],strength:['목표 달성 추진력','체계적 효율 극대화','약속 지키며 신뢰 쌓기','위기에도 흔들리지 않는 안정감'],weakness:['유연성 부족','변화에 스트레스','완벽주의 자기 압박','다른 방식 인정 어려움'],career:['PM','공무원','회계사','건축가','군인/경찰'],celeb:[{em:'🏗️',nm:'이건희'},{em:'📋',nm:'메르켈'},{em:'⚖️',nm:'워싱턴'},{em:'🏔️',nm:'힐러리'}],advice:'체계적 능력은 어떤 조직에서든 핵심 역할을 합니다. 계획대로 안 될 때도 있다는 걸 받아들이면 더 강해집니다.\n\n💡 실천: 계획에 없던 것을 하나 시도해보세요.',love:'진지하고 성실한 타입. 안정적 미래를 함께 그릴 파트너를 원합니다.\n\n💕 팁: 가끔은 즉흥 데이트도!'}}
}},
// 2. MBTI
{id:'mbti',cat:'mbti',badge:'h',bt:'🔥 인기',gr:'linear-gradient(135deg,#4facfe,#00f2fe)',ic:'🧬',title:'초정밀 MBTI 검사',desc:'16가지 성격유형을 세밀하게 분석',plays:'12,041',time:'3분',
intro:'기존 MBTI보다 더 세밀한 질문으로 4가지 성격 차원을 정밀 측정합니다.',
qs:[
{q:'금요일 저녁,\n에너지 충전법은?',o:[{t:'🎉 친구들과 시끌벅적한 모임',d:'E'},{t:'📖 혼자 좋아하는 것에 몰두',d:'I'}]},
{q:'새 프로젝트 시작 시?',o:[{t:'📊 데이터와 사례 먼저 수집',d:'S'},{t:'💡 전체 그림과 가능성 구상',d:'N'}]},
{q:'친구가 실연 당했을 때?',o:[{t:'🤗 "힘들었겠다" 공감 먼저',d:'F'},{t:'🧠 "무슨 일이었어?" 상황파악',d:'T'}]},
{q:'해외여행 전날 상태는?',o:[{t:'📋 짐리스트 체크, 일정 최종확인',d:'J'},{t:'🎒 내일 아침에 싸면 되지~',d:'P'}]},
{q:'대화할 때 나는?',o:[{t:'🗣️ 말하면서 생각 정리',d:'E'},{t:'🤔 충분히 생각 후 말하기',d:'I'}]},
{q:'문제 해결 접근은?',o:[{t:'🔍 검증된 방법이 안전',d:'S'},{t:'🚀 새로운 방법 시도하고 싶다',d:'N'}]},
{q:'팀 의견 충돌 시?',o:[{t:'📐 논리적으로 맞는 쪽 선택',d:'T'},{t:'🤝 팀원 감정 고려해 조율',d:'F'}]},
{q:'주말 계획이 갑자기\n바뀌면?',o:[{t:'😣 불편, 계획이 있었는데',d:'J'},{t:'😊 오히려 좋아! 새 기회!',d:'P'}]},
{q:'SNS에 사진을\n올릴 때?',o:[{t:'📸 바로바로 올린다',d:'E'},{t:'🤔 고르고 또 고른다',d:'I'}]},
{q:'중요한 결정을\n내릴 때?',o:[{t:'📊 장단점 리스트 작성',d:'T'},{t:'💭 마음이 끌리는 쪽',d:'F'}]},
],
mbti:{
INTJ:{ic:'🏗️',ty:'INTJ — 전략의 설계자',su:'독립적이고 전략적인 사색가',tg:['전략적 사고','독립심','완벽주의','혁신'],tx:'당신은 INTJ, 전략의 설계자입니다.\n\n복잡한 문제를 체계적으로 분석하고 장기 비전을 세우는 데 탁월합니다.',gd:'ENFP 🎪',bd:'ESFP 🎭',pm:{dim:[{n:'전략성',v:95},{n:'독립심',v:92},{n:'분석력',v:90},{n:'비전',v:88},{n:'결단력',v:85}],strength:['장기 전략 수립','복잡한 시스템 이해','독립적 문제해결','높은 자기 기준'],weakness:['감정 표현 어려움','타인 인내 부족','완벽주의 압박','사교 스트레스'],career:['전략컨설턴트','과학자','시스템아키텍트','투자분석가'],celeb:[{em:'🎯',nm:'일론 머스크'},{em:'📐',nm:'니콜라 테슬라'},{em:'♟️',nm:'마그누스 칼센'},{em:'📖',nm:'아이작 뉴턴'}],advice:'전략적 사고는 탁월합니다. 감정적 지능도 함께 키우면 진정한 리더가 됩니다.\n\n💡 실천: 누군가에게 진심 어린 칭찬을 해보세요.',love:'깊고 지적인 교감을 원합니다. 피상적 관계에 관심 없습니다.\n\n💕 팁: 논리 대신 감정으로 대화하는 시간을 만드세요.'}},
INTP:{ic:'🔬',ty:'INTP — 논리의 탐험가',su:'끝없이 질문하는 사색가',tg:['논리','호기심','분석력','창의성'],tx:'세상의 원리를 이해하고 싶은 끝없는 호기심의 소유자.',gd:'ENTJ 👑',bd:'ESFJ 🤗',pm:{dim:[{n:'논리력',v:96},{n:'호기심',v:94},{n:'독창성',v:90},{n:'분석력',v:92},{n:'유연성',v:80}],strength:['패턴과 원리 발견','독창적 이론 구축','복잡한 논리 추론','끝없는 학습 의지'],weakness:['실행력 부족','감정 처리 미숙','사교 어려움','현실 디테일 간과'],career:['AI연구원','철학자','수학자','개발자'],celeb:[{em:'🧪',nm:'아인슈타인'},{em:'💻',nm:'빌게이츠'},{em:'📖',nm:'소크라테스'},{em:'🔬',nm:'다윈'}],advice:'지적 능력은 세상을 바꿀 수 있습니다. 아이디어를 실행하는 힘을 기르세요.\n\n💡 실천: 떠오른 아이디어 하나를 실행해보세요.',love:'지적 자극이 최고의 로맨스.\n\n💕 팁: 상대의 감정적 필요에도 관심을.'}},
ENTJ:{ic:'👑',ty:'ENTJ — 타고난 지휘관',su:'강력한 리더십의 소유자',tg:['리더십','결단력','전략적','효율성'],tx:'카리스마 넘치는 리더십으로 사람들을 이끕니다.',gd:'INFP 🦋',bd:'ISFP 🎨',pm:{dim:[{n:'리더십',v:96},{n:'결단력',v:94},{n:'전략성',v:92},{n:'추진력',v:90},{n:'자신감',v:93}],strength:['강력한 비전 제시','빠른 의사결정','팀 동기부여','목표 달성 끈기'],weakness:['독단적 경향','감정 민감성 부족','휴식 간과','타인 속도 기다리기 어려움'],career:['CEO','정치인','변호사','PD'],celeb:[{em:'👑',nm:'스티브잡스'},{em:'🏢',nm:'대처'},{em:'⚡',nm:'나폴레옹'},{em:'💼',nm:'셰릴샌드버그'}],advice:'리더십에 공감을 더하면 위대한 리더가 됩니다.\n\n💡 실천: 팀원 의견을 끝까지 들어보세요.',love:'주도적이고 계획적. 함께 성장할 파트너를 원합니다.\n\n💕 팁: 연인 앞에서 약한 모습도 보여주세요.'}},
ENTP:{ic:'💡',ty:'ENTP — 아이디어 발명가',su:'창의적 토론의 달인',tg:['창의력','토론','적응력','혁신'],tx:'끊임없이 새로운 가능성을 탐구합니다.',gd:'INFJ 🔮',bd:'ISTJ 🏛️',pm:{dim:[{n:'창의력',v:95},{n:'화술',v:92},{n:'적응력',v:90},{n:'호기심',v:93},{n:'대담성',v:88}],strength:['혁신적 사고','재치있는 화술','빠른 상황 판단','다양한 관점 접근'],weakness:['집중력 유지 어려움','말 앞서는 경향','감정적 깊이 부족','루틴 거부'],career:['기업가','크리에이티브D','변호사','정치분석가'],celeb:[{em:'💡',nm:'에디슨'},{em:'🎤',nm:'마크트웨인'},{em:'🚀',nm:'파인만'},{em:'🎭',nm:'바론코엔'}],advice:'아이디어를 현실로 만드는 실행력을 키워보세요.\n\n💡 실천: 오늘 시작한 것을 끝까지 완성하세요.',love:'지적 자극이 곧 로맨스.\n\n💕 팁: 깊이 있는 감정 교류도 시도하세요.'}},
INFJ:{ic:'🔮',ty:'INFJ — 신비로운 예언자',su:'통찰력 깊은 이상주의자',tg:['직관력','공감','이상주의','창의성'],tx:'가장 희귀한 성격유형. 깊은 통찰력으로 세상을 바꾸고 싶은 이상을 품고 있습니다.',gd:'ENTP 💡',bd:'ESTP 🎯',pm:{dim:[{n:'직관력',v:96},{n:'공감능력',v:94},{n:'이상주의',v:92},{n:'통찰력',v:95},{n:'진정성',v:90}],strength:['사람 본질을 꿰뚫는 직관','깊은 공감','원대한 비전','진정성 리더십'],weakness:['현실/이상 괴리 좌절','과도한 자기기대','번아웃','갈등 회피'],career:['심리상담사','작가','NGO활동가','교육자'],celeb:[{em:'📖',nm:'마틴루터킹'},{em:'🌿',nm:'간디'},{em:'✍️',nm:'도스토예프스키'},{em:'🎵',nm:'레이디가가'}],advice:'이상을 현실에 연결하는 다리를 놓아보세요. 완벽하지 않아도 괜찮습니다.\n\n💡 실천: 작은 것부터 시작하세요.',love:'소울메이트를 찾는 타입. 표면적 관계 무관심.\n\n💕 팁: 완벽한 사람은 없음을 받아들이세요.'}},
INFP:{ic:'🦋',ty:'INFP — 몽상가 시인',su:'이상을 좇는 감성 예술가',tg:['감수성','이상주의','창작능력','진정성'],tx:'풍부한 상상력과 깊은 감수성으로 세상을 바라봅니다.',gd:'ENTJ 👑',bd:'ESTJ ⚖️',pm:{dim:[{n:'감수성',v:96},{n:'상상력',v:95},{n:'진정성',v:93},{n:'이상주의',v:91},{n:'창의력',v:90}],strength:['풍부한 감정 표현','자기 가치관에 충실','진정성 있는 관계','놀라운 공감능력'],weakness:['현실적 판단 어려움','비판에 민감','결정 장애','실행력 부족'],career:['시인/소설가','상담사','뮤지션','사진작가'],celeb:[{em:'📖',nm:'셰익스피어'},{em:'🎵',nm:'존레논'},{em:'✨',nm:'오드리헵번'},{em:'🎨',nm:'블레이크'}],advice:'감성은 세상에 필요한 아름다움입니다. 현실과 이상의 균형을 찾으세요.\n\n💡 실천: 이상을 글/그림으로 표현해보세요.',love:'운명적 사랑을 믿는 로맨티스트.\n\n💕 팁: 이상적 파트너상에 너무 집착 말기.'}},
ENFJ:{ic:'🌟',ty:'ENFJ — 열정의 멘토',su:'사람을 성장시키는 리더',tg:['카리스마','공감','리더십','영감'],tx:'타인의 잠재력을 알아보고 성장을 돕는 천부적 재능.',gd:'ISTP 🔧',bd:'INTP 🔬',pm:{dim:[{n:'카리스마',v:94},{n:'공감능력',v:93},{n:'리더십',v:91},{n:'소통력',v:95},{n:'헌신성',v:90}],strength:['동기부여 능력','갈등 해결','잠재력 발견','따뜻한 리더십'],weakness:['자기 희생 과도','비판 예민','과도한 기대','번아웃'],career:['교사','인사담당','코치','외교관'],celeb:[{em:'🌟',nm:'오바마'},{em:'🕊️',nm:'만델라'},{em:'🎭',nm:'오프라'},{em:'💪',nm:'말랄라'}],advice:'남을 돌보기 전에 자신을 먼저 돌보세요.\n\n💡 실천: 오늘 "No"라고 말하는 연습.',love:'연인의 성장을 돕는 것이 사랑의 표현.\n\n💕 팁: 상대를 바꾸려 하지 말고 있는 그대로.'}},
ENFP:{ic:'🎪',ty:'ENFP — 자유로운 열정가',su:'가능성을 보는 낙관주의자',tg:['열정','창의력','사교성','낙관'],tx:'세상의 무한한 가능성에 설레며 새로운 영감을 발견합니다.',gd:'INTJ 🏗️',bd:'ISTJ 🏛️',pm:{dim:[{n:'열정',v:95},{n:'창의력',v:93},{n:'사교성',v:91},{n:'낙관성',v:94},{n:'적응력',v:88}],strength:['전염력 있는 열정','창의적 아이디어','다양한 연결','긍정적 분위기'],weakness:['집중력 유지 어려움','깊이보다 넓이','현실적 계획 부족','감정 기복'],career:['크리에이터','마케터','여행작가','기업가'],celeb:[{em:'🎤',nm:'로빈윌리엄스'},{em:'🌈',nm:'엘런'},{em:'🎭',nm:'로다주'},{em:'🎪',nm:'월트디즈니'}],advice:'열정을 한 곳에 집중하면 놀라운 결과를.\n\n💡 실천: 가장 설레는 프로젝트 하나에 집중.',love:'사랑에 빠지면 온 세상이 반짝.\n\n💕 팁: 초반 열정이 식어도 관계 유지하는 법을.'}},
ISTJ:{ic:'🏛️',ty:'ISTJ — 신뢰의 수호자',su:'원칙과 책임의 화신',tg:['성실함','책임감','체계적','신뢰'],tx:'맡은 일은 반드시 완수하는 강한 책임감.',gd:'ESFP 🎭',bd:'ENFP 🎪',pm:{dim:[{n:'책임감',v:96},{n:'성실함',v:95},{n:'체계성',v:93},{n:'신뢰도',v:94},{n:'인내력',v:90}],strength:['흔들림 없는 책임감','체계적 업무','약속 지키는 신뢰','꾸준한 인내'],weakness:['변화 저항','감정 표현 부족','유연성 부족','새 시도 꺼림'],career:['회계사','공무원','군인','은행원'],celeb:[{em:'👑',nm:'엘리자베스2세'},{em:'⚖️',nm:'워싱턴'},{em:'💼',nm:'버핏'},{em:'🏛️',nm:'메르켈'}],advice:'변화도 성장의 일부. 새로운 것을 시도하는 용기를.\n\n💡 실천: 다른 경로로 출퇴근해보세요.',love:'진지하고 성실. 한번 약속하면 끝까지.\n\n💕 팁: 가끔 즉흥적 이벤트로 놀래켜보세요.'}},
ISFJ:{ic:'🛡️',ty:'ISFJ — 따뜻한 수호자',su:'헌신적인 배려의 달인',tg:['헌신','배려','관찰력','인내심'],tx:'세심한 관찰력으로 타인의 필요를 먼저 알아챕니다.',gd:'ESTP 🎯',bd:'ENTP 💡',pm:{dim:[{n:'배려심',v:96},{n:'헌신성',v:94},{n:'관찰력',v:92},{n:'인내심',v:90},{n:'성실함',v:93}],strength:['세심한 관찰과 배려','묵묵한 헌신','안정적 관계','실질적 도움'],weakness:['자기 주장 부족','변화 불안','과도한 자기 희생','스트레스 내면화'],career:['간호사','사서','교사','행정직'],celeb:[{em:'🛡️',nm:'마더테레사'},{em:'🌸',nm:'케이트미들턴'},{em:'📖',nm:'로사파크스'},{em:'🏥',nm:'나이팅게일'}],advice:'자신의 필요도 타인의 필요만큼 중요합니다.\n\n💡 실천: 오늘은 내가 원하는 것을 먼저 하세요.',love:'헌신적이고 따뜻한 연인.\n\n💕 팁: 자신의 감정도 중요하게 다뤄주세요.'}},
ESTJ:{ic:'⚖️',ty:'ESTJ — 결단의 관리자',su:'효율적인 조직의 달인',tg:['결단력','조직력','실행력','리더십'],tx:'명확한 원칙과 기준으로 조직을 이끕니다.',gd:'ISFP 🎨',bd:'INFP 🦋',pm:{dim:[{n:'결단력',v:94},{n:'조직력',v:93},{n:'실행력',v:95},{n:'리더십',v:90},{n:'책임감',v:92}],strength:['빠른 의사결정','효율적 조직 운영','명확한 규칙','강한 실행력'],weakness:['독단적','감정 유연성 부족','지나친 통제','변화 저항'],career:['관리자','판사','사업가','PM'],celeb:[{em:'⚖️',nm:'힐러리'},{em:'💼',nm:'잭웰치'},{em:'🏢',nm:'헨리포드'},{em:'👔',nm:'사이먼코웰'}],advice:'효율성뿐 아니라 팀원 감정에도 관심을.\n\n💡 실천: 의견 말하기 전 3초 멈추고 상대 입장을.',love:'듬직하고 책임감 있는 연인. 감정 표현에 노력 필요.\n\n💕 팁: "사랑해"도 계획에 넣어보세요.'}},
ESFJ:{ic:'🤗',ty:'ESFJ — 화합의 외교관',su:'모두를 이어주는 연결고리',tg:['사교성','배려심','화합','친화력'],tx:'사람들 사이의 관계를 조화롭게 이어줍니다.',gd:'ISTP 🔧',bd:'INTP 🔬',pm:{dim:[{n:'사교성',v:95},{n:'배려심',v:94},{n:'조화',v:92},{n:'헌신성',v:90},{n:'친화력',v:93}],strength:['조화로운 관계 형성','실질적 배려','갈등 해결','팀 분위기 조성'],weakness:['갈등 회피','타인 의견에 휘둘림','비판 예민','정체성 혼란'],career:['이벤트플래너','HR','간호사','교사'],celeb:[{em:'🤗',nm:'테일러스위프트'},{em:'🌟',nm:'빌클린턴'},{em:'💖',nm:'제니퍼가너'},{em:'🎤',nm:'휴잭맨'}],advice:'모든 사람을 만족시킬 수는 없습니다. 자신의 기준도 중요히.\n\n💡 실천: 자신을 위한 결정 하나를 내려보세요.',love:'연인을 최우선으로 생각하는 헌신적 타입.\n\n💕 팁: 자신도 사랑해주세요.'}},
ISTP:{ic:'🔧',ty:'ISTP — 냉철한 장인',su:'실용적 문제해결의 달인',tg:['실용성','분석력','독립심','적응력'],tx:'위기 상황에서 냉철하게 판단합니다.',gd:'ENFJ 🌟',bd:'ENFJ 🌟',pm:{dim:[{n:'실용성',v:94},{n:'적응력',v:92},{n:'분석력',v:90},{n:'독립심',v:93},{n:'침착함',v:91}],strength:['위기 냉철함','손재주/기술','논리적 문제해결','독립적 실행'],weakness:['감정 표현 어려움','장기 계획 부족','약속 부담','사회적 불편'],career:['엔지니어','정비사','파일럿','스포츠선수'],celeb:[{em:'🔧',nm:'이스트우드'},{em:'🏎️',nm:'마이클조던'},{em:'🎸',nm:'키아누리브스'},{em:'🛠️',nm:'올리비아와일드'}],advice:'감정도 기술처럼 연습이 필요합니다.\n\n💡 실천: 감사한 사람에게 감사 말을.',love:'자유롭고 쿨한 연애. 속박 싫어.\n\n💕 팁: 진솔한 감정적 대화를 시도.'}},
ISFP:{ic:'🎨',ty:'ISFP — 감성의 예술가',su:'아름다움을 창조하는 영혼',tg:['예술성','감수성','진정성','자유'],tx:'세상의 아름다움에 깊이 감동하며 자신만의 방식으로 표현합니다.',gd:'ESTJ ⚖️',bd:'ENTJ 👑',pm:{dim:[{n:'예술성',v:95},{n:'감수성',v:93},{n:'진정성',v:91},{n:'자유',v:90},{n:'관찰력',v:88}],strength:['미적 감각','현재 순간 충실','진정성 자기표현','자연과 교감'],weakness:['갈등 회피','장기 계획 어려움','비판 민감','실용성 부족'],career:['아티스트','뮤지션','플로리스트','셰프','패션디자이너'],celeb:[{em:'🎨',nm:'모네'},{em:'🎵',nm:'마이클잭슨'},{em:'🌿',nm:'밥로스'},{em:'🎬',nm:'기무라타쿠야'}],advice:'감성을 세상과 나누세요. 그것이 예술이 됩니다.\n\n💡 실천: 아름답다 느낀 것을 사진/글로.',love:'말없이 행동으로 사랑 표현.\n\n💕 팁: 때로는 말로도 사랑을 전하세요.'}},
ESTP:{ic:'🎯',ty:'ESTP — 대담한 도전자',su:'행동이 말보다 빠른 실행가',tg:['행동력','대담함','적응력','현실감각'],tx:'생각보다 행동이 앞서는 타입.',gd:'ISFJ 🛡️',bd:'INFJ 🔮',pm:{dim:[{n:'행동력',v:95},{n:'대담함',v:93},{n:'적응력',v:91},{n:'현실감각',v:92},{n:'순발력',v:94}],strength:['즉각적 행동력','위기 대응','현실적 판단','대인관계 능숙'],weakness:['인내력 부족','충동적 결정','감정 깊이 결여','장기 계획 부족'],career:['사업가','세일즈','소방관','스포츠코치'],celeb:[{em:'🎯',nm:'트럼프'},{em:'💪',nm:'마돈나'},{em:'🏎️',nm:'에디머피'},{em:'🎤',nm:'잭니콜슨'}],advice:'멈추고 생각하는 시간도 실력.\n\n💡 실천: 중요한 결정은 하루 묵혀보세요.',love:'스릴과 재미 추구. 지루함 못 견딤.\n\n💕 팁: 깊이 있는 감정 교류도 모험.'}},
ESFP:{ic:'🎭',ty:'ESFP — 무대 위의 엔터테이너',su:'삶을 축제로 만드는 사람',tg:['사교성','즐거움','표현력','낙관'],tx:'어디서든 분위기를 띄우는 타고난 엔터테이너.',gd:'ISTJ 🏛️',bd:'INTJ 🏗️',pm:{dim:[{n:'사교성',v:96},{n:'표현력',v:94},{n:'낙관성',v:93},{n:'적응력',v:90},{n:'에너지',v:95}],strength:['분위기를 밝히는 능력','풍부한 감정 표현','현재를 즐기는 재능','사람 끌어당기는 매력'],weakness:['미래 계획 부족','심각한 상황 회피','충동적 소비','깊이 부족'],career:['연예인','이벤트기획자','여행가이드','셰프'],celeb:[{em:'🎭',nm:'마릴린먼로'},{em:'🎤',nm:'엘비스'},{em:'🌟',nm:'윌스미스'},{em:'💃',nm:'비욘세'}],advice:'현재를 즐기되 미래도 조금씩.\n\n💡 실천: 이번 달 저축 목표를 세워보세요.',love:'연애를 축제처럼. 함께 있으면 매일 즐거움.\n\n💕 팁: 즐거움이 식어도 관계 유지하는 법을.'}}
}},
// 3. 전생
{id:'pastlife',cat:'전생',badge:'n',bt:'✨ NEW',gr:'linear-gradient(135deg,#f093fb,#f5576c)',ic:'🏛️',title:'내 전생은 어떤 사람?',desc:'전생의 흔적을 AI가 추적합니다',plays:'5,234',time:'3분',
intro:'전생에서 당신은 어디에서, 어떤 삶을 살았을까요?',
qs:[
{q:'이유 없이 끌리는\n시대가 있다면?',o:[{t:'🏺 고대 이집트/그리스',s:'priest'},{t:'🏯 동양의 궁궐 시대',s:'royal'},{t:'⚔️ 중세 유럽 기사 시대',s:'knight'},{t:'🎨 르네상스 예술의 시대',s:'artist'}]},
{q:'마음이 편안한\n자연 환경은?',o:[{t:'🌊 끝없이 펼쳐진 바다',s:'explorer'},{t:'🏔️ 고요한 산속 사원',s:'priest'},{t:'🌾 넓은 들판과 초원',s:'knight'},{t:'🌸 꽃이 만발한 정원',s:'royal'}]},
{q:'특별한 이유 없이\n잘하는 것은?',o:[{t:'🎵 음악/예술적 활동',s:'artist'},{t:'🗣️ 사람들을 이끄는 것',s:'royal'},{t:'🧘 명상/영적 활동',s:'priest'},{t:'🗺️ 방향감각/탐험',s:'explorer'}]},
{q:'꿈에서 자주 보는\n장면은?',o:[{t:'🌅 이국적 풍경 여행',s:'explorer'},{t:'📜 고대 문서를 읽는 꿈',s:'priest'},{t:'👑 호화로운 궁전',s:'royal'},{t:'⚔️ 전쟁터에서 싸우는 꿈',s:'knight'}]},
{q:'설명할 수 없이\n두려운 것은?',o:[{t:'🔥 불이나 화재',s:'artist'},{t:'⛓️ 좁은 공간에 갇히기',s:'explorer'},{t:'🗡️ 배신당하는 것',s:'royal'},{t:'🌑 어둠 속에 혼자',s:'knight'}]},
{q:'마음이 통하는\n사람 유형은?',o:[{t:'🧙 깊은 지혜의 사람',s:'priest'},{t:'🦅 자유롭고 모험적인 사람',s:'explorer'},{t:'🎭 예술적 감성 풍부한 사람',s:'artist'},{t:'🏰 품격과 기품의 사람',s:'royal'}]},
{q:'의미 없이 끌리는\n물건은?',o:[{t:'☥ 고대 신비로운 기호',s:'priest'},{t:'⚜️ 왕실의 문장',s:'royal'},{t:'⚔️ 검이나 방패',s:'knight'},{t:'🧭 나침반이나 별자리',s:'explorer'}]},
{q:'전생에서 가장\n소중했을 것은?',o:[{t:'📿 신앙과 영적 깨달음',s:'priest'},{t:'👨‍👩‍👧 가문과 혈통',s:'royal'},{t:'🗡️ 명예와 충성',s:'knight'},{t:'🎨 아름다움의 창조',s:'artist'}]},
{q:'반복되는 꿈이\n있다면?',o:[{t:'⚔️ 전장에서 싸우는 꿈',s:'knight'},{t:'📜 누군가에게 가르치는 꿈',s:'scholar'},{t:'🎨 아름다운 것을 만드는 꿈',s:'artist'},{t:'👑 높은 곳에서 내려다보는 꿈',s:'noble'}]},
{q:'역사 속 어떤 시대가\n끌리나요?',o:[{t:'🏛️ 고대 그리스/로마',s:'scholar'},{t:'⚔️ 중세 유럽',s:'knight'},{t:'🎭 르네상스',s:'artist'},{t:'👘 동양 왕조 시대',s:'noble'}]},
],
results:{
priest:{ic:'🧙',ty:'고대 신전의 대사제',su:'지혜와 영성의 수호자',tg:['신비로운 직관','치유능력','영적 리더','깊은 지혜'],tx:'당신의 전생은 고대 신전에서 백성들을 이끌었던 대사제였습니다.\n\n별의 움직임을 읽고 자연의 법칙을 이해하며, 영적 가르침을 전했습니다.',gd:'르네상스 예술가 🎨',bd:'용맹한 기사 ⚔️',pm:{dim:[{n:'영적능력',v:95},{n:'직관력',v:92},{n:'치유력',v:88},{n:'지혜',v:94},{n:'카리스마',v:78}],strength:['깊은 명상과 직관','아픔을 치유하는 재능','우주 법칙 이해하는 지혜','영적 지도력'],weakness:['세속적 즐거움에 서투름','물질적 무관심','고독한 삶의 패턴','현실적 판단 약점'],career:['심리상담사','명상강사','대체의학','영성작가','철학교수'],celeb:[{em:'🧘',nm:'부처'},{em:'📿',nm:'달라이라마'},{em:'🌿',nm:'간디'},{em:'✨',nm:'코엘료'}],advice:'🔮 전생의 메시지: "지혜는 나누면 깊어진다"\n\n당신의 영적 직관은 전생에서 비롯된 것입니다. 현생에서는 현실적 방법으로 나누어보세요.\n\n💡 실천: 5분간 눈을 감고 호흡에 집중해보세요.',love:'전생에서 독신 가능성 높음. 현생에서는 영적 교감의 파트너를 찾으세요.\n\n💫 전생인연: 전생 제자가 현생 연인으로 다시 만날 수 있습니다.'}},
royal:{ic:'👑',ty:'동양 왕조의 귀족',su:'풍류와 품격의 상징',tg:['기품','정치감각','문화소양','리더십'],tx:'당신의 전생은 동양 왕조의 고귀한 귀족이었습니다.\n\n시를 짓고 서화를 감상하며, 정치적 책략 속에서도 품격을 잃지 않았습니다.',gd:'고대 대사제 🧙',bd:'대항해 탐험가 🧭',pm:{dim:[{n:'기품',v:94},{n:'정치력',v:90},{n:'문화소양',v:92},{n:'리더십',v:88},{n:'심미안',v:91}],strength:['타고난 기품과 품위','정치적 상황 판단','예술/문화 깊은 이해','사람 다루는 능력'],weakness:['서민 감각 부족','특권 의식','배신 두려움','우유부단'],career:['외교관','큐레이터','럭셔리브랜드','정치인','문화재전문가'],celeb:[{em:'👑',nm:'세종대왕'},{em:'🏯',nm:'양귀비'},{em:'⚜️',nm:'앙투아네트'},{em:'🎭',nm:'클레오파트라'}],advice:'🔮 전생의 메시지: "진정한 귀족은 마음의 품격에서"\n\n전생의 기품이 현생에서도 나타납니다. 겸손의 미덕도 함께 갖추세요.\n\n💡 실천: 누군가에게 진심으로 감사를 표현하세요.',love:'전생에서 정략결혼 가능성. 현생에서는 진심 사랑의 기회.\n\n💫 전생인연: 전생의 시녀/신하가 현생 소울메이트로.'}},
knight:{ic:'⚔️',ty:'중세 유럽의 기사',su:'명예와 충성의 전사',tg:['용맹함','정의감','충성심','보호본능'],tx:'당신의 전생은 중세 유럽의 명예로운 기사였습니다.\n\n약자를 보호하고 불의에 맞서 싸우며 명예를 생명처럼 소중히 여겼습니다.',gd:'동양 귀족 👑',bd:'르네상스 예술가 🎨',pm:{dim:[{n:'용맹',v:95},{n:'충성심',v:94},{n:'정의감',v:92},{n:'체력',v:90},{n:'명예심',v:96}],strength:['불의에 맞서는 용기','소중한 것 지키는 보호본능','포기하지 않는 끈기','강한 충성과 의리'],weakness:['융통성 부족','흑백논리','분노조절 어려움','자기 희생적'],career:['군인/경찰','소방관','변호사','스포츠선수','보안전문가'],celeb:[{em:'⚔️',nm:'리차드1세'},{em:'🛡️',nm:'잔다르크'},{em:'🗡️',nm:'무사시'},{em:'💪',nm:'월레스'}],advice:'🔮 전생의 메시지: "진정한 용기는 검을 내려놓을 때"\n\n전사 정신이 현생에서 강한 정의감으로. 말과 지혜로 싸우는 법도 배우세요.\n\n💡 실천: 갈등 상황에서 대화로 해결해보세요.',love:'전장에서 떠나보낸 사랑이 있을 수 있습니다. 현생에서 되찾을 기회.\n\n💫 전생인연: 전생 전우가 현생 친구/연인으로.'}},
artist:{ic:'🎨',ty:'르네상스 천재 예술가',su:'아름다움의 창조자',tg:['창의력','감수성','미적감각','열정'],tx:'당신의 전생은 르네상스 시대의 천재 예술가였습니다.\n\n그림, 조각, 건축 등 다양한 분야에서 아름다움을 창조했습니다.',gd:'대항해 탐험가 🧭',bd:'고대 대사제 🧙',pm:{dim:[{n:'창의력',v:96},{n:'미적감각',v:95},{n:'감수성',v:93},{n:'열정',v:90},{n:'독창성',v:94}],strength:['천부적 예술 재능','아름다운 시선','깊은 감성 표현력','시대 앞선 독창성'],weakness:['현실 생활능력 부족','감정 기복 큼','소통 어려움','자기 파괴적 경향'],career:['아티스트','건축디자이너','뮤지션','영화감독','패션디자이너'],celeb:[{em:'🎨',nm:'다빈치'},{em:'🖌️',nm:'미켈란젤로'},{em:'🎵',nm:'모차르트'},{em:'✨',nm:'프리다칼로'}],advice:'🔮 전생의 메시지: "아름다움은 영원하다"\n\n전생의 예술적 재능이 현생에서도 빛을 발합니다.\n\n💡 실천: 오늘 무언가를 창작하세요.',love:'전생에서 뮤즈와의 열정적 사랑. 현생에서도 감성 나눌 파트너를.\n\n💫 전생인연: 전생의 후원자/뮤즈가 현생 동반자로.'}},
explorer:{ic:'🧭',ty:'대항해 시대의 탐험가',su:'미지의 세계를 개척한 모험가',tg:['모험심','개척정신','적응력','자유로움'],tx:'당신의 전생은 대항해 시대의 위대한 탐험가였습니다.\n\n미지의 바다를 항해하며 새로운 대륙과 문화를 찾아 나섰습니다.',gd:'중세 기사 ⚔️',bd:'동양 귀족 👑',pm:{dim:[{n:'모험심',v:96},{n:'적응력',v:94},{n:'개척정신',v:93},{n:'자유',v:95},{n:'용기',v:90}],strength:['미지에 대한 두려움 없음','어떤 환경에도 적응','새 문화 이해 능력','자유로운 개척 정신'],weakness:['한 곳에 정착 어려움','위험 즐기는 경향','깊은 관계 유지 어려움','현재 만족 못함'],career:['여행작가','탐험가','무역업','파일럿','고고학자'],celeb:[{em:'🧭',nm:'콜럼버스'},{em:'⛵',nm:'마젤란'},{em:'🌍',nm:'마르코폴로'},{em:'🗺️',nm:'장보고'}],advice:'🔮 전생의 메시지: "진정한 발견은 새로운 눈으로 보는 것"\n\n모험 정신이 현생에서 여행과 새 경험에 대한 갈망으로.\n\n💡 실천: 한 번도 안 가본 곳에 오늘 가보세요.',love:'각 항구마다 사랑을 남겼을 수 있습니다. 현생에서는 한 사람과의 깊은 모험을.\n\n💫 전생인연: 항해 동료가 현생 인생 파트너로.'}}
}},
// 4. 연애유형
{id:'love',cat:'연애',badge:'p',bt:'💕 인기',gr:'linear-gradient(135deg,#fa709a,#fee140)',ic:'💘',title:'나의 연애 유형 분석',desc:'연애할 때 나는 어떤 타입?',plays:'6,912',time:'2분',
intro:'연애할 때 당신은 어떤 모습인가요? 행동 패턴으로 연애 유형을 분석합니다.',
qs:[
{q:'좋아하는 사람이\n생기면?',o:[{t:'💌 용기내서 먼저 다가간다',s:'fire'},{t:'👀 눈치챌 때까지 기다린다',s:'moon_l'},{t:'🎁 작은 선물/호의로 표현',s:'teddy'},{t:'🧠 상대를 분석하고 전략 세운다',s:'chess'}]},
{q:'이상적인 데이트는?',o:[{t:'🏠 집에서 영화 편안하게',s:'teddy'},{t:'🎡 새로운 곳 탐험',s:'fire'},{t:'☕ 감성카페 깊은대화',s:'moon_l'},{t:'🍽️ 계획된 코스 완벽한 하루',s:'chess'}]},
{q:'연인에게 서운할 때?',o:[{t:'🗣️ 바로 솔직하게 이야기',s:'fire'},{t:'😶 혼자 삭이다 괜찮아짐',s:'moon_l'},{t:'🤗 상대 입장 먼저 생각',s:'teddy'},{t:'📝 정리 후 대화',s:'chess'}]},
{q:'사랑 표현 중\n가장 중요한 것은?',o:[{t:'💬 "사랑해"라는 말',s:'fire'},{t:'🫂 따뜻한 스킨십',s:'teddy'},{t:'⏰ 함께하는 시간',s:'moon_l'},{t:'🎁 정성스러운 선물/행동',s:'chess'}]},
{q:'연애에서 가장\n중요한 것은?',o:[{t:'🔥 설레임과 열정',s:'fire'},{t:'🏡 안정감과 편안함',s:'teddy'},{t:'💭 정신적 교감',s:'moon_l'},{t:'📈 함께 성장',s:'chess'}]},
{q:'이별 후 나의 모습은?',o:[{t:'💔 한동안 깊이 슬퍼한다',s:'moon_l'},{t:'🏃 새 활동으로 빠르게 전환',s:'fire'},{t:'📱 SNS 흔적 지운다',s:'chess'},{t:'🧸 추억 물건 오래 간직',s:'teddy'}]},
{q:'연인의 어떤 모습에\n가장 끌리나?',o:[{t:'😄 밝고 활기찬 에너지',s:'fire'},{t:'🤫 나만 아는 소소한 배려',s:'teddy'},{t:'🌙 신비롭고 알 수 없는 매력',s:'moon_l'},{t:'💼 능력있고 자기관리',s:'chess'}]},
{q:'나의 연애를\n가장 잘 표현하면?',o:[{t:'🎆 불꽃처럼 뜨겁게',s:'fire'},{t:'🌊 조용하지만 깊게',s:'moon_l'},{t:'🧸 포근하고 따뜻하게',s:'teddy'},{t:'♟️ 현명하고 계획적으로',s:'chess'}]},
{q:'좋아하는 사람에게\n먼저 연락?',o:[{t:'📱 당연! 바로 연락한다',s:'passion'},{t:'⏰ 타이밍 보다가 한다',s:'care'},{t:'🤔 상대가 먼저 하길 기다린다',s:'stable'},{t:'💌 가볍게 밈이나 사진 보낸다',s:'free'}]},
{q:'연인과 의견이\n다를 때?',o:[{t:'🗣️ 내 생각을 분명히 말한다',s:'passion'},{t:'🕊️ 상대 의견을 먼저 들어본다',s:'care'},{t:'🤝 절충안을 바로 찾는다',s:'stable'},{t:'😎 그냥 각자 다를 수 있지~',s:'free'}]},
],
results:{
fire:{ic:'🔥',ty:'불꽃 연애형',su:'뜨겁고 열정적인 사랑꾼',tg:['열정적','적극적','솔직함','로맨틱'],tx:'당신은 사랑에 빠지면 온 마음을 다해 뜨겁게 사랑합니다.\n\n좋아하면 주저없이 다가가며 설레임과 열정을 추구합니다.',gd:'포근한 곰인형 🧸',bd:'전략가 ♟️',pm:{dim:[{n:'열정',v:96},{n:'표현력',v:94},{n:'적극성',v:93},{n:'로맨스',v:91},{n:'솔직함',v:90}],strength:['주저없는 감정표현','설레게 하는 능력','관계에 에너지 불어넣는 힘','솔직한 소통'],weakness:['부담줄 수 있음','질투심 강함','열정 식으면 관심 줄어듦','감정 기복'],career:['이벤트플래너','연기자','셰프','세일즈'],celeb:[{em:'🔥',nm:'로미오'},{em:'💕',nm:'로즈(타이타닉)'},{em:'🌹',nm:'카사노바'},{em:'❤️',nm:'돈후안'}],advice:'열정은 아름답지만 지속 가능한 사랑도 중요합니다.\n\n💕 연애 공략법:\n• 상대 속도에 맞추는 연습\n• 질투보다 신뢰 선택\n• 작은 일상에서도 설레임 찾기\n\n🔮 2026 연애운: 봄에 운명적 만남 가능성!',love:'💘 궁합 베스트: 곰인형형\n💔 궁합 주의: 전략가형\n\n상대의 반응도 살펴보세요.'}},
moon_l:{ic:'🌙',ty:'달빛 연애형',su:'조용하지만 깊은 사랑꾼',tg:['깊은감성','내향적사랑','진중함','충성심'],tx:'당신은 소리 없이 깊게 사랑하는 달빛 연애형입니다.\n\n마음속으로 상대를 누구보다 깊이 생각합니다.',gd:'불꽃 🔥',bd:'전략가 ♟️',pm:{dim:[{n:'깊이',v:96},{n:'충성심',v:95},{n:'감수성',v:93},{n:'진중함',v:92},{n:'인내심',v:90}],strength:['한번 사랑하면 불변','미묘한 변화 알아채는 감각','진정한 교감 추구','오래 기다리는 인내'],weakness:['표현 안 해 오해받기 쉬움','혼자 감정 삭임','이별 후 회복 느림','자기감정 파악 어려움'],career:['작가','상담사','연구원','음악가'],celeb:[{em:'🌙',nm:'제인에어'},{em:'📖',nm:'엘리자베스베넷'},{em:'🎵',nm:'에디트피아프'},{em:'✨',nm:'오드리헵번'}],advice:'표현하지 않으면 상대는 영원히 모릅니다.\n\n💕 연애 공략법:\n• 하루 한번 마음 표현하기\n• "괜찮아"로 감정 숨기지 않기\n• 혼자 삭이지 말고 대화로\n\n🔮 2026 연애운: 여름에 깊은 교감의 인연!',love:'💘 궁합 베스트: 불꽃형\n💔 궁합 주의: 전략가형'}},
teddy:{ic:'🧸',ty:'포근한 곰인형형',su:'따뜻하고 헌신적인 사랑꾼',tg:['따뜻함','헌신','안정추구','배려심'],tx:'연인에게 세상에서 가장 포근한 안식처가 되어주는 타입입니다.\n\n작은 변화도 놓치지 않는 세심함이 있습니다.',gd:'달빛 🌙',bd:'불꽃 🔥',pm:{dim:[{n:'배려심',v:96},{n:'헌신성',v:95},{n:'안정감',v:94},{n:'세심함',v:93},{n:'따뜻함',v:97}],strength:['절대적 안정감 제공','세심한 배려','무조건적 헌신','갈등 부드럽게 해결'],weakness:['자기감정 후순위','지나치게 맞추려 함','관계 불안감','거절 못함'],career:['간호사','유치원교사','요리사','상담사'],celeb:[{em:'🧸',nm:'위니더푸'},{em:'💕',nm:'마리아(사운드오브뮤직)'},{em:'🤗',nm:'미스터로저스'},{em:'🌸',nm:'메리포핀스'}],advice:'남을 돌보기 전에 자신을 먼저. 건강한 사랑은 자기사랑에서.\n\n💕 연애 공략법:\n• "나는 이게 좋아" 의견 말하기\n• 연인 부탁 거절하는 연습\n• 나만의 취미와 시간 유지\n\n🔮 2026 연애운: 가을에 따뜻함 알아주는 사람!',love:'💘 궁합 베스트: 달빛형\n💔 궁합 주의: 불꽃형'}},
chess:{ic:'♟️',ty:'전략가 연애형',su:'현명하고 계획적인 사랑꾼',tg:['분석적','계획적','신중함','성장추구'],tx:'감정에만 휘둘리지 않고 이성적으로 사랑하는 전략가입니다.\n\n연애도 인생의 중요한 프로젝트처럼 신중하게 접근합니다.',gd:'곰인형 🧸',bd:'달빛 🌙',pm:{dim:[{n:'전략성',v:94},{n:'신중함',v:93},{n:'성장지향',v:92},{n:'자기관리',v:95},{n:'분석력',v:91}],strength:['감정에 휘둘리지 않는 냉정함','관계 성장시키는 능력','장기적 연애 설계','자기 발전 의지'],weakness:['감정 표현 서투름','차갑게 느껴질 수 있음','계산적으로 보임','스킨십 인색'],career:['투자분석가','전략컨설턴트','엔지니어','의사'],celeb:[{em:'♟️',nm:'셜록홈즈'},{em:'🧠',nm:'스폭'},{em:'📊',nm:'미스터다시'},{em:'💼',nm:'미란다프리슬리'}],advice:'사랑은 전략이 아니라 감정입니다. 가끔 계산기를 내려놓으세요.\n\n💕 연애 공략법:\n• 계획에 없던 즉흥 이벤트\n• "사랑해" 매일 한번 말하기\n• 감정으로 대화하기\n\n🔮 2026 연애운: 겨울에 뜻밖의 만남!',love:'💘 궁합 베스트: 곰인형형\n💔 궁합 주의: 달빛형'}}
}},
// 5. 정신연령
{id:'mentalage',cat:'심리',badge:'n',bt:'✨ NEW',gr:'linear-gradient(135deg,#a8edea,#fed6e3)',ic:'🧒',title:'나의 정신연령은 몇 살?',desc:'실제 나이와 다를 수 있는 정신연령',plays:'4,321',time:'2분',
intro:'생물학적 나이와 정신적 나이는 다를 수 있습니다. 7가지 질문으로 진짜 정신연령을 측정합니다.',
qs:[
{q:'SNS에서 친구 여행\n자랑 사진을 보면?',o:[{t:'🤩 우와! 나도! 댓글폭격',s:'teen'},{t:'😊 좋아요 누르고 넘어감',s:'adult'},{t:'🤔 맛집 추천해달라고 DM',s:'mid'},{t:'📱 그냥 스크롤',s:'old'}]},
{q:'퇴근 후 가장 먼저?',o:[{t:'📱 침대에서 폰',s:'teen'},{t:'🚿 씻고 편한 옷으로',s:'adult'},{t:'🍳 건강한 저녁 준비',s:'mid'},{t:'🌿 차 한잔 마시며 명상',s:'old'}]},
{q:'친구 고민을 들으면?',o:[{t:'😱 감정이입 200%',s:'teen'},{t:'🤔 듣고 내 생각 말해줌',s:'adult'},{t:'📋 해결책 체계적 제시',s:'mid'},{t:'🍵 가만히 들어주기',s:'old'}]},
{q:'갑자기 10만원 생기면?',o:[{t:'🛍️ 바로 쇼핑!',s:'teen'},{t:'🍽️ 맛있는 거 먹기',s:'adult'},{t:'💰 저축/투자',s:'mid'},{t:'🎁 가족/친구 선물',s:'old'}]},
{q:'약속 30분 일찍 도착?',o:[{t:'📱 폰게임',s:'teen'},{t:'☕ 카페에서 커피',s:'adult'},{t:'📧 밀린 이메일 처리',s:'mid'},{t:'🚶 주변 천천히 산책',s:'old'}]},
{q:'잠이 안 올 때?',o:[{t:'📱 폰 보다 새벽3시',s:'teen'},{t:'🎵 음악/ASMR',s:'adult'},{t:'📖 독서하며 자연스럽게',s:'mid'},{t:'🧘 호흡운동/명상',s:'old'}]},
{q:'행복의 조건 중\n가장 중요한 것은?',o:[{t:'🎉 재미와 즐거움',s:'teen'},{t:'💕 사랑하는 사람들',s:'adult'},{t:'💰 경제적 안정',s:'mid'},{t:'🌿 마음의 평화',s:'old'}]},
{q:'길에서 지갑을\n주웠다면?',o:[{t:'🏢 경찰서에 맡긴다',s:40},{t:'📱 안에 연락처 찾아 연락',s:30},{t:'🤷 일단 주머니에... 고민',s:15},{t:'📢 SNS에 올려서 주인 찾기',s:25}]},
{q:'처음 가는 식당에서\n주문은?',o:[{t:'📋 리뷰 인기 메뉴 주문',s:30},{t:'🎲 아무거나 도전',s:15},{t:'🧐 직원에게 추천 요청',s:35},{t:'📱 메뉴판 사진 찍어 고민',s:20}]},
{q:'약속 시간에\n보통 도착하는 타이밍은?',o:[{t:'⏰ 10분 전에 미리 도착',s:40},{t:'🏃 딱 맞춰서 도착',s:30},{t:'😅 5~10분 늦는 편',s:20},{t:'🤷 시간 개념이 유연함',s:15}]},
],
results:{
teen:{ic:'🧒',ty:'정신연령 17세',su:'영원한 청춘, 10대의 마음',tg:['호기심가득','에너지넘침','순수함','트렌디'],tx:'당신의 정신연령은 17세!\n\n세상 모든 것이 신기하고 재미있는 당신. 유행에 민감하고 새로운 것을 빠르게 받아들입니다.',gd:'성숙한 어른(40세)',bd:'같은 10대',pm:{dim:[{n:'호기심',v:95},{n:'에너지',v:93},{n:'순수함',v:90},{n:'트렌드감각',v:94},{n:'감정표현',v:91}],strength:['새것에 열린 마음','넘치는 에너지','솔직한 감정표현','빠른 트렌드 적응'],weakness:['충동적 결정','인내심 부족','감정 기복','장기계획 어려움'],career:['크리에이터','게이머','패션/뷰티','SNS마케터'],celeb:[{em:'🎤',nm:'정국(BTS)'},{em:'🎮',nm:'피터팬'},{em:'🌟',nm:'하니(뉴진스)'},{em:'🎬',nm:'톰홀랜드'}],advice:'📊 정신연령 상세 분석:\n• 감정 성숙도: ★★★☆☆\n• 사회 적응력: ★★★★☆\n• 판단력: ★★★☆☆\n• 책임감: ★★★☆☆\n• 창의력: ★★★★★\n\n젊은 에너지는 최고의 자산! 가끔 멈추고 깊이 생각하는 시간도 필요해요.\n\n💡 정신연령 높이는 팁: 매일 10분 독서, 결정 전 하루 고민하기',love:'설레임을 가장 중요시. 매 순간 드라마틱하길 원합니다.\n\n💕 팁: 안정감도 사랑의 일부입니다.'}},
adult:{ic:'🧑',ty:'정신연령 28세',su:'균형 잡힌 청년의 마음',tg:['균형감','사교성','적응력','감성적'],tx:'당신의 정신연령은 28세!\n\n감성과 이성의 균형이 잘 잡힌 당신. 적당한 재미와 책임감 사이의 균형이 뛰어납니다.',gd:'10대의 마음(17세)',bd:'현인의 마음(65세)',pm:{dim:[{n:'균형감',v:90},{n:'사교성',v:88},{n:'적응력',v:92},{n:'감성',v:86},{n:'자기관리',v:84}],strength:['감성/이성 균형','유연한 적응력','다양한 관계 유지','적당한 자기관리'],weakness:['때로 우유부단','방향성 불분명','과도한 비교의식','번아웃 위험'],career:['마케터','기획자','교사','디자이너'],celeb:[{em:'🧑',nm:'아이유'},{em:'🌟',nm:'손흥민'},{em:'💼',nm:'박서준'},{em:'✨',nm:'김태리'}],advice:'📊 정신연령 상세 분석:\n• 감정 성숙도: ★★★★☆\n• 사회 적응력: ★★★★★\n• 판단력: ★★★★☆\n• 책임감: ★★★★☆\n• 창의력: ★★★★☆\n\n가장 이상적인 정신연령! 청춘의 열정과 어른의 지혜를 동시에.\n\n💡 균형 유지 팁: 새로운 도전 계속하기, 아이의 마음 잃지 않기',love:'설레임과 안정감 모두 추구. 균형잡힌 관계를 만들어갑니다.\n\n💕 팁: 가끔은 한쪽에 기울어지는 것도 괜찮아요.'}},
mid:{ic:'👨‍💼',ty:'정신연령 42세',su:'성숙하고 안정적인 마음',tg:['책임감','계획성','안정추구','현실적'],tx:'당신의 정신연령은 42세!\n\n현실적이고 책임감 있는 당신. 주변에서 가장 믿음직한 존재입니다.',gd:'28세의 균형',bd:'같은 40대',pm:{dim:[{n:'책임감',v:94},{n:'계획성',v:92},{n:'안정성',v:95},{n:'현실감각',v:93},{n:'리더십',v:88}],strength:['흔들림 없는 책임감','체계적 미래 설계','위기에서의 안정감','현실적 판단력'],weakness:['유연성 부족','새것에 저항','즐거움 후순위','과도한 걱정'],career:['관리자','재무설계사','의사','교수'],celeb:[{em:'👨‍💼',nm:'정해인'},{em:'💼',nm:'유재석'},{em:'🏢',nm:'이영애'},{em:'📊',nm:'공유'}],advice:'📊 정신연령 상세 분석:\n• 감정 성숙도: ★★★★★\n• 사회 적응력: ★★★★☆\n• 판단력: ★★★★★\n• 책임감: ★★★★★\n• 창의력: ★★★☆☆\n\n안정적이고 믿음직하지만 가끔은 무모한 것도 필요합니다.\n\n💡 젊어지는 팁: 일주일에 한번 계획 없는 하루',love:'안정감과 미래를 중시. 진지한 관계 추구.\n\n💕 팁: 가끔 어린 시절처럼 순수하게 설레어보세요.'}},
old:{ic:'🧓',ty:'정신연령 65세',su:'지혜로운 현인의 마음',tg:['지혜','평온함','관조적','철학적'],tx:'당신의 정신연령은 65세!\n\n인생의 본질을 꿰뚫어보는 지혜로운 당신. 마음의 평화를 추구합니다.',gd:'17세의 에너지',bd:'같은 노인',pm:{dim:[{n:'지혜',v:96},{n:'평온함',v:95},{n:'통찰력',v:93},{n:'인내심',v:94},{n:'관용',v:92}],strength:['인생 본질을 아는 지혜','흔들리지 않는 평온','깊은 통찰과 판단','풍부한 관용'],weakness:['변화 무관심','젊은세대 소통 어려움','현실과 동떨어짐','지나친 관조'],career:['철학자','명상지도자','작가','원예사'],celeb:[{em:'🧓',nm:'달라이라마'},{em:'📖',nm:'공자'},{em:'🌿',nm:'법정스님'},{em:'🕊️',nm:'마더테레사'}],advice:'📊 정신연령 상세 분석:\n• 감정 성숙도: ★★★★★\n• 사회 적응력: ★★★☆☆\n• 판단력: ★★★★★\n• 책임감: ★★★★☆\n• 창의력: ★★★☆☆\n\n지혜롭지만 때로는 어리석어지는 것도 지혜입니다.\n\n💡 젊어지는 팁: 새 취미 도전, 젊은 친구 사귀기',love:'영혼의 교감을 가장 중시. 내면의 아름다움에 끌립니다.\n\n💕 팁: 가끔은 바보같은 사랑도 해보세요.'}}
}},
// 6. 다크성향
{id:'dark',cat:'심리',badge:'a',bt:'🖤 다크',gr:'linear-gradient(135deg,#1a1a2e,#e94560)',ic:'🖤',title:'나의 다크 성향 테스트',desc:'내면 깊숙이 숨겨진 어둠의 자아',plays:'3,782',time:'2분',
intro:'누구나 마음속에 어둠의 자아가 있습니다. 당신의 숨겨진 다크 성향은? (재미로만 즐겨주세요!)',
qs:[
{q:'거짓말을 할 때\n당신의 모습은?',o:[{t:'😇 거짓말을 잘 못한다',s:'angel'},{t:'🎭 필요할 때만 자연스럽게',s:'fox'},{t:'🃏 즐기면서 완벽하게',s:'joker'},{t:'🐍 계획적이고 치밀하게',s:'snake'}]},
{q:'누군가에게 화나면?',o:[{t:'😤 바로 표현하고 풀기',s:'joker'},{t:'😏 기회 올 때까지 참기',s:'snake'},{t:'🧊 차갑게 거리두기',s:'ice'},{t:'😊 화난 티 안 내기',s:'fox'}]},
{q:'원하는 것을 위해\n어디까지?',o:[{t:'📏 정해진 룰 안에서만',s:'angel'},{t:'🔄 상황에 따라 유연하게',s:'fox'},{t:'🎲 약간의 위험은 감수',s:'joker'},{t:'🎯 목표를 위해서라면',s:'snake'}]},
{q:'비밀을 알게 되면?',o:[{t:'🤐 무덤까지 가져감',s:'ice'},{t:'🗣️ 가장 친한 친구에게만',s:'angel'},{t:'📦 필요할 때 쓸 수 있게 보관',s:'snake'},{t:'😈 적절한 타이밍에 활용',s:'fox'}]},
{q:'경쟁자가 실수하면\n솔직한 마음은?',o:[{t:'🤝 도와주고 싶다',s:'angel'},{t:'😌 안도감, 하지만 티 안 냄',s:'fox'},{t:'😏 속으로 쾌감',s:'joker'},{t:'📝 그 약점을 기억해둠',s:'snake'}]},
{q:'권력을 갖게 되면\n가장 먼저?',o:[{t:'🌍 세상을 더 나은 곳으로',s:'angel'},{t:'🏰 나와 내 사람들 보호',s:'fox'},{t:'🎪 모든 규칙을 내 맘대로',s:'joker'},{t:'🕸️ 보이지 않는 영향력 구축',s:'snake'}]},
{q:'당신이 빌런이라면?',o:[{t:'😈 혼돈을 즐기는 트릭스터',s:'joker'},{t:'🐍 뒤에서 조종하는 흑막',s:'snake'},{t:'🧊 감정 없는 냉혈한',s:'ice'},{t:'🦊 매력으로 속이는 사기꾼',s:'fox'}]},
{q:'화났을 때\n나의 모습은?',o:[{t:'🧊 겉은 냉정, 속은 부글부글',s:'shadow'},{t:'🗣️ 바로 할 말 다 한다',s:'rebel'},{t:'😶 아무 말 않고 멀어진다',s:'ghost'},{t:'🎭 웃으면서 삼킨다',s:'mask'}]},
{q:'인생에서 가장\n두려운 건?',o:[{t:'🚫 무능력하다는 평가',s:'shadow'},{t:'🔒 자유를 잃는 것',s:'rebel'},{t:'💔 중요한 사람의 배신',s:'ghost'},{t:'👤 진짜 나를 들키는 것',s:'mask'}]},
{q:'혼자 있을 때\n자주 하는 생각은?',o:[{t:'🌍 "세상은 왜 이렇게 돌아갈까"',s:'shadow'},{t:'🚪 "여기서 벗어나고 싶다"',s:'rebel'},{t:'🎭 "사람들은 진짜 나를 모를 거야"',s:'mask'},{t:'👻 "조용히 사라지면 누가 알까"',s:'ghost'}]},
],
results:{
angel:{ic:'😇',ty:'거의 천사형',su:'다크성향 거의 없음!',tg:['순수함','정직','공감능력','도덕성'],tx:'축하합니다! 다크 성향이 거의 없는 순수한 영혼입니다.\n\n정직하고 도덕적이며, 남 해치는 것을 극도로 싫어합니다.',gd:'약간의 여우 기질',bd:'',pm:{dim:[{n:'순수함',v:95},{n:'도덕성',v:93},{n:'정직함',v:94},{n:'공감능력',v:90},{n:'자기보호',v:45}],strength:['도덕적 기준','진심어린 배려','진정성 관계','양심에 따른 행동'],weakness:['이용당하기 쉬움','거절 못함','세상 악의에 취약','자기주장 약함'],career:['NGO활동가','사회복지사','교사','수의사'],celeb:[{em:'😇',nm:'캡틴아메리카'},{em:'🌟',nm:'간디'},{em:'💕',nm:'마더테레사'},{em:'🕊️',nm:'만델라'}],advice:'🖤 다크 지수: 8/100\n\n거의 완벽한 선인! 하지만 세상은 항상 공정하지 않습니다.\n\n⚠️ 주의: 선한 마음을 이용하려는 사람 조심\n\n💡 다크 생존 팁:\n• "아니오" 말하는 연습\n• 자기 이익도 챙기는 건 이기적이 아님\n• 착한 것과 만만한 것의 차이 구분',love:'헌신적이지만 나쁜 사람에게 끌리는 경향 주의.\n\n💕 팁: 이용하는 사람과 진심인 사람을 구별하세요.'}},
fox:{ic:'🦊',ty:'매력적인 여우형',su:'상황을 읽고 유연하게 대처하는 전략가',tg:['눈치','적응력','매력','처세술'],tx:'상황을 빠르게 읽고 자신에게 유리한 방향으로 이끄는 능력.\n\n악의적이지는 않지만 필요할 때 약간의 전략을 쓸 줄 아는 생존형.',gd:'순수 천사형',bd:'냉혈 빙산형',pm:{dim:[{n:'처세술',v:88},{n:'매력',v:90},{n:'눈치',v:92},{n:'적응력',v:91},{n:'전략성',v:85}],strength:['어떤 상황에서든 살아남는 능력','마음 읽는 직감','매력적 외교술','원하는 것을 얻는 능력'],weakness:['진정한 자아를 잃을 수 있음','신뢰 구축 어려움','항상 계산하는 습관','진심 보이기 어려움'],career:['외교관','마케터','변호사','협상가'],celeb:[{em:'🦊',nm:'닉와일드(주토피아)'},{em:'🤵',nm:'제임스본드'},{em:'🎭',nm:'나탈리포트만'},{em:'💼',nm:'이리나셰이크'}],advice:'🖤 다크 지수: 42/100\n\n건강한 수준의 다크 성향. 세상 살아가는 데 필요한 처세술이에요.\n\n⚠️ 주의: 전략이 습관되면 진심을 잃을 수 있음\n\n💡 균형 팁:\n• 가끔 전략 없이 솔직해지기\n• 진정한 나를 보여줄 수 있는 사람 만들기',love:'밀당의 달인이지만 진심 숨기다 놓칠 수 있어요.\n\n💕 팁: 사랑 앞에서는 전략을 내려놓으세요.'}},
joker:{ic:'🃏',ty:'혼돈의 트릭스터형',su:'규칙을 깨고 혼돈 속 즐거움을 찾는 자',tg:['파격','자유','도발','유머'],tx:'기존 질서에 도전하는 것을 즐기며 예측 불가능한 행동으로 주변을 놀라게 합니다.\n\n악의보다는 재미와 자유를 추구.',gd:'냉철 빙산형',bd:'계획적 전략가형',pm:{dim:[{n:'파격성',v:90},{n:'자유추구',v:94},{n:'유머감각',v:92},{n:'도발성',v:88},{n:'예측불가',v:91}],strength:['창의적 파격적 사고','재미 찾는 능력','사람들 즐겁게 하는 재능','권위에 굴하지 않는 용기'],weakness:['선 넘는 경우','책임감 부족','주변 피로감','심각한 것을 가볍게'],career:['코미디언','스턴트맨','예술가','모험가'],celeb:[{em:'🃏',nm:'조커'},{em:'🎪',nm:'데드풀'},{em:'🤡',nm:'짐캐리'},{em:'😈',nm:'로키'}],advice:'🖤 다크 지수: 65/100\n\n혼돈의 에너지 높음! 건설적으로 쓰면 놀라운 결과.\n\n⚠️ 주의: 재미를 위해 상처주지 않도록\n\n💡 에너지 활용 팁:\n• 창작활동으로 에너지 발산\n• 도전적 스포츠 시도\n• 선 넘기 전 한번 더 생각',love:'예측 불가능하고 스릴 넘치는 관계 원함.\n\n💕 팁: 장난과 진심의 경계를 지키세요.'}},
snake:{ic:'🐍',ty:'계획적 전략가형',su:'목표를 위해 치밀하게 움직이는 마키아벨리스트',tg:['전략','인내','치밀함','목표지향'],tx:'목표를 위해 장기적 계획을 세우고 인내심 있게 기회를 기다립니다.\n\n감정에 휘둘리지 않고 냉철하게 상황을 판단합니다.',gd:'여우형 유연성',bd:'트릭스터 충동성',pm:{dim:[{n:'전략성',v:95},{n:'인내심',v:93},{n:'치밀함',v:94},{n:'목표지향',v:96},{n:'냉철함',v:92}],strength:['장기 전략 수립','감정 좌우 안되는 판단','기회 놓치지 않는 눈','강력한 목표 달성 의지'],weakness:['인간관계가 수단','과도한 계산 고립','신뢰 구축 어려움','진심 보이기 어려움'],career:['CEO','정치전략가','투자뱅커','체스선수'],celeb:[{em:'🐍',nm:'타이윈라니스터'},{em:'♟️',nm:'프랭크언더우드'},{em:'🖤',nm:'슬리데린대표'},{em:'🕷️',nm:'키아라'}],advice:'🖤 다크 지수: 78/100\n\n높은 다크 성향이지만 강력한 능력이기도 합니다.\n\n⚠️ 주의: 사람을 수단으로만 보면 결국 외로워짐\n\n💡 활용 팁:\n• 전략적 능력을 긍정적 목표에\n• 진심으로 신뢰할 관계 최소 1개 유지\n• 가끔 계획 없이 행동해보기',love:'연애에서도 전략적. 관계를 장기 설계.\n\n💕 팁: 사랑만큼은 감정으로 접근하세요.'}},
ice:{ic:'🧊',ty:'냉혈한 빙산형',su:'감정을 초월한 냉철한 관찰자',tg:['냉정','분석','무표정','독립'],tx:'감정에 크게 동요하지 않으며 모든 것을 객관적으로 분석합니다.\n\n차가워 보이지만 빙산 아래에는 깊은 내면이 숨어있습니다.',gd:'따뜻한 천사형',bd:'혼돈의 트릭스터',pm:{dim:[{n:'냉정함',v:94},{n:'분석력',v:92},{n:'독립심',v:96},{n:'감정통제',v:95},{n:'관찰력',v:90}],strength:['감정에 좌우 안되는 판단','뛰어난 관찰/분석','완벽한 자기통제','위기 냉철함'],weakness:['감정표현 극심 어려움','인간관계 고립','내면 외로움','따뜻함 주고받기 어려움'],career:['외과의사','판사','프로파일러','과학자'],celeb:[{em:'🧊',nm:'셜록홈즈'},{em:'❄️',nm:'엘사'},{em:'🖤',nm:'스네이프교수'},{em:'🗡️',nm:'미카사'}],advice:'🖤 다크 지수: 58/100\n\n감정 숨기는 것과 못 느끼는 것은 다릅니다.\n\n⚠️ 주의: 감정 억누르면 언젠가 폭발\n\n💡 해빙 팁:\n• 하루 한번 감정일기\n• 신뢰하는 한 사람에게 마음 열기\n• 감정을 느끼는 것은 약함이 아님',love:'쉽게 마음 열지 않지만, 한번 열면 놀랍도록 깊습니다.\n\n💕 팁: 벽을 조금씩 허무는 연습을.'}}
}},
// 7. 숨겨진 재능
{id:'talent',cat:'능력',badge:'a',bt:'🤖 AI',gr:'linear-gradient(135deg,#667eea,#00d2ff)',ic:'💎',title:'나의 숨겨진 재능은?',desc:'아직 발견하지 못한 천부적 재능',plays:'2,987',time:'2분',
intro:'모든 사람에게는 아직 발견되지 않은 숨겨진 재능이 있습니다.',
qs:[
{q:'어릴 때 가장\n좋아했던 놀이는?',o:[{t:'🎨 그림그리기/만들기',s:'art'},{t:'📖 책읽기/이야기 만들기',s:'word'},{t:'🧩 퍼즐/레고',s:'logic'},{t:'🎤 노래/춤',s:'stage'}]},
{q:'시간 가는 줄 모르고\n빠져드는 것은?',o:[{t:'🎵 음악 듣기/연주',s:'art'},{t:'💻 새 기술 배우기',s:'logic'},{t:'📝 글/콘텐츠 만들기',s:'word'},{t:'👥 사람들과 대화',s:'stage'}]},
{q:'친구들이 가장\n많이 하는 말은?',o:[{t:'🤔 "어떻게 알았어?"',s:'logic'},{t:'😄 "너 진짜 재밌다"',s:'stage'},{t:'🎨 "센스 좋다"',s:'art'},{t:'📖 "글 잘 쓴다"',s:'word'}]},
{q:'스트레스 해소에\n효과적인 것은?',o:[{t:'🎨 창작활동',s:'art'},{t:'📝 글쓰기',s:'word'},{t:'🧠 게임/코딩 등 문제풀기',s:'logic'},{t:'🎤 노래방/공연관람',s:'stage'}]},
{q:'이상적인 직업 환경은?',o:[{t:'🎨 자유롭게 창작할 수 있는 곳',s:'art'},{t:'📚 조용히 집중할 수 있는 곳',s:'word'},{t:'💻 최신 기술이 있는 곳',s:'logic'},{t:'🎪 사람들 앞에 설 수 있는 곳',s:'stage'}]},
{q:'나도 모르게\n잘하는 것은?',o:[{t:'👁️ 색감/디자인 감각',s:'art'},{t:'📝 문장 구성/표현력',s:'word'},{t:'🔢 숫자/패턴 파악',s:'logic'},{t:'🗣️ 분위기/대화 능력',s:'stage'}]},
{q:'10년 후\n되고 싶은 나는?',o:[{t:'🎨 자기 작품 가진 아티스트',s:'art'},{t:'📖 베스트셀러 작가',s:'word'},{t:'💡 혁신적 기술을 만든 사람',s:'logic'},{t:'🌟 많은 사람에게 영향주는 사람',s:'stage'}]},
{q:'모르는 기기가\n생기면?',o:[{t:'🔧 일단 이것저것 눌러본다',s:'tech'},{t:'📖 설명서부터 읽는다',s:'study'},{t:'👥 잘 아는 사람에게 물어본다',s:'social'},{t:'🎨 내 방식대로 활용한다',s:'create'}]},
{q:'주변에서 자주 듣는\n칭찬은?',o:[{t:'🧠 "생각이 깊다"',s:'study'},{t:'🎨 "센스가 좋다"',s:'create'},{t:'💪 "행동력이 대단하다"',s:'lead'},{t:'🤝 "사람 관리를 잘한다"',s:'social'}]},
{q:'팀 프로젝트에서\n맡는 역할은?',o:[{t:'📋 계획 세우고 관리',s:'lead'},{t:'💡 아이디어 제시',s:'create'},{t:'🔍 자료 조사·분석',s:'study'},{t:'🤝 팀원 소통·조율',s:'social'}]},
],
results:{
art:{ic:'🎨',ty:'예술적 창조의 재능',su:'시각적 아름다움을 창조하는 능력',tg:['미적감각','색채감각','공간지각','창작능력'],tx:'당신에게는 예술적 창조의 재능이 숨겨져 있습니다!\n\n색감, 구도, 조화를 본능적으로 이해하며 아름다움을 창조하는 능력이 탁월합니다.',gd:'무대의 재능🎤',bd:'논리의 재능🧠',pm:{dim:[{n:'미적감각',v:95},{n:'색채지각',v:93},{n:'공간감각',v:88},{n:'창작력',v:91},{n:'표현력',v:87}],strength:['타고난 미적/색채 감각','아름다움 본능적으로 알아보는 눈','손으로 만드는 기쁨','독창적 시각 표현력'],weakness:['논리적 사고 약점','수익화 어려움','완벽주의 지연','타인 평가 민감'],career:['그래픽디자이너','일러스트레이터','인테리어','포토그래퍼','UI/UX'],celeb:[{em:'🎨',nm:'다빈치'},{em:'🖌️',nm:'프리다칼로'},{em:'📸',nm:'레이보비츠'},{em:'🎬',nm:'웨스앤더슨'}],advice:'💎 재능 개발 로드맵:\n\n1단계(1개월): 매일 15분 스케치\n2단계(3개월): 디자인 툴 학습\n3단계(6개월): 포트폴리오 구축\n4단계(1년): 프리랜서/취업 도전\n\n📚 추천: Procreate, Figma, 「드로잉 오브 라이프」',love:'감성적이고 로맨틱한 표현. 그림이나 편지를 선물하는 타입.\n\n💕 팁: 예술적 감성으로 연인을 감동시키세요!'}},
word:{ic:'✍️',ty:'언어의 마법사 재능',su:'말과 글로 세상을 움직이는 능력',tg:['글쓰기','스토리텔링','표현력','설득력'],tx:'당신에게는 언어의 마법사 재능이 숨겨져 있습니다!\n\n생각을 글과 말로 표현하는 능력이 탁월합니다.',gd:'예술적 창조🎨',bd:'무대의 재능🎤',pm:{dim:[{n:'문장력',v:94},{n:'스토리텔링',v:92},{n:'어휘력',v:90},{n:'표현력',v:93},{n:'설득력',v:88}],strength:['감정 정확히 담는 글쓰기','마음을 움직이는 스토리텔링','풍부한 어휘/표현','복잡한 생각 명료 전달'],weakness:['말보다 글이 편한 경향','과도한 자기검열','행동보다 말이 앞설 수 있음','비평 민감'],career:['작가','카피라이터','저널리스트','크리에이터','시나리오작가'],celeb:[{em:'✍️',nm:'하루키'},{em:'📖',nm:'J.K.롤링'},{em:'🎬',nm:'봉준호'},{em:'📝',nm:'한강'}],advice:'💎 재능 개발 로드맵:\n\n1단계: 매일 500자 글쓰기\n2단계: 블로그/브런치 시작\n3단계: 공모전 도전\n4단계: 출간/전문 작가 활동\n\n📚 추천: 「유혹하는 글쓰기」(스티븐 킹), 매일 독서 30분',love:'감동적인 편지를 쓰는 타입. 말보다 글로 마음을 전함.\n\n💕 팁: 글뿐 아니라 말로도 사랑 표현을.'}},
logic:{ic:'🧠',ty:'논리의 천재 재능',su:'패턴을 읽고 문제를 해결하는 두뇌',tg:['분석력','문제해결','패턴인식','체계적'],tx:'당신에게는 논리의 천재 재능이 숨겨져 있습니다!\n\n복잡한 문제를 체계적으로 분석하고 해결책을 찾는 능력이 탁월합니다.',gd:'언어의 마법✍️',bd:'무대의 재능🎤',pm:{dim:[{n:'분석력',v:96},{n:'문제해결',v:94},{n:'패턴인식',v:93},{n:'체계성',v:91},{n:'집중력',v:90}],strength:['복잡한 문제 명쾌 해결','데이터 패턴 발견','체계적/논리적 사고','빠른 기술 습득'],weakness:['감정 교류 서투름','완벽주의','사회적 불편','직관 미신뢰'],career:['개발자','데이터사이언티스트','수학자','엔지니어','AI연구원'],celeb:[{em:'🧠',nm:'아인슈타인'},{em:'💻',nm:'일론머스크'},{em:'🔬',nm:'마리퀴리'},{em:'♟️',nm:'마그누스칼센'}],advice:'💎 재능 개발 로드맵:\n\n1단계: 코딩 기초(Python)\n2단계: 프로젝트 만들기\n3단계: 알고리즘/데이터 학습\n4단계: 기술기업 취업/창업\n\n📚 추천: Codecademy, 인프런, 매일 퍼즐 풀기',love:'분석적이고 신중한 타입.\n\n💕 팁: 사랑에는 공식이 없습니다. 느끼는 대로!'}},
stage:{ic:'🎤',ty:'무대 위의 스타 재능',su:'사람들 앞에서 빛나는 카리스마',tg:['카리스마','표현력','소통','엔터테이너'],tx:'당신에게는 무대 위의 스타 재능이 숨겨져 있습니다!\n\n사람들 앞에서 빛나는 타고난 카리스마와 표현력.',gd:'논리의 천재🧠',bd:'언어의 마법✍️',pm:{dim:[{n:'카리스마',v:95},{n:'표현력',v:94},{n:'소통능력',v:93},{n:'에너지',v:96},{n:'매력',v:92}],strength:['시선을 사로잡는 매력','풍부한 감정표현','분위기 주도','에너지 넘치는 소통'],weakness:['혼자 있기 어려움','인정욕구 강함','깊이보다 넓이','무대 밖 공허함'],career:['배우','MC/아나운서','유튜버','세일즈','강연가'],celeb:[{em:'🎤',nm:'유재석'},{em:'🌟',nm:'오프라'},{em:'🎭',nm:'로빈윌리엄스'},{em:'💃',nm:'비욘세'}],advice:'💎 재능 개발 로드맵:\n\n1단계: 유튜브/틱톡 시작\n2단계: 발성/화술 훈련\n3단계: 공연/방송 경험\n4단계: 전문 엔터테이너\n\n📚 추천: 토스트마스터즈, 매일 1분 셀프영상',love:'연애에서도 주인공! 관계를 드라마틱하게.\n\n💕 팁: 연인에게는 진짜 모습을 보여주세요.'}}
}},
// 8. 나를 표현하는 컬러
{id:'color',cat:'심리',badge:'p',bt:'💜 추천',gr:'linear-gradient(135deg,#fbc2eb,#a6c1ee)',ic:'🎨',title:'나를 표현하는 컬러는?',desc:'당신의 에너지를 컬러로 표현합니다',plays:'2,651',time:'2분',
intro:'색깔에는 에너지가 있습니다. 당신의 영혼이 가진 색깔은 무엇일까요?',
qs:[
{q:'가장 끌리는 시간대는?',o:[{t:'🌅 새벽/일출',s:'gold'},{t:'☀️ 한낮의 태양',s:'red'},{t:'🌆 노을 지는 저녁',s:'purple'},{t:'🌙 깊은 밤',s:'blue'}]},
{q:'스트레스 받을 때\n찾는 공간은?',o:[{t:'🌊 바다/호수',s:'blue'},{t:'🌲 숲/산',s:'green'},{t:'🏙️ 번화한 도시',s:'red'},{t:'🕯️ 조용한 카페',s:'purple'}]},
{q:'나를 동물로 표현하면?',o:[{t:'🦅 독수리 (자유/비전)',s:'gold'},{t:'🐆 표범 (열정/행동)',s:'red'},{t:'🦋 나비 (변화/아름다움)',s:'purple'},{t:'🐬 돌고래 (지혜/평온)',s:'blue'}]},
{q:'대화할 때 나의\n특징은?',o:[{t:'💡 아이디어가 샘솟음',s:'gold'},{t:'🔥 열정적으로 설득',s:'red'},{t:'🌙 깊고 의미있는 대화',s:'purple'},{t:'🌊 차분하고 논리적',s:'blue'}]},
{q:'인생에서 가장\n가치있는 것은?',o:[{t:'✨ 성장과 도전',s:'gold'},{t:'❤️ 열정과 사랑',s:'red'},{t:'🔮 의미와 영감',s:'purple'},{t:'🌿 평화와 조화',s:'green'}]},
{q:'주변에서 나에게\n가장 많이 하는 말은?',o:[{t:'💛 "너는 항상 긍정적이야"',s:'gold'},{t:'❤️ "너는 에너지가 넘쳐"',s:'red'},{t:'💜 "너는 신비로운 매력이 있어"',s:'purple'},{t:'💙 "너는 안정감을 줘"',s:'blue'}]},
{q:'꿈꾸는 미래의 나는?',o:[{t:'🌱 끊임없이 성장하는 나',s:'green'},{t:'👑 세상을 이끄는 나',s:'gold'},{t:'🎨 예술적 영감을 주는 나',s:'purple'},{t:'🧘 내면의 평화를 찾은 나',s:'blue'}]},
{q:'가장 끌리는 풍경은?',o:[{t:'🌅 노을이 지는 바다',s:'red'},{t:'🌲 초록빛 숲속 오솔길',s:'green'},{t:'🌌 밤하늘의 별빛',s:'blue'},{t:'🌸 만개한 벚꽃길',s:'purple'}]},
{q:'방을 꾸민다면\n어떤 톤?',o:[{t:'🤍 화이트 & 우드 톤',s:'blue'},{t:'🖤 다크 & 모던',s:'purple'},{t:'💜 파스텔 & 아늑함',s:'green'},{t:'🧡 비비드 & 에너지',s:'red'}]},
{q:'기분이 울적할 때\n위로가 되는 건?',o:[{t:'🎵 감성적인 음악 듣기',s:'blue'},{t:'🌿 자연 속 산책',s:'green'},{t:'🔥 따뜻한 차 한 잔',s:'red'},{t:'🎨 그림이나 영상 감상',s:'purple'}]},
],
results:{
red:{ic:'❤️',ty:'정열의 레드',su:'불꽃처럼 뜨거운 에너지',tg:['열정','행동력','리더십','에너지'],tx:'당신의 영혼 컬러는 RED!\n\n뜨거운 열정과 행동력의 에너지를 가지고 있습니다. 어디서든 존재감을 드러내며 에너지를 전파합니다.',gd:'평온한 블루 💙',bd:'같은 레드 ❤️',pm:{dim:[{n:'열정',v:96},{n:'행동력',v:94},{n:'리더십',v:90},{n:'에너지',v:95},{n:'자신감',v:92}],strength:['넘치는 에너지와 활력','즉각적인 행동력','사람들을 이끄는 리더십','열정적인 동기부여'],weakness:['충동적 경향','분노 조절 어려움','인내심 부족','타인 의견 무시'],career:['CEO','운동선수','세일즈리더','소방관'],celeb:[{em:'❤️',nm:'나폴레옹'},{em:'🔥',nm:'마돈나'},{em:'💪',nm:'마이클조던'},{em:'🌟',nm:'레이디가가'}],advice:'🎨 컬러 에너지 분석:\n\n당신의 레드 에너지는 세상을 변화시킬 힘이 있습니다.\n\n💡 에너지 균형 팁:\n• 차분한 블루 에너지 보충: 명상 10분\n• 그린 에너지 보충: 자연 속 산책\n• 레드 과잉 시: 운동으로 발산\n\n🔮 행운의 아이템: 레드 계열 액세서리',love:'연애에서 열정적이고 적극적. 사랑하면 전부를 줍니다.\n\n💕 팁: 열정의 온도를 조절하는 법을 배우세요.'}},
blue:{ic:'💙',ty:'평온한 블루',su:'깊은 바다처럼 고요한 에너지',tg:['평온함','지혜','신뢰','안정'],tx:'당신의 영혼 컬러는 BLUE!\n\n깊은 바다처럼 고요하면서도 광대한 내면을 가지고 있습니다.',gd:'열정의 레드 ❤️',bd:'같은 블루 💙',pm:{dim:[{n:'평온함',v:96},{n:'지혜',v:93},{n:'신뢰성',v:94},{n:'분석력',v:90},{n:'안정감',v:95}],strength:['흔들리지 않는 안정감','깊은 사고와 지혜','주변에 평화를 주는 존재','신뢰받는 관계'],weakness:['감정 표현 부족','변화 저항','보수적 경향','모험 꺼림'],career:['연구원','상담사','교수','판사'],celeb:[{em:'💙',nm:'간디'},{em:'🌊',nm:'아이유'},{em:'📖',nm:'공자'},{em:'🧘',nm:'달라이라마'}],advice:'🎨 컬러 에너지 분석:\n\n당신의 블루 에너지는 주변에 평화와 안정을 줍니다.\n\n💡 에너지 균형 팁:\n• 레드 에너지 보충: 새로운 도전하기\n• 골드 에너지 보충: 긍정적 자기 대화\n• 블루 과잉 시: 활동적인 취미 시작\n\n🔮 행운의 아이템: 블루 계열 보석/의류',love:'연애에서 진실되고 안정적. 깊은 교감을 원합니다.\n\n💕 팁: 가끔은 열정적으로 표현해보세요.'}},
purple:{ic:'💜',ty:'신비의 퍼플',su:'예술적 영감의 에너지',tg:['신비로움','창의성','직관','영감'],tx:'당신의 영혼 컬러는 PURPLE!\n\n신비로운 매력과 예술적 영감의 에너지를 가지고 있습니다.',gd:'성장의 그린 💚',bd:'열정의 레드 ❤️',pm:{dim:[{n:'직관력',v:95},{n:'창의성',v:94},{n:'신비로움',v:96},{n:'영감',v:93},{n:'감수성',v:92}],strength:['타고난 직관과 통찰','예술적 영감','신비로운 매력','깊은 감수성'],weakness:['현실 감각 부족','고립 경향','감정 기복','이해받기 어려움'],career:['예술가','뮤지션','심리학자','영성지도자'],celeb:[{em:'💜',nm:'프린스'},{em:'🎨',nm:'반고흐'},{em:'🔮',nm:'스티비닉스'},{em:'✨',nm:'데이비드보위'}],advice:'🎨 컬러 에너지 분석:\n\n당신의 퍼플 에너지는 예술과 영감의 원천입니다.\n\n💡 에너지 균형 팁:\n• 그린 에너지 보충: 현실적 계획 세우기\n• 골드 에너지 보충: 성취 목표 설정\n• 퍼플 과잉 시: 자연 속에서 그라운딩\n\n🔮 행운의 아이템: 아메시스트, 라벤더',love:'연애에서 영혼의 교감을 가장 중시합니다.\n\n💕 팁: 현실 세계의 사랑도 아름답습니다.'}},
gold:{ic:'✨',ty:'빛나는 골드',su:'성장과 도전의 에너지',tg:['성장','긍정','도전','영감'],tx:'당신의 영혼 컬러는 GOLD!\n\n끊임없이 성장하고 도전하는 빛나는 에너지를 가지고 있습니다.',gd:'신비의 퍼플 💜',bd:'평온한 블루 💙',pm:{dim:[{n:'성장의지',v:96},{n:'긍정성',v:94},{n:'도전정신',v:93},{n:'영감력',v:91},{n:'카리스마',v:90}],strength:['끊임없는 자기 성장','주변에 영감을 주는 존재','어떤 역경도 이겨내는 긍정','빛나는 카리스마'],weakness:['지나친 완벽 추구','실패 두려움','번아웃 위험','타인과 비교'],career:['코치/멘토','기업가','강연가','리더'],celeb:[{em:'✨',nm:'오프라윈프리'},{em:'👑',nm:'비욘세'},{em:'🌟',nm:'손흥민'},{em:'💫',nm:'BTS'}],advice:'🎨 컬러 에너지 분석:\n\n당신의 골드 에너지는 주변 모든 것을 빛나게 합니다.\n\n💡 에너지 균형 팁:\n• 블루 에너지 보충: 쉬어가는 시간\n• 퍼플 에너지 보충: 예술적 활동\n• 골드 과잉 시: 성과 없는 하루 즐기기\n\n🔮 행운의 아이템: 골드 주얼리',love:'연인과 함께 성장하는 관계를 추구합니다.\n\n💕 팁: 성장만큼이나 쉼도 사랑의 일부입니다.'}},
green:{ic:'💚',ty:'성장의 그린',su:'자연처럼 조화로운 에너지',tg:['조화','치유','성장','균형'],tx:'당신의 영혼 컬러는 GREEN!\n\n자연처럼 모든 것과 조화를 이루며 주변을 치유하는 에너지입니다.',gd:'빛나는 골드 ✨',bd:'신비의 퍼플 💜',pm:{dim:[{n:'조화',v:95},{n:'치유력',v:93},{n:'성장',v:91},{n:'균형감',v:94},{n:'평화',v:92}],strength:['모든 것과 조화를 이루는 능력','주변을 치유하는 에너지','꾸준한 성장과 변화','자연스러운 균형감'],weakness:['갈등 회피','자기주장 약함','변화에 느린 적응','우유부단'],career:['상담사','환경운동가','교사','요가강사','원예사'],celeb:[{em:'💚',nm:'제인구달'},{em:'🌿',nm:'밥로스'},{em:'🌱',nm:'그레타툰베리'},{em:'🌳',nm:'헤르만헤세'}],advice:'🎨 컬러 에너지 분석:\n\n당신의 그린 에너지는 세상에 평화와 치유를 줍니다.\n\n💡 에너지 균형 팁:\n• 레드 에너지 보충: 자기주장 연습\n• 골드 에너지 보충: 목표 설정과 도전\n• 그린 과잉 시: 적극적 의견 표현\n\n🔮 행운의 아이템: 식물, 에메랄드',love:'연인에게 치유와 안정을 주는 타입.\n\n💕 팁: 자신의 필요도 표현하세요.'}}
}}
];


/* ===================================================================
   PREMIUM EXTRA DATA — 유료 결제 가치 있는 심층 분석 데이터
   =================================================================== */
const PMX={
// 성격 유형
personality_moon:{
  hidden:'겉으로는 차분해 보이지만, 내면에는 누구보다 뜨거운 열정이 숨어있습니다. 신뢰하는 소수의 사람 앞에서만 이 모습이 드러나며, 혼자만의 시간에 가장 창의적인 아이디어가 떠오릅니다. 당신은 감정의 깊이가 바다처럼 깊어, 한번 마음을 정하면 쉽게 변하지 않는 강한 내면의 힘을 가지고 있습니다.',
  commStyle:'경청형',commDesc:'상대의 말을 끝까지 듣고, 깊이 있는 답변을 하는 스타일. 1:1 대화에서 빛남.',
  conflictStyle:'회피 후 숙고형',conflictDesc:'갈등 상황에서 즉각 반응하기보다, 시간을 두고 생각한 뒤 정리된 의견을 전달합니다.',
  loveLanguage:'함께하는 시간 (Quality Time)',loveDetail:'말보다 함께 조용히 시간을 보내는 것으로 사랑을 표현하고 느낍니다. 옆에 있어주는 것만으로 충분한 타입.',
  idealPartner:'존중형 파트너 — 혼자만의 시간을 이해하고 존중하면서도, 깊은 대화를 나눌 수 있는 사람',
  loveRedFlag:'상대가 지나치게 사교적이고 혼자만의 시간을 인정하지 않을 때, 당신의 에너지가 빠르게 소진됩니다.',
  stressTrigger:'과도한 사회적 상호작용, 갑작스러운 계획 변경, 표면적인 대화가 계속될 때',
  stressSign:'점점 말이 줄어들고, 혼자 있고 싶은 욕구가 강해지며, 사소한 것에 예민해집니다.',
  stressCoping:'혼자만의 시간 확보하기, 자연 속 산책, 일기 쓰기, 좋아하는 음악 듣기',
  moneyType:'신중한 저축형',moneyDesc:'충동구매를 거의 하지 않으며, 계획적으로 돈을 관리합니다. 경험보다 안전을 중시.',
  healthTip:'내면의 감정을 쌓아두지 말고, 글쓰기나 예술 활동으로 표현하세요. 규칙적인 수면 패턴이 특히 중요합니다.',
  missions:['이번 주 안에 신뢰하는 사람에게 "요즘 이런 생각을 하고 있어"라고 내면을 한 가지 나눠보세요','매일 15분 산책하며 머릿속 생각을 정리하는 루틴을 만들어보세요','한 달 안에 혼자 해보고 싶었던 활동(카페, 전시, 여행) 하나를 실행하세요','소셜 미디어 사용 시간을 하루 30분으로 제한하고, 그 시간에 독서를 해보세요'],
  luckyColor:'라벤더',luckyNum:7,luckyItem:'달 모양 액세서리',luckyDay:'수요일',luckyScent:'바닐라',mantra:'"나의 고요함은 힘이다"'
},
personality_sun:{
  hidden:'항상 밝고 에너지 넘치는 모습 뒤에, 때때로 깊은 외로움을 느낍니다. 모두를 즐겁게 해주면서도 정작 자신의 감정을 돌보지 못하는 경향이 있으며, 혼자 있을 때 갑자기 찾아오는 공허함을 경험하기도 합니다.',
  commStyle:'주도형',commDesc:'대화를 이끌고 분위기를 만드는 스타일. 그룹 대화에서 자연스럽게 중심 역할.',
  conflictStyle:'직접 대면형',conflictDesc:'문제가 생기면 바로 대화로 해결하려 합니다. 피하지 않고 직면하는 용기가 있지만, 상대의 준비 시간을 주지 않을 수 있습니다.',
  loveLanguage:'인정하는 말 (Words of Affirmation)',loveDetail:'사랑한다는 말, 칭찬, 격려의 말을 통해 사랑을 표현하고 받습니다.',
  idealPartner:'안정형 파트너 — 당신의 에너지를 따뜻하게 받아주면서, 감정적 안식처가 되어줄 수 있는 사람',
  loveRedFlag:'상대가 감정을 잘 표현하지 않거나 반응이 부족할 때, 불안감과 자존감 하락을 경험합니다.',
  stressTrigger:'인정받지 못하는 느낌, 혼자 남겨지는 상황, 에너지가 바닥났는데 사회적 기대가 있을 때',
  stressSign:'평소보다 더 과하게 밝은 척을 하거나, 반대로 갑자기 연락을 끊고 은둔합니다.',
  stressCoping:'신뢰하는 친구와 솔직한 대화, 혼자만의 충전 시간 갖기, 운동으로 에너지 발산',
  moneyType:'경험 투자형',moneyDesc:'여행, 모임, 새로운 경험에 과감하게 투자합니다. 저축보다 현재의 즐거움을 중시하는 경향.',
  healthTip:'혼자만의 충전 시간을 의식적으로 확보하세요. 번아웃 위험이 높으니, 일주일에 하루는 완전한 휴식일로.',
  missions:['이번 주에 "괜찮지 않아"라고 솔직하게 말하는 연습을 한 번 해보세요','혼자 보내는 저녁 시간을 두려워하지 말고, 나만의 취미를 하나 찾아보세요','매일 자기 전 3분간 오늘의 감정을 일기로 적어보세요','한 달 안에 교제 범위가 아닌 깊이를 늘리는 1:1 만남을 3번 이상 가져보세요'],
  luckyColor:'오렌지',luckyNum:3,luckyItem:'해바라기 모티프',luckyDay:'일요일',luckyScent:'시트러스',mantra:'"나의 빛은 스스로를 위한 것이기도 하다"'
},
personality_bolt:{
  hidden:'냉철해 보이지만 감정이 없는 것이 아닙니다. 오히려 감정을 너무 깊이 느끼기 때문에 논리라는 방어막으로 보호하는 것입니다. 신뢰하는 극소수에게만 약한 모습을 보이며, 그 순간의 당신은 놀라울 정도로 따뜻합니다.',
  commStyle:'분석형',commDesc:'데이터와 근거를 기반으로 정확하게 의견을 전달. 감정적 대화보다 해결 중심 대화 선호.',
  conflictStyle:'논리적 토론형',conflictDesc:'감정을 배제하고 사실과 논리로 갈등을 해결하려 합니다. 효과적이지만 상대가 차갑다고 느낄 수 있습니다.',
  loveLanguage:'봉사 행위 (Acts of Service)',loveDetail:'말보다 행동으로 사랑을 표현합니다. 문제를 해결해주거나 도움을 주는 것이 사랑의 표현.',
  idealPartner:'감성형 파트너 — 당신의 논리적 세계에 따뜻한 감정을 불어넣어줄 수 있는 사람',
  loveRedFlag:'상대가 비논리적이거나 감정에만 의존할 때, 답답함과 소통 불능을 느낍니다.',
  stressTrigger:'논리적이지 않은 결정이 강요될 때, 무능력함을 느낄 때, 감정적 대응을 요구받을 때',
  stressSign:'더욱 차갑고 냉소적으로 변하거나, 모든 것을 과도하게 분석하며 잠을 이루지 못합니다.',
  stressCoping:'복잡한 퍼즐이나 코딩, 전략 게임에 몰두하기, 규칙적인 운동, 혼자만의 연구 시간',
  moneyType:'전략적 투자형',moneyDesc:'철저한 분석을 바탕으로 투자합니다. 감정적 소비를 거의 하지 않으며, 장기적 수익을 추구.',
  healthTip:'감정을 무시하지 마세요. 억압된 감정은 두통이나 불면으로 나타날 수 있습니다. 명상이나 일기 쓰기를 추천합니다.',
  missions:['이번 주에 누군가에게 "고마워" 또는 "네 덕분이야"라고 감정을 담아 말해보세요','논리로 풀 수 없는 예술 활동(그림, 음악)을 주 1회 시도해보세요','감정 일기를 쓰며 "오늘 나는 어떤 기분이었는가"를 3줄로 기록해보세요','한 달 안에 결론 없이 그냥 들어주는 대화를 3번 이상 해보세요'],
  luckyColor:'네이비 블루',luckyNum:5,luckyItem:'시계 또는 퍼즐',luckyDay:'토요일',luckyScent:'민트',mantra:'"지혜는 논리와 감정의 조화에서 온다"'
},
personality_bloom:{
  hidden:'따뜻함 뒤에 깊은 상처를 숨기고 있을 수 있습니다. 남의 감정에 과도하게 공감하느라 정작 자신의 감정은 뒷전에 밀려있고, 모두를 행복하게 해주고 싶지만 그 과정에서 자신이 지쳐간다는 것을 인식하지 못합니다.',
  commStyle:'공감형',commDesc:'상대의 감정에 깊이 공감하며, 눈물도 웃음도 함께 나누는 대화 스타일. 상담가 기질.',
  conflictStyle:'화해 추구형',conflictDesc:'갈등 자체를 견디기 어려워 빠르게 화해하려 합니다. 자신의 의견을 양보하더라도 관계를 우선시.',
  loveLanguage:'스킨십 (Physical Touch)',loveDetail:'따뜻한 포옹, 손 잡기, 가벼운 터치로 사랑을 표현하고 안정감을 느낍니다.',
  idealPartner:'보호형 파트너 — 당신을 세상으로부터 지켜주면서, 당신의 감정적 경계를 존중해줄 수 있는 사람',
  loveRedFlag:'상대가 감정적으로 무관심하거나, 당신의 헌신을 당연하게 여길 때 큰 상처를 받습니다.',
  stressTrigger:'타인의 고통을 과도하게 흡수할 때, 거절해야 하는 상황, 자신의 가치를 인정받지 못할 때',
  stressSign:'남을 위해 더 과도하게 헌신하거나, 갑자기 모든 관계에서 멀어지고 싶어집니다.',
  stressCoping:'자연 속에서 혼자 시간 보내기, 창작 활동, 신뢰하는 사람에게 약한 모습 보이기',
  moneyType:'관계 중심 소비형',moneyDesc:'사랑하는 사람을 위한 선물과 경험에 돈을 씁니다. 자신을 위한 소비에는 인색한 편.',
  healthTip:'감정적 경계(Boundary)를 설정하세요. 남의 감정을 모두 떠안을 필요 없습니다. 주 3회 이상 자신만을 위한 활동을.',
  missions:['이번 주에 누군가의 부탁에 "미안하지만 이번에는 어려워"라고 말해보세요','매일 자기 전 "오늘 나를 위해 한 것"을 3개 적어보세요','한 달 안에 나만의 취미 활동 하나를 시작하세요','감정이 벅찰 때 "이건 나의 감정이 아니다"라고 구분하는 연습을 해보세요'],
  luckyColor:'로즈 핑크',luckyNum:2,luckyItem:'꽃 또는 식물',luckyDay:'금요일',luckyScent:'로즈',mantra:'"나를 먼저 사랑해야 남도 제대로 사랑할 수 있다"'
},
personality_rainbow:{
  hidden:'자유로운 영혼 뒤에는 깊은 두려움이 있습니다. 한 곳에 뿌리를 내리면 자유를 잃을까봐, 깊은 관계를 맺으면 상처받을까봐 무의식적으로 도망치는 패턴이 있습니다.',
  commStyle:'유머형',commDesc:'가벼운 유머와 재미있는 이야기로 분위기를 이끄는 스타일. 진지한 대화를 피하는 경향.',
  conflictStyle:'회피 전환형',conflictDesc:'갈등 상황을 유머나 화제 전환으로 넘기려 합니다. 직면이 필요할 때도 도망치려는 경향.',
  loveLanguage:'선물 (Receiving Gifts)',loveDetail:'특별한 순간에 의미 있는 선물을 주고받으며 사랑을 확인합니다. 일상의 작은 서프라이즈가 중요.',
  idealPartner:'모험형 파트너 — 함께 새로운 경험을 즐기면서도, 깊은 안정감을 줄 수 있는 사람',
  loveRedFlag:'상대가 지나치게 통제하려 하거나, 자유를 속박한다고 느낄 때 관계를 끊어버립니다.',
  stressTrigger:'자유가 제한되는 상황, 반복되는 루틴, 창의성이 필요 없는 단순 작업이 계속될 때',
  stressSign:'더 충동적이 되거나, 모든 것을 놓아버리고 어딘가로 떠나고 싶어집니다.',
  stressCoping:'새로운 장소 여행, 즉흥적인 활동, 창의적 프로젝트 시작, 음악 감상',
  moneyType:'충동적 경험 투자형',moneyDesc:'계획 없이 충동적으로 소비하는 경향. 여행과 경험에 돈을 아끼지 않지만, 저축에는 관심이 적음.',
  healthTip:'한 가지 루틴이라도 꾸준히 유지하세요. 수면 시간이라도 일정하게 맞추는 것이 건강의 핵심입니다.',
  missions:['진행 중인 프로젝트나 약속 하나를 이번 주 안에 끝까지 완료해보세요','한 달간 같은 시간에 일어나는 루틴을 시도해보세요','깊이 있는 대화를 한 사람과 30분 이상 나눠보세요','이번 달 예산을 세우고 지켜보세요. 자유를 위한 재정적 기반을 만드는 것도 모험입니다.'],
  luckyColor:'터쿼이즈',luckyNum:9,luckyItem:'여권 또는 지구본',luckyDay:'목요일',luckyScent:'페퍼민트',mantra:'"진정한 자유는 깊이 뿌리를 내린 곳에서 피어난다"'
},
personality_mountain:{
  hidden:'견고한 외면 뒤에 완벽하지 못한 자신에 대한 두려움이 있습니다. 모든 것을 통제해야 안심이 되고, 계획이 틀어지면 예상보다 큰 불안을 느낍니다. 사실 가장 필요한 것은 "실패해도 괜찮다"는 자기 허용입니다.',
  commStyle:'체계형',commDesc:'정리된 구조로 명확하게 의견을 전달. 회의나 보고 상황에서 빛나는 스타일.',
  conflictStyle:'원칙 제시형',conflictDesc:'규칙과 원칙을 기준으로 옳고 그름을 판단합니다. 공정하지만 융통성이 부족해 보일 수 있음.',
  loveLanguage:'봉사 행위 (Acts of Service)',loveDetail:'실질적인 도움과 안정적인 환경을 제공하는 것으로 사랑을 표현합니다.',
  idealPartner:'유연한 파트너 — 당신의 체계성을 존중하면서도, 계획 밖의 즐거움을 가르쳐줄 수 있는 사람',
  loveRedFlag:'상대가 무계획적이고 약속을 자주 어길 때, 신뢰가 무너지며 관계에 회의를 느낍니다.',
  stressTrigger:'계획이 틀어지는 상황, 통제할 수 없는 변수, 무책임한 동료나 파트너',
  stressSign:'더 강박적으로 계획을 세우거나, 주변 사람들에게 지나치게 요구하게 됩니다.',
  stressCoping:'운동으로 통제감 회복, 새로운 계획 수립, 신뢰하는 사람과 대화, 정리정돈',
  moneyType:'체계적 관리형',moneyDesc:'가계부를 꼼꼼히 쓰고, 목표 금액을 정해 저축합니다. 충동구매 거의 없음.',
  healthTip:'완벽하지 않아도 괜찮습니다. 스트레스가 위장이나 어깨에 쌓이기 쉬우니, 요가나 스트레칭을 추천합니다.',
  missions:['이번 주에 계획에 없던 것을 하나 즉흥적으로 해보세요','누군가의 실수에 "괜찮아, 다시 하면 돼"라고 말해보세요','한 달간 매주 토요일은 "무계획의 날"로 정해보세요','완벽하지 않은 상태로 결과물을 제출/공유하는 연습을 해보세요'],
  luckyColor:'포레스트 그린',luckyNum:4,luckyItem:'고급 수첩 또는 펜',luckyDay:'월요일',luckyScent:'시더우드',mantra:'"불완전함 속에 진정한 아름다움이 있다"'
}
};

// MBTI용 간소화 PMX 생성 함수
function getMBTIPMX(type){
  const maps={
    commStyle:{E:'주도형',I:'경청형',default:'균형형'},
    commDesc:{E:'대화를 이끌고 분위기를 조성하는 스타일. 먼저 말을 걸고 관계를 시작합니다.',I:'상대의 말을 깊이 듣고, 신중하게 답변하는 스타일. 1:1 대화에서 진가를 발휘합니다.',default:'상황에 따라 이끌기도, 경청하기도 하는 유연한 소통 스타일.'},
    conflictStyle:{T:'논리적 해결형',F:'감정 조율형',default:'상황 판단형'},
    conflictDesc:{T:'사실과 논리를 기반으로 갈등을 해결합니다. 효율적이지만 상대가 차갑다고 느낄 수 있습니다.',F:'상대의 감정을 먼저 파악하고 조율하려 합니다. 관계를 중시하지만 자기 의견이 묻힐 수 있습니다.',default:'상황에 따라 논리와 감정을 적절히 활용합니다.'},
    loveLanguage:{E:'인정하는 말',I:'함께하는 시간',S:'봉사 행위',N:'의미 있는 대화',T:'문제 해결',F:'스킨십과 공감',J:'안정적 헌신',P:'즐거운 경험'},
    stressTrigger:{E:'혼자 오래 있을 때, 무시당하는 느낌',I:'과도한 사회적 상호작용, 에너지 소진',S:'불확실한 미래, 검증되지 않은 방법',N:'반복적이고 단조로운 일, 디테일 작업',T:'비논리적 결정, 감정적 환경',F:'비판과 갈등, 냉정한 환경',J:'계획 변경, 통제 불능 상황',P:'과도한 규칙과 제약, 결정 강요'},
    moneyType:{SJ:'안정적 관리형',SP:'즉흥적 소비형',NJ:'전략적 투자형',NP:'아이디어 투자형',default:'균형형'}
  };
  const e=type[0],s=type[1],t=type[2],j=type[3];
  return{
    hidden:`${type}인 당신은 겉으로 보이는 모습과 내면 사이에 흥미로운 간극이 있습니다. ${e==='E'?'사교적인 모습 뒤에 혼자만의 깊은 세계가 있으며':'조용한 외면 뒤에 풍부한 내면의 에너지가 있으며'}, ${s==='N'?'미래를 향한 비전 속에서도 현재의 안정을 갈망합니다.':'현실적인 모습 속에서도 상상의 나래를 펼치고 싶은 욕구가 있습니다.'} ${t==='T'?'논리적 판단 뒤에 숨겨진 섬세한 감정이 있고':'따뜻한 감성 뒤에 날카로운 분석력이 있고'}, ${j==='J'?'체계적인 모습 속에 자유를 갈망하는 마음이 있습니다.':'자유로운 모습 속에 안정을 원하는 마음이 있습니다.'}`,
    commStyle:maps.commStyle[e]||maps.commStyle.default,
    commDesc:maps.commDesc[e]||maps.commDesc.default,
    conflictStyle:maps.conflictStyle[t]||maps.conflictStyle.default,
    conflictDesc:maps.conflictDesc[t]||maps.conflictDesc.default,
    loveLanguage:maps.loveLanguage[e]+' + '+maps.loveLanguage[t==='T'?'T':'F'],
    loveDetail:`${e==='E'?'적극적으로 사랑을 표현하며':'조용하지만 깊이 있게 사랑하며'}, ${t==='T'?'실질적인 도움으로':'감정적 교감으로'} 사랑을 확인합니다. ${j==='J'?'안정적이고 계획적인 관계를 선호합니다.':'자유롭고 즉흥적인 관계를 선호합니다.'}`,
    idealPartner:`${e==='E'?'당신의 에너지를 함께 즐기면서도 깊은 대화가 가능한':'당신의 내면 세계를 존중하며 조용한 시간을 함께할 수 있는'} ${t==='T'?'감성적이면서도 논리적인':'따뜻하면서도 지적 자극을 줄 수 있는'} 파트너가 이상적입니다.`,
    loveRedFlag:`${t==='T'?'비논리적이고 감정적으로만 요구하는 상대':'냉정하고 감정 교류가 없는 상대'}에게 큰 스트레스를 받으며, ${j==='J'?'무계획적이고 약속을 어기는':'지나치게 통제하고 자유를 제한하는'} 파트너와는 갈등이 깊어집니다.`,
    stressTrigger:maps.stressTrigger[e]+', '+maps.stressTrigger[s]+', '+maps.stressTrigger[j],
    stressSign:`${e==='E'?'평소보다 말이 없어지거나, 반대로 과도하게 사교적이 됩니다':'더 극단적으로 혼자 격리하거나, 사소한 것에 짜증을 냅니다'}. ${j==='J'?'강박적으로 계획을 세우기 시작합니다.':'모든 것을 방치하고 무기력해집니다.'}`,
    stressCoping:`${e==='E'?'신뢰하는 소수와 진솔한 대화':'완전히 혼자만의 충전 시간'}, ${s==='S'?'규칙적인 운동이나 요리 같은 감각적 활동':'명상이나 미래 비전 재정립 같은 성찰 시간'}, ${t==='T'?'문제의 근본 원인 분석과 해결책 수립':'예술 활동이나 감정 표현 시간 갖기'}`,
    moneyType:maps.moneyType[s+j]||maps.moneyType.default,
    moneyDesc:`${s==='S'?'현실적이고 검증된 방식으로':'미래 가능성에 투자하는 방식으로'} 재정을 관리하며, ${j==='J'?'계획적인 예산 관리와 꾸준한 저축을 선호합니다.':'유연하게 상황에 따라 소비 패턴을 조절합니다.'}`,
    healthTip:`${e==='I'?'에너지 회복을 위한 혼자만의 시간을 반드시 확보하세요.':'과도한 사교 활동으로 인한 번아웃에 주의하세요.'} ${s==='N'?'현재에 집중하는 마인드풀니스 연습이 도움됩니다.':'가끔은 루틴을 벗어나 새로운 자극을 찾아보세요.'} ${t==='T'?'감정을 억압하지 말고, 안전한 방법으로 표현하는 연습을 하세요.':'타인의 감정을 과도하게 흡수하지 않도록 경계를 설정하세요.'}`,
    missions:[
      `${e==='I'?'이번 주 새로운 사람에게 먼저 말 걸어보기':'이번 주 하루는 완전히 혼자 보내며 충전하기'}`,
      `${s==='N'?'이번 주 계획을 구체적인 숫자와 기한으로 정리해보기':'이번 주 평소 안 하던 창의적 활동 시도해보기'}`,
      `${t==='T'?'이번 주 누군가에게 "고마워"를 감정을 담아 3번 말하기':'이번 주 감정이 아닌 논리로 중요한 결정 1개 내려보기'}`,
      `${j==='J'?'이번 주 하루는 완전 즉흥으로 보내보기':'이번 주 한 가지 목표를 정하고 끝까지 완수하기'}`
    ],
    luckyColor:['라벤더','스카이블루','민트','코랄','골드','로즈','네이비','터쿼이즈'][type.charCodeAt(0)%8],
    luckyNum:(type.charCodeAt(1)+type.charCodeAt(2))%9+1,
    luckyItem:['크리스탈','향초','수첩','드라이플라워','시계','반지','머그컵','스카프'][type.charCodeAt(3)%8],
    luckyDay:['월','화','수','목','금','토','일'][(type.charCodeAt(0)+type.charCodeAt(3))%7]+'요일',
    luckyScent:['라벤더','유칼립투스','시트러스','바닐라','페퍼민트','로즈마리','샌달우드','자스민'][type.charCodeAt(2)%8],
    mantra:['"나의 독특함이 곧 나의 강점이다"','"오늘 한 걸음이 내일의 도약이 된다"','"불완전함 속에 완벽한 아름다움이 있다"','"나는 충분히 가치 있는 사람이다"'][type.charCodeAt(1)%4]
  };
}

// 일반 테스트용 PMX 생성 함수
function getGenericPMX(quiz,result){
  const dims=result.pm?.dim||[];
  const topDim=dims.length?dims.reduce((a,b)=>a.v>b.v?a:b):{n:'매력',v:90};
  const lowDim=dims.length?dims.reduce((a,b)=>a.v<b.v?a:b):{n:'균형',v:70};
  const strengths=result.pm?.strength||[];
  const weaknesses=result.pm?.weakness||[];
  return{
    hidden:`당신의 "${result.ty}" 유형 뒤에는 아직 발견되지 않은 또 다른 면이 있습니다. ${topDim.n}이(가) 매우 높은 당신은 그 강점에 기대어 살아가지만, ${lowDim.n} 영역에서 새로운 가능성을 발견할 수 있습니다. 때로는 자신조차 인식하지 못하는 내면의 목소리에 귀를 기울여보세요.`,
    commStyle:topDim.v>90?'주도형':topDim.v>80?'협력형':'관찰형',
    commDesc:`${topDim.n}이(가) 높은 당신은 대화에서 ${topDim.v>90?'자연스럽게 중심 역할을 합니다':topDim.v>80?'상대와 균형 있는 대화를 이끕니다':'상대의 말을 먼저 경청합니다'}. ${strengths[0]||'뛰어난 감각'}을 활용한 소통이 특기입니다.`,
    conflictStyle:weaknesses.some(w=>w.includes('감정'))?'감정 조율형':weaknesses.some(w=>w.includes('완벽'))?'원칙 제시형':'상황 대응형',
    conflictDesc:`갈등 상황에서 ${weaknesses[0]||'고유한 패턴'}이 나타나기 쉽습니다. ${strengths[0]||'핵심 강점'}을 활용하되, ${weaknesses[0]||'약점'}이 과도해지지 않도록 균형을 잡는 것이 핵심입니다.`,
    loveLanguage:'함께하는 시간 (Quality Time)',
    loveDetail:result.pm?.love||result.love||'깊이 있는 교감을 원하며, 진정성 있는 관계를 추구합니다.',
    idealPartner:`당신의 ${topDim.n}을(를) 인정하고 존중하면서, ${lowDim.n} 면에서 균형을 맞춰줄 수 있는 파트너가 이상적입니다.`,
    loveRedFlag:`${weaknesses[0]||'약점'}이 자극되는 관계에서 큰 스트레스를 받습니다. 자신의 경계를 지키며 건강한 관계를 유지하세요.`,
    stressTrigger:`${lowDim.n} 역량이 과도하게 요구되는 상황, ${weaknesses.slice(0,2).join(', ')}이 동시에 나타날 때`,
    stressSign:`${topDim.n}에 더 과도하게 의존하거나, 반대로 모든 것에 무기력해지는 양극단이 나타납니다.`,
    stressCoping:`${strengths[0]||'강점'}을 활용한 활동, 규칙적인 운동, 신뢰하는 사람과의 대화`,
    moneyType:topDim.n.includes('계획')||topDim.n.includes('체계')?'체계적 관리형':topDim.n.includes('창의')||topDim.n.includes('모험')?'경험 투자형':'균형 관리형',
    moneyDesc:`${topDim.n}이 높은 당신은 ${topDim.v>90?'소비에서도 이 특성이 강하게 드러납니다':'일상적 소비 패턴에도 이 성향이 반영됩니다'}. ${lowDim.n} 영역의 소비 습관을 의식적으로 개선하면 재정 건강이 좋아질 수 있습니다.`,
    healthTip:`${topDim.n}을 과도하게 사용하면 특정 부위에 긴장이 쌓일 수 있습니다. 주 3회 이상 30분 산책을 추천하며, ${weaknesses[0]||'약점'}에서 오는 스트레스를 관리하는 것이 건강의 핵심입니다.`,
    missions:[
      `이번 주: ${strengths[0]||'강점'}을 활용해서 새로운 목표 하나를 설정해보세요`,
      `이번 주: ${weaknesses[0]||'약점'}을 개선하기 위한 작은 도전을 해보세요`,
      `이번 달: ${lowDim.n} 역량을 키우기 위한 새로운 활동이나 학습을 시작하세요`,
      `이번 달: ${result.pm?.career?result.pm.career[0]:'관심 분야'}에 대해 구체적으로 알아보세요`
    ],
    luckyColor:['라벤더','코랄','민트','스카이블루','로즈골드','어스톤'][Math.abs(result.ty.charCodeAt(0))%6],
    luckyNum:Math.abs(result.ty.charCodeAt(1)%9)+1,
    luckyItem:['크리스탈','향초','드라이플라워','미니 수첩','행운의 동전','달 모양 참'][Math.abs(result.ty.charCodeAt(2))%6],
    luckyDay:['월','화','수','목','금','토','일'][Math.abs(result.ty.charCodeAt(0))%7]+'요일',
    luckyScent:['라벤더','유칼립투스','시트러스','바닐라','로즈','페퍼민트'][Math.abs(result.ty.charCodeAt(1))%6],
    mantra:'"나는 매일 더 나은 내가 되어가고 있다"'
  };
}

/* ===================================================================
   QUIZ ENGINE (동일 로직)
   =================================================================== */
// ===== RANDOMIZED REVIEWS WITH NICKNAMES =====
const allReviews=[
  {nick:'지은',age:'27세',loc:'서울',gr:['#8b5cf6','#ec4899'],stars:5,test:'🧠 성격유형 테스트',body:'<strong>소름 돋을 정도로 정확해요.</strong> 심층 분석에서 숨겨진 내면 분석 읽고 눈물 날 뻔했어요. 제가 왜 그런 행동을 하는지 이해하게 됐어요.',likes:847},
  {nick:'개발자_현우',age:'31세',loc:'부산',gr:['#0ea5e9','#10b981'],stars:5,test:'🧬 MBTI 심층분석',body:'다른 MBTI 사이트 많이 해봤는데 <strong>여기가 결과가 제일 상세하고 정확합니다.</strong> 직업 적합도랑 스트레스 관리법이 특히 유용했어요!',likes:623},
  {nick:'수빈맘',age:'34세',loc:'일산',gr:['#f59e0b','#ef4444'],stars:5,test:'💕 연애유형 테스트',body:'남편이랑 같이 했는데 <strong>궁합 분석이 찐이에요 ㅋㅋ</strong> 서로의 사랑의 언어가 다르다는 걸 알게 돼서 대화가 많아졌어요 💕',likes:1156},
  {nick:'하늘바라기',age:'29세',loc:'인천',gr:['#10b981','#0ea5e9'],stars:4,test:'🖤 다크 성향 테스트',body:'<strong>다크 성향 테스트 강추!!</strong> 전략가 나왔는데 직장에서 제가 왜 그렇게 행동하는지 정확히 짚어줬어요. 7일 챌린지도 실천 중입니다.',likes:542},
  {nick:'은채',age:'22세',loc:'광주',gr:['#ec4899','#f59e0b'],stars:5,test:'🧒 정신연령 테스트',body:'정신연령 42세 나왔는데 <strong>주변에서 항상 어른스럽다고 하는 이유를 알겠어요 ㅎㅎ</strong> 재정 성향 분석이 특히 공감됐습니다.',likes:734},
  {nick:'제주사는민호',age:'26세',loc:'제주',gr:['#6366f1','#a855f7'],stars:5,test:'💎 숨겨진 재능 테스트',body:'예술 재능이라고 나와서 반신반의했는데, <strong>분석 읽어보니 진짜 그림 배워보고 싶어졌어요.</strong> 실제로 다음 주에 수업 등록했습니다!',likes:476},
  {nick:'커피한잔해요',age:'34세',loc:'성남',gr:['#f43f5e','#fb923c'],stars:5,test:'🎨 나의 컬러 테스트',body:'<strong>행운의 컬러, 향기까지 알려주는 건 처음 봤어요.</strong> 블루 나왔는데 실제로 파란색 좋아하고... 만트라도 매일 아침 되뇌고 있습니다 ㅎ',likes:603},
  {nick:'소영쓰',age:'21세',loc:'수원',gr:['#14b8a6','#3b82f6'],stars:5,test:'🏛 전생 테스트',body:'전생이 왕족이래요 ㅋㅋㅋ <strong>근데 심층 분석 보니까 리더십 성향이랑 연결돼서 신기했어요.</strong> 친구들한테 다 공유했습니다!',likes:867},
  {nick:'준혁',age:'25세',loc:'대전',gr:['#22d3ee','#818cf8'],stars:5,test:'🧠 성격유형 테스트',body:'<strong>결과가 진짜 다른 차원이에요.</strong> 5가지 성향 분석이랑 스트레스 관리법 읽고 카톡으로 바로 공유했어요!',likes:921},
  {nick:'읽는사람',age:'28세',loc:'안양',gr:['#a78bfa','#f472b6'],stars:4,test:'🧬 MBTI 심층분석',body:'INFJ인데 <strong>숨겨진 내면에 외향적 요소가 있다는 분석이 정확해요.</strong> 주변에서 가끔 외향적이라고 하는 이유를 알게 됐어요.',likes:438},
  {nick:'여행가고싶다',age:'30세',loc:'용인',gr:['#fb7185','#facc15'],stars:5,test:'💕 연애유형 테스트',body:'<strong>연애 레드플래그 경고가 진짜 유용해요!</strong> 전 남친과의 패턴이 그대로 나와서 소름... 다음 연애에서 꼭 참고할 거예요 ㅎㅎ',likes:342},
  {nick:'도연',age:'23세',loc:'천안',gr:['#c084fc','#60a5fa'],stars:5,test:'💎 숨겨진 재능 테스트',body:'음악 재능이 나왔는데 <strong>실제로 어릴 때 피아노 배웠었어요!</strong> 커리어 성장 가이드가 실질적이라 취준에 도움이 많이 됐어요.',likes:567},
  {nick:'식물키우는언니',age:'33세',loc:'일산',gr:['#34d399','#0ea5e9'],stars:5,test:'🖤 다크 성향 테스트',body:'조종자 나왔는데 ㅋㅋ 솔직히 맞는 것 같아요. <strong>근데 개선 로드맵이 진짜 구체적이라 실천하기 좋아요.</strong> 매일 하나씩 해보는 중!',likes:389},
  {nick:'호두과자',age:'20세',loc:'전주',gr:['#f59e0b','#ef4444'],stars:5,test:'🧒 정신연령 테스트',body:'정신연령 65세래요 ㅋㅋㅋ 친구들이 할머니라고 놀리는데 <strong>통찰력 분석 보니까 오히려 뿌듯해졌어요.</strong> 지혜로운 거잖아요!',likes:756},
  {nick:'그냥그냥',age:'35세',loc:'분당',gr:['#94a3b8','#64748b'],stars:4,test:'🎨 나의 컬러 테스트',body:'레드 나왔는데 <strong>성격이랑 연결된 해석이 신선했어요.</strong> 다른 컬러 테스트랑 차원이 다름. 행운의 향기까지 알려줘서 실제로 구매함 ㅎ',likes:298},
  {nick:'별보는밤',age:'19세',loc:'청주',gr:['#e879f9','#f472b6'],stars:5,test:'🏛 전생 테스트',body:'전생이 예술가래요! <strong>현재 미대 준비 중인데 운명인 것 같아요 ㅋㅋ</strong> 숨겨진 재능이랑도 연결돼서 신기했어요. 세 번이나 다시 읽었어요.',likes:1089},
  {nick:'노을사진찍는남자',age:'32세',loc:'창원',gr:['#f97316','#dc2626'],stars:5,test:'🧠 성격유형 테스트',body:'<strong>재정 성향 분석이 찔리면서도 도움됐어요 ㅋㅋ</strong> 충동구매 많은 편인데 3단계 재정 전략 따라해보니 진짜 효과있어요!',likes:445},
  {nick:'하나뿐인세상',age:'26세',loc:'울산',gr:['#a5b4fc','#c4b5fd'],stars:5,test:'💕 연애유형 테스트',body:'싱글인데 이상적인 파트너 분석 보고 <strong>내가 진짜 원하는 사람이 어떤 유형인지 명확해졌어요.</strong> 소개팅 나가기 전에 꼭 해보세요!',likes:678},
  {nick:'동현',age:'27세',loc:'김포',gr:['#2dd4bf','#818cf8'],stars:4,test:'🧬 MBTI 심층분석',body:'ENTP인데 <strong>약점 분석에서 "실행력 부족" 나온 거 완전 맞아요.</strong> 5단계 개선 로드맵 프린트해서 책상에 붙여놨어요 ㅎㅎ',likes:512},
  {nick:'쿠키',age:'23세',loc:'고양',gr:['#fbbf24','#f97316'],stars:5,test:'🖤 다크 성향 테스트',body:'친구 5명이랑 같이 했는데 <strong>결과가 다 다르게 나와서 서로 비교하느라 한참 웃었어요 ㅋㅋ</strong> 카톡 공유 기능 덕분에 바이럴 제대로!',likes:934},
  {nick:'서아맘',age:'36세',loc:'판교',gr:['#8b5cf6','#f59e0b'],stars:5,test:'🧠 성격유형 테스트',body:'아이 재우고 혼자 해봤는데 <strong>숨겨진 내면 분석에서 "완벽주의 뒤에 숨은 불안감" 부분이 너무 공감됐어요.</strong> 눈물이 났어요 진짜로.',likes:1243},
  {nick:'택배기사_성진',age:'29세',loc:'화성',gr:['#10b981','#0ea5e9'],stars:5,test:'💎 숨겨진 재능 테스트',body:'운전하다 쉬는 시간에 해봤는데 <strong>리더십 재능이래요.</strong> 언젠가 제 사업 해보고 싶었는데 용기가 생겼습니다. 직업 적합도 분석 최고!',likes:387},
  {nick:'야근중',age:'28세',loc:'여의도',gr:['#6366f1','#a855f7'],stars:4,test:'🧬 MBTI 심층분석',body:'ISTJ인데 직장에서 왜 스트레스를 받는지 <strong>스트레스 트리거 분석 보고 완전 이해됐어요.</strong> 대처법도 실용적이라 바로 적용 중입니다.',likes:456},
  {nick:'유나',age:'20세',loc:'춘천',gr:['#ec4899','#f472b6'],stars:5,test:'💕 연애유형 테스트',body:'첫 연애 중인데 <strong>사랑의 언어 분석이 너무 정확해서 남친한테 바로 공유했어요.</strong> 둘 다 서로를 더 이해하게 됐어요 감사해요!',likes:789},
  {nick:'삼겹살매니아',age:'25세',loc:'대구',gr:['#f97316','#ef4444'],stars:5,test:'🧒 정신연령 테스트',body:'정신연령 18세 ㅋㅋㅋ 서른인데 ㅋㅋㅋ <strong>근데 분석 보니까 "젊은 에너지"라고 긍정적으로 해석해줘서</strong> 기분 좋았어요!',likes:654},
  {nick:'지현이모',age:'42세',loc:'수원',gr:['#14b8a6','#10b981'],stars:5,test:'🏛 전생 테스트',body:'딸이 해보래서 했는데 <strong>전생이 치유사래요. 실제로 간호사 하고 있거든요!</strong> 소름끼쳐서 가족들 다 시켰어요 ㅎㅎ',likes:1067},
  {nick:'n년차 백수',age:'24세',loc:'서울',gr:['#818cf8','#c084fc'],stars:4,test:'💎 숨겨진 재능 테스트',body:'취준생인데 <strong>직업 적합도 TOP 5 보고 진로 방향을 확 잡았어요.</strong> 상담사 추천 나왔는데 실제로 관심 있던 분야라 놀랐습니다.',likes:523},
  {nick:'민서',age:'22세',loc:'광주',gr:['#fb7185','#fbbf24'],stars:5,test:'🎨 나의 컬러 테스트',body:'그린 나왔는데 <strong>파워 만트라가 진짜 힐링돼요.</strong> 매일 아침 읽으면서 출근하는데 확실히 하루가 달라지는 느낌!',likes:412},
  {nick:'카페사장_재원',age:'31세',loc:'홍대',gr:['#f59e0b','#dc2626'],stars:5,test:'🧠 성격유형 테스트',body:'직원들이랑 같이 했는데 <strong>대인관계 프로필 보고 서로 소통 방식이 다르다는 걸 이해하게 됐어요.</strong> 팀워크가 좋아졌습니다 진심으로.',likes:876},
  {nick:'달리는사람',age:'33세',loc:'대전',gr:['#0ea5e9','#6366f1'],stars:5,test:'🖤 다크 성향 테스트',body:'마라톤 훈련하다 쉬면서 해봤는데 <strong>승부사 나와서 운동선수 성향이랑 딱 맞았어요 ㅋㅋ</strong> 7일 챌린지를 러닝에 접목 중입니다.',likes:345},
  {nick:'하윤아빠',age:'38세',loc:'세종',gr:['#a855f7','#ec4899'],stars:5,test:'🧬 MBTI 심층분석',body:'ENFP인데 <strong>"자유로운 모습 속에 안정을 원하는 마음" 분석에 완전 공감.</strong> 가족을 위해 변하고 싶은데 그 방법을 구체적으로 알려줘서 좋았어요.',likes:598},
  {nick:'효진',age:'25세',loc:'부산',gr:['#10b981','#34d399'],stars:5,test:'💕 연애유형 테스트',body:'이별 후에 해봤는데 <strong>"연애 레드플래그" 분석 보고 왜 안 맞았는지 드디어 이해됐어요.</strong> 다음엔 더 좋은 사람 만날 수 있을 것 같아요.',likes:892},
  {nick:'새벽네시',age:'26세',loc:'강남',gr:['#6366f1','#8b5cf6'],stars:4,test:'🧒 정신연령 테스트',body:'야근하다 새벽에 해봤는데 정신연령 55세 ㅋㅋ <strong>"조기 성숙으로 인한 번아웃 주의" 분석이 찔렸어요.</strong> 스트레스 관리법 적용 중입니다.',likes:467},
  {nick:'요리하는남자',age:'30세',loc:'천안',gr:['#f97316','#fbbf24'],stars:5,test:'💎 숨겨진 재능 테스트',body:'요리 재능이 나왔는데 <strong>취미로 요리하던 걸 진지하게 생각해보게 됐어요.</strong> 유튜브 시작할지 고민 중 ㅎㅎ 직업 적합도가 진로 상담 수준!',likes:634},
  {nick:'은빈',age:'21세',loc:'인천',gr:['#ec4899','#a855f7'],stars:5,test:'🎨 나의 컬러 테스트',body:'골드 나왔는데 <strong>행운의 아이템으로 동전 모으기 시작했어요 ㅋㅋ</strong> 근데 진짜 그 뒤로 좋은 일이 생겨서 믿게 됐습니다!',likes:543},
  {nick:'PT하는형',age:'27세',loc:'강남',gr:['#10b981','#0ea5e9'],stars:5,test:'🖤 다크 성향 테스트',body:'회원님들한테 추천하고 있어요. <strong>다크 성향이 나쁜 게 아니라 "그림자 강점"이라는 해석이 신선했어요.</strong> 자존감 올라가는 분석!',likes:756},
  {nick:'주말농부',age:'40세',loc:'양평',gr:['#34d399','#10b981'],stars:5,test:'🏛 전생 테스트',body:'농부 나왔는데 <strong>실제로 주말마다 텃밭 가꾸고 있거든요 ㅋㅋㅋ</strong> 와이프가 소름끼친다고 난리. 온 가족이 해봤습니다.',likes:1134},
  {nick:'시우',age:'24세',loc:'서울',gr:['#818cf8','#f472b6'],stars:4,test:'🧠 성격유형 테스트',body:'면접 준비하면서 해봤는데 <strong>강점 활용법이 자기소개서 작성에 엄청 도움됐어요.</strong> 면접관한테 뭘 어필해야 하는지 명확해졌어요!',likes:489},
  {nick:'다이어트중',age:'28세',loc:'분당',gr:['#f43f5e','#fb923c'],stars:5,test:'🧒 정신연령 테스트',body:'정신연령 28세 딱 맞게 나왔는데 ㅋㅋ <strong>근데 세부 분석에서 "감정적 성숙도는 35세 수준"이라고 나와서</strong> 의외로 뿌듯했어요.',likes:367},
  {nick:'우주좋아',age:'19세',loc:'대전',gr:['#6366f1','#0ea5e9'],stars:5,test:'🧬 MBTI 심층분석',body:'고3인데 스트레스 받아서 해봤는데 <strong>스트레스 대처법이 진짜 실용적이에요.</strong> 4-7-8 호흡법 시험 전에 하니까 확실히 마음이 안정돼요.',likes:712}
];
const datePools=['방금','1시간 전','3시간 전','오늘','어제','2일 전','3일 전','4일 전','5일 전','1주 전','1주 전','2주 전'];
function shuffleArr(a){const b=[...a];for(let i=b.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]]}return b}
function buildReviews(){
  const rvI=document.getElementById('rvInner');if(!rvI)return;
  const shuffled=shuffleArr(allReviews);
  const picked=shuffled.slice(0,8);
  const dates=shuffleArr(datePools).slice(0,8);
  let html='';
  picked.forEach((r,i)=>{
    const initial=r.nick.charAt(0);
    const starStr='★'.repeat(r.stars)+'☆'.repeat(5-r.stars);
    const lk=r.likes+Math.floor(Math.random()*200-100);
    html+=`<div class="rv-card">
      <div class="rv-top"><div class="rv-avatar" style="background:linear-gradient(135deg,${r.gr[0]},${r.gr[1]})">${initial}</div><div class="rv-info"><div class="rv-name">${r.nick}</div><div class="rv-meta">${r.age} · ${r.loc}</div></div></div>
      <div class="rv-stars">${starStr}</div>
      <div class="rv-test">${r.test}</div>
      <div class="rv-body">${r.body}</div>
      <div class="rv-bottom"><span class="rv-likes">❤️ ${lk.toLocaleString()}</span><span class="rv-date">${dates[i]}</span></div>
    </div>`;
  });
  rvI.innerHTML=html+html;
}
buildReviews();

function animN(el,t){let s=0;const d=Math.ceil(t/40),i=setInterval(()=>{s+=d;if(s>=t){s=t;clearInterval(i)}el.textContent=s.toLocaleString();},30)}
const sU=document.getElementById('sU');if(sU)animN(sU,32847);

const cats=['전체','심리','mbti','전생','연애','능력'];
let cQ=null,cI=0,ans=[];

const pillC=document.getElementById('pills');
cats.forEach((c,i)=>{const b=document.createElement('button');b.className='pill'+(i===0?' on':'');b.textContent=c==='전체'?'🔥 전체':c==='심리'?'🧠 심리':c==='mbti'?'🧬 MBTI':c==='전생'?'🏛 전생':c==='연애'?'💕 연애':'💎 능력';b.onclick=()=>{document.querySelectorAll('.pill').forEach(p=>p.classList.remove('on'));b.classList.add('on');renderGrid(c)};pillC.appendChild(b)});

function renderGrid(f){
  const g1=document.getElementById('g1'),g2=document.getElementById('g2');
  const hot=f==='전체'?T.slice(0,4):T.filter(t=>t.cat===f).slice(0,4);
  const nw=f==='전체'?T.slice(4):T.filter(t=>t.cat===f).slice(4);
  g1.innerHTML=hot.map((t,i)=>mkCard(t,i)).join('');
  g2.innerHTML=nw.map((t,i)=>mkCard(t,i+4)).join('');
}

function mkCard(t,i){
  const bdgC=t.badge==='h'?'bdg-h':t.badge==='n'?'bdg-n':t.badge==='a'?'bdg-a':'bdg-p';
  return `<div class="card" onclick="startQ('${t.id}')" style="animation-delay:${i*0.06}s"><div class="c-vis"><div class="bg" style="background:${t.gr}"></div><span class="ic">${t.ic}</span><span class="bdg ${bdgC}">${t.bt}</span></div><div class="c-bd"><div class="c-cat">${t.cat}</div><h3 class="c-tit">${t.title}</h3><p class="c-desc">${t.desc}</p><div class="c-ft"><span>👥 ${t.plays} 참여</span><span>⏱ ${t.time}</span></div></div></div>`;
}
renderGrid('전체');

function goHome(e){e&&e.preventDefault();document.getElementById('ov').classList.remove('open');window.scrollTo({top:0,behavior:'smooth'});if(typeof updateOG==='function')updateOG('테스트릭 — 나를 알아가는 가장 재미있는 방법','성격, MBTI, 전생, 연애궁합 등 8가지 무료 심리테스트. 15가지 심층 분석 리포트 제공.')}
function scrollTo_(id,e){e&&e.preventDefault();const el=document.getElementById(id);if(el)el.scrollIntoView({behavior:'smooth',block:'start'})}

function startQ(id){
  cQ=T.find(t=>t.id===id);cI=0;ans=[];
  document.getElementById('ov').classList.add('open');document.body.style.overflow='hidden';showIntro();
}
function closeQ(){document.getElementById('ov').classList.remove('open');document.body.style.overflow='';if(typeof updateOG==='function')updateOG('테스트릭 — 나를 알아가는 가장 재미있는 방법','성격, MBTI, 전생, 연애궁합 등 8가지 무료 심리테스트. 15가지 심층 분석 리포트 제공.')}

function showIntro(){
  document.getElementById('qw').innerHTML=`<div class="qi"><div class="qi-ic">${cQ.ic}</div><h2>${cQ.title}</h2><p class="qi-d">${cQ.intro}</p><div class="qi-m"><span>📝 ${cQ.qs.length}문항</span><span>⏱ ${cQ.time}</span></div><button class="st-btn" onclick="showQs()">테스트 시작하기 →</button></div>`;
}

function showQs(){
  const q=cQ.qs[cI],pct=((cI)/cQ.qs.length*100).toFixed(0);
  const midAd='';
  const backBtn=cI>0?`<button class="q-back" onclick="prevQ()">← 이전 문항</button>`:'';
  document.getElementById('qw').innerHTML=`<div class="prog"><div class="prog-bar" style="width:${pct}%"></div></div><div class="qs">${midAd}<div class="q-st">Q${cI+1} / ${cQ.qs.length}</div><div class="q-tx">${q.q}</div><div class="q-ops">${q.o.map((o,i)=>`<button class="q-op" onclick="pickA('${o.s||o.d}',${i})">${o.t}</button>`).join('')}</div>${backBtn}</div>`;
}

function prevQ(){if(cI>0){cI--;ans.pop();showQs()}}

function pickA(v){ans.push(v);cI++;if(cI<cQ.qs.length){showQs()}else{calcResult()}}

function calcResult(){
  document.getElementById('qw').innerHTML=`<div style="text-align:center;padding:80px 0"><div style="font-size:3rem;margin-bottom:20px">🔮</div><div style="font-size:1rem;color:var(--accent-light);font-weight:600">AI가 분석 중입니다...</div><div style="margin-top:24px;width:120px;height:3px;background:var(--border);border-radius:2px;margin-left:auto;margin-right:auto;overflow:hidden"><div style="height:100%;width:40%;background:linear-gradient(90deg,var(--accent),var(--pink));border-radius:2px;animation:ld 1.2s ease-in-out infinite"></div></div></div><style>@keyframes ld{0%{margin-left:0}50%{margin-left:60%}100%{margin-left:0}}</style>`;
  setTimeout(()=>{
    let r;
    if(cQ.id==='mbti'){
      let dims={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
      ans.forEach(a=>{if(dims[a]!==undefined)dims[a]++});
      const type=(dims.E>=dims.I?'E':'I')+(dims.S>=dims.N?'S':'N')+(dims.T>=dims.F?'T':'F')+(dims.J>=dims.P?'J':'P');
      r=cQ.mbti[type]||cQ.mbti['INFP'];r._mbtiType=type;r._dims=dims;
    }else{
      const sc={};ans.forEach(a=>{sc[a]=(sc[a]||0)+1});
      const top=Object.keys(sc).sort((a,b)=>sc[b]-sc[a])[0];
      r=cQ.results[top];r._scores=sc;
    }
    showResult(r);
  },2000);
}

function showResult(r){
  const qw=document.getElementById('qw');
  // Generate extra basic result content
  const topDims=r.pm?.dim?r.pm.dim.slice(0,3).map(d=>`<div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid var(--border)"><span style="font-weight:700">${d.n}</span><span style="font-weight:800;color:var(--accent-light)">${d.v}%</span></div>`).join(''):'';
  const strengthPreview=r.pm?.strength?r.pm.strength.slice(0,2).map(s=>`<span style="display:inline-block;padding:6px 14px;border-radius:16px;background:rgba(16,185,129,.1);border:1px solid rgba(16,185,129,.2);font-size:.85rem;font-weight:600;color:var(--emerald);margin:3px">${s}</span>`).join(''):'';
  const weakPreview=r.pm?.weakness?r.pm.weakness.slice(0,2).map(w=>`<span style="display:inline-block;padding:6px 14px;border-radius:16px;background:rgba(244,63,94,.08);border:1px solid rgba(244,63,94,.18);font-size:.85rem;font-weight:600;color:#f43f5e;margin:3px">${w}</span>`).join(''):'';
  const adviceText=r.pm?.advice||'';
  const loveText=r.pm?.love||'';
  const careerPreview=r.pm?.career?r.pm.career.slice(0,3).map((c,i)=>`<span style="display:inline-flex;align-items:center;gap:4px;padding:6px 14px;border-radius:16px;background:rgba(139,92,246,.08);border:1px solid rgba(139,92,246,.18);font-size:.85rem;font-weight:600;color:var(--accent-light);margin:3px">${['🥇','🥈','🥉'][i]} ${c}</span>`).join(''):'';

  const vc=getViralCopy(r);
  qw.innerHTML=`<div class="res"><div class="res-bdg">✨ 당신의 결과</div><div class="res-ic">${r.ic}</div><h2 class="res-ty">${r.ty}</h2><p class="res-sub">${r.su}</p><div class="res-tags">${r.tg.map(t=>`<span class="tag">#${t}</span>`).join('')}</div>
    <div style="margin:20px 0;padding:18px 16px;background:linear-gradient(135deg,rgba(254,229,0,.06),rgba(139,92,246,.04));border:1px solid rgba(254,229,0,.15);border-radius:14px;text-align:center">
      <p style="font-size:.92rem;color:var(--text);margin-bottom:4px;font-weight:700">🎉 내 결과 친구에게 자랑하기!</p>
      <p style="font-size:.78rem;color:var(--text-sec);margin-bottom:14px">${vc.prompt||'친구에게 공유하고 비교해보세요!'}</p>
      <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
        <button onclick="rewardShare('kakao')" style="background:#FEE500;color:#3C1E1E;border:none;border-radius:10px;padding:10px 18px;font-weight:700;font-size:.82rem;cursor:pointer">💬 카카오톡</button>
        <button onclick="rewardShare('instagram')" style="background:linear-gradient(135deg,#833ab4,#fd1d1d,#fcb045);color:#fff;border:none;border-radius:10px;padding:10px 18px;font-weight:700;font-size:.82rem;cursor:pointer">📸 인스타</button>
        <button onclick="rewardShare('threads')" style="background:#333;color:#fff;border:none;border-radius:10px;padding:10px 14px;font-weight:700;font-size:.82rem;cursor:pointer">🔗 스레드</button>
        <button onclick="copyLink()" style="background:var(--bg-card);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px 14px;font-weight:600;font-size:.82rem;cursor:pointer">🔗 복사</button>
      </div>
    </div>
    <div class="res-txt">${r.tx}</div>
    <div id="cpMini"></div>
    ${topDims?`<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:20px 0">
      <div style="font-size:1.05rem;font-weight:800;margin-bottom:12px;display:flex;align-items:center;gap:6px">📊 핵심 성향 미리보기</div>
      ${topDims}
      <div style="text-align:center;margin-top:12px;font-size:.78rem;color:var(--text-dim)">📊 5개 전체 상세 분석은 아래에서 확인</div>
    </div>`:''}
    ${strengthPreview||weakPreview?`<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:20px 0">
      <div style="font-size:1.05rem;font-weight:800;margin-bottom:12px">💪 강점 & ⚠️ 약점</div>
      ${strengthPreview?`<div style="margin-bottom:8px"><div style="font-size:.82rem;color:var(--text-dim);font-weight:600;margin-bottom:6px">나의 강점</div>${strengthPreview}</div>`:''}
      ${weakPreview?`<div><div style="font-size:.82rem;color:var(--text-dim);font-weight:600;margin-bottom:6px">개선 포인트</div>${weakPreview}</div>`:''}
    </div>`:''}
    ${adviceText?`<div class="insight-box" style="margin:20px 0"><div class="ib-title">💡 당신을 위한 한마디</div><div class="ib-body">${adviceText}</div></div>`:''}
    ${careerPreview?`<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:20px 0">
      <div style="font-size:1.05rem;font-weight:800;margin-bottom:12px">💼 적합 직업 TOP 3</div>
      <div style="display:flex;flex-wrap:wrap;gap:4px">${careerPreview}</div>
      <div style="text-align:center;margin-top:12px;font-size:.78rem;color:var(--text-dim)">💼 TOP 5 + 상세 설명은 아래에서 확인</div>
    </div>`:''}
    <!-- ad slot reserved -->
    ${loveText?`<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:20px 0">
      <div style="font-size:1.05rem;font-weight:800;margin-bottom:10px">💕 연애 성향</div>
      <div style="font-size:.95rem;color:var(--text-sec);line-height:1.8">${loveText}</div>
    </div>`:''}
    <div class="comp"><div class="comp-t">💕 궁합</div>${r.gd?`<div class="comp-r"><span class="comp-g">✅ 최고의 궁합:</span><span>${r.gd}</span></div>`:''} ${r.bd?`<div class="comp-r"><span class="comp-b">⚠️ 주의할 궁합:</span><span>${r.bd}</span></div>`:''}</div>
    <!-- ad slot reserved -->
    <div class="sh-r"><button class="sh-btn sh-k" onclick="rewardShare('kakao')">💬 카카오톡</button><button class="sh-btn sh-ig" onclick="rewardShare('instagram')">📸 인스타그램</button><button class="sh-btn sh-th" onclick="rewardShare('threads')">🔗 스레드</button><button class="sh-btn sh-x" onclick="rewardShare('x')">𝕏 X</button><button class="sh-btn sh-c" onclick="copyLink()">🔗 링크 복사</button></div>
    <div id="cpRec"></div>
    <div class="retry-r"><button class="retry" onclick="startQ(cQ.id)">🔄 다시 하기</button><button class="retry" onclick="closeQ()">🏠 다른 테스트 보기</button></div></div>`;
  window._cResult=r;qw.scrollTo({top:0});document.getElementById('ov').scrollTo({top:0});
  // 동적 OG 업데이트 + 바이럴 문구 설정
  if(typeof updateOG==='function'){const vc=getViralCopy(r);updateOG(vc.kTitle,vc.kDesc);setTimeout(()=>{const sp=document.getElementById('pmSharePrompt');if(sp)sp.textContent=vc.prompt},400)}
  setTimeout(()=>{showPremium();setTimeout(()=>showCoupangRec(r),200)},300);
}

/* ===================================================================
   쿠팡 파트너스 — 결과 유형별 맞춤 상품 추천
   =================================================================== */
const CP_PRODUCTS={
  healing:[
    {img:'https://picsum.photos/seed/candle1/300/200',name:'감성 아로마 캔들',desc:'🔥 2만명이 선택한 힐링템',hook:'스트레스 해소 필수템',url:'https://link.coupang.com/a/dPYbAp'},
    {img:'https://picsum.photos/seed/tea22/300/200',name:'프리미엄 차 선물세트',desc:'☕ 하루 한 잔의 여유',hook:'내향형 필수 아이템',url:'https://link.coupang.com/a/dPYbAp'},
    {img:'https://picsum.photos/seed/yoga8/300/200',name:'명상 & 요가 세트',desc:'🧘 마음 챙김 시작하기',hook:'내면의 평화를 위한 선물',url:'https://link.coupang.com/a/dPYbAp'}
  ],
  brain:[
    {img:'https://picsum.photos/seed/puzzle3/300/200',name:'프리미엄 직소 퍼즐',desc:'🧩 집중력 200% UP',hook:'두뇌 자극 베스트셀러',url:'https://link.coupang.com/a/dPYcbR'},
    {img:'https://picsum.photos/seed/planner5/300/200',name:'스마트 플래너 다이어리',desc:'📋 목표 달성률 3배',hook:'전략가형 필수템',url:'https://link.coupang.com/a/dPYcbR'},
    {img:'https://picsum.photos/seed/board7/300/200',name:'전략 보드게임',desc:'🎲 IQ 자극 게임',hook:'논리력 키우는 재미',url:'https://link.coupang.com/a/dPYcbR'}
  ],
  art:[
    {img:'https://picsum.photos/seed/artwall9/300/200',name:'감성 벽걸이 그림',desc:'🖼️ 방 분위기 확 바뀜',hook:'인테리어 인생템',url:'https://link.coupang.com/a/dPYdHV'},
    {img:'https://picsum.photos/seed/drawing4/300/200',name:'아트 드로잉 세트',desc:'🎨 감성 폭발 키트',hook:'예술가 DNA 깨우기',url:'https://link.coupang.com/a/dPYdHV'},
    {img:'https://picsum.photos/seed/pencil6/300/200',name:'프리미엄 색연필 세트',desc:'✏️ 72색 감성 컬러링',hook:'창의력 UP 아이템',url:'https://link.coupang.com/a/dPYdHV'}
  ],
  growth:[
    {img:'https://picsum.photos/seed/book11/300/200',name:'자기계발 베스트셀러',desc:'📚 인생이 바뀌는 책',hook:'성공한 사람들의 공통 독서',url:'https://link.coupang.com/a/dPX38G'},
    {img:'https://picsum.photos/seed/diary13/300/200',name:'목표 달성 다이어리',desc:'🎯 꿈을 현실로 만드는 법',hook:'리더형 필수 플래너',url:'https://link.coupang.com/a/dPX38G'},
    {img:'https://picsum.photos/seed/leader15/300/200',name:'리더십 서적 모음',desc:'🏆 리더의 마인드셋',hook:'도전형의 필독서',url:'https://link.coupang.com/a/dPX38G'}
  ],
  love:[
    {img:'https://picsum.photos/seed/flower17/300/200',name:'프리저브드 플라워',desc:'💐 시들지 않는 마음',hook:'연인에게 감동 선물',url:'https://link.coupang.com/a/dPYfaI'},
    {img:'https://picsum.photos/seed/letter19/300/200',name:'감성 편지지 세트',desc:'✉️ 진심을 전하는 손편지',hook:'마음을 담는 법',url:'https://link.coupang.com/a/dPYfaI'},
    {img:'https://picsum.photos/seed/perfume21/300/200',name:'인기 향수 미니어처',desc:'🌹 매력 +100 향기',hook:'첫인상을 바꾸는 비밀',url:'https://link.coupang.com/a/dPYfaI'}
  ],
  mystic:[
    {img:'https://picsum.photos/seed/tarot23/300/200',name:'입문용 타로카드 세트',desc:'🔮 운명의 메시지',hook:'SNS 화제 타로 입문',url:'https://link.coupang.com/a/dPYfIp'},
    {img:'https://picsum.photos/seed/crystal25/300/200',name:'천연 수정 원석',desc:'💎 에너지 정화 파워',hook:'공간 정화 필수 아이템',url:'https://link.coupang.com/a/dPYfIp'},
    {img:'https://picsum.photos/seed/moon27/300/200',name:'문스톤 힐링 팔찌',desc:'🌙 신비로운 보호석',hook:'행운을 부르는 액세서리',url:'https://link.coupang.com/a/dPYfIp'}
  ]
};

function getProductCategory(r,testId){
  const ty=(r.ty||'').toLowerCase();
  const tags=(r.tg||[]).join(' ').toLowerCase();
  const combined=ty+' '+tags;
  if(testId==='love') return 'love';
  if(testId==='pastlife') return 'mystic';
  if(testId==='color') return 'art';
  if(testId==='dark') return 'mystic';
  if(combined.match(/감성|예술|시인|꿈|몽상|창조|보라|퍼플|블루|달빛|봄꽃/)) return 'art';
  if(combined.match(/분석|전략|논리|관리|수호|장인|설계|냉철|산/)) return 'brain';
  if(combined.match(/열정|도전|리더|지휘|엔터|스타|번개|태양|레드|골드/)) return 'growth';
  if(combined.match(/내향|치유|따뜻|곰|천사|수호자|힐링|그린/)) return 'healing';
  if(combined.match(/신비|예언|마법|여우|트릭|대사제/)) return 'mystic';
  if(combined.match(/연애|사랑|불꽃|달빛|무지개/)) return 'love';
  const cats=['healing','brain','art','growth','love','mystic'];
  return cats[Math.floor(Math.random()*cats.length)];
}

function showCoupangRec(r){
  const el=document.getElementById('cpRec');
  if(!el) return;
  const cat=getProductCategory(r,cQ.id);
  const products=CP_PRODUCTS[cat]||CP_PRODUCTS.healing;
  const catNames={healing:'✨ 당신을 위한 힐링 아이템',brain:'🧠 두뇌 자극 추천템',art:'🎨 감성 크리에이티브 아이템',growth:'📚 성장을 위한 추천템',love:'💕 마음을 전하는 감성 아이템',mystic:'🔮 신비로운 추천 아이템'};
  const hasLinks=products[0].url&&!products[0].url.startsWith('COUPANG_LINK');
  el.innerHTML=`
    <div class="cp-rec">
      <div class="cp-rec-hd">
        <div class="cp-rec-title">${catNames[cat]||'추천 아이템'}</div>
        <div class="cp-rec-tag">AD · 제휴</div>
      </div>
      <div class="cp-cards">
        ${products.map(p=>`
          <a class="cp-card" href="${hasLinks?p.url:'#'}" target="_blank" rel="noopener noreferrer" ${hasLinks?'':'onclick="event.preventDefault()"'}>
            <div class="cp-card-img">
              <img src="${p.img}" alt="${p.name}" loading="lazy" onerror="this.parentElement.innerHTML='<div style=\\'display:flex;align-items:center;justify-content:center;height:100%;font-size:2rem;background:linear-gradient(135deg,rgba(139,92,246,.1),rgba(236,72,153,.08))\\'>🛍️</div>'">
              <div class="cp-card-hook">${p.hook}</div>
            </div>
            <div class="cp-card-body">
              <div class="cp-card-name">${p.name}</div>
              <div class="cp-card-desc">${p.desc}</div>
              <div class="cp-card-btn">${hasLinks?'쿠팡에서 보기 →':'준비 중'}</div>
            </div>
          </a>
        `).join('')}
      </div>
      <div class="cp-notice">이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다.</div>
    </div>`;
  const el2=document.getElementById('cpRec2');
  if(el2) el2.innerHTML=el.innerHTML;

  // Build mini banner HTML
  const catEmojis={healing:'🕯️',brain:'🧩',art:'🎨',growth:'📚',love:'💐',mystic:'🔮'};
  const catLabels={healing:'힐링 추천 아이템',brain:'두뇌 자극 아이템',art:'감성 크리에이티브 아이템',growth:'자기계발 추천',love:'마음을 전하는 선물',mystic:'신비로운 아이템'};

  function buildMiniBanner(p,hookText,idx){
    const ce=catEmojis[cat]||'🛍️';
    const cn=catLabels[cat]||'추천 아이템';
    return `
      <div style="margin:24px 0;border-radius:16px;overflow:hidden;border:1px solid rgba(139,92,246,.2);background:var(--bg-card)">
        <div style="display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(139,92,246,.1)">
          <span style="font-size:.9rem;font-weight:700;color:var(--text)">${ce} ${cn}</span>
          <span style="font-size:.65rem;padding:3px 10px;border-radius:20px;border:1px solid rgba(139,92,246,.25);color:var(--text-dim)">AD · 제휴</span>
        </div>
        <a href="${p.url}" target="_blank" rel="noopener noreferrer" style="display:flex;align-items:center;gap:14px;padding:14px 16px;text-decoration:none;color:var(--text)">
          <div style="width:72px;height:72px;border-radius:12px;overflow:hidden;flex-shrink:0"><img src="${p.img}" alt="${p.name}" loading="lazy" style="width:100%;height:100%;object-fit:cover" onerror="this.parentElement.innerHTML='<div style=\\'display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:rgba(139,92,246,.1);font-size:1.8rem\\'>🛍️</div>'"></div>
          <div style="flex:1;min-width:0">
            <div style="font-size:.95rem;font-weight:800;margin-bottom:3px">${p.name}</div>
            <div style="font-size:.78rem;color:var(--accent-light);margin-bottom:8px">${p.desc}</div>
            <div style="display:inline-block;padding:6px 16px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;font-size:.75rem;font-weight:700">쿠팡에서 보기 →</div>
          </div>
        </a>
        <div style="font-size:.55rem;color:var(--text-dim);text-align:right;padding:0 16px 8px">쿠팡 파트너스 활동의 일환으로 수수료를 제공받습니다</div>
      </div>`;
  }

  const topHooks={healing:'당신의 힐링을 위한 추천',brain:'분석형에게 딱 맞는 아이템',art:'감성을 채워줄 추천 아이템',growth:'성장하는 당신을 위한 책',love:'마음을 전하는 선물 추천',mystic:'신비로운 에너지 아이템'};
  const midHooks={healing:'지친 마음에 선물하세요',brain:'똑똑한 취미생활',art:'영감을 주는 아이템',growth:'오늘의 자기투자',love:'소중한 사람에게',mystic:'운명이 이끄는 아이템'};
  const hookT=topHooks[cat]||'추천';
  const hookM=midHooks[cat]||'추천 아이템';

  // Result page mini (hidden by overlay but just in case)
  const mini=document.getElementById('cpMini');
  if(mini&&products.length>0) mini.innerHTML=buildMiniBanner(products[0],hookT,0);

  // Premium overlay top banner (after overview grid)
  const miniTop=document.getElementById('cpMiniTop');
  if(miniTop&&products.length>0) miniTop.innerHTML=buildMiniBanner(products[0],hookT,0);

  // Premium overlay mid banner (between section 6 and 7)
  const miniMid=document.getElementById('cpMiniMid');
  if(miniMid&&products.length>1) miniMid.innerHTML=buildMiniBanner(products[1],hookM,1);
}

/* ===================================================================
   심층 분석 리포트 — 15개 섹션
   =================================================================== */
function showPremium(){
  const r=window._cResult;if(!r||!r.pm)return;
  const pm=r.pm;
  const ov=document.getElementById('pmOv');ov.classList.add('open');

  // Get extra premium data
  let px;
  const rKey=cQ.id+'_'+(r._mbtiType||Object.keys(cQ.results||{}).find(k=>(cQ.results||{})[k]===r)||'');
  if(PMX[rKey]){px=PMX[rKey]}
  else if(r._mbtiType){px=getMBTIPMX(r._mbtiType)}
  else{px=getGenericPMX(cQ,r)}

  const colors=['gf-purple','gf-green','gf-amber','gf-sky','gf-rose'];
  const dimIcons=['🧠','💚','⚡','🌊','🔥','💎','🎯','✨'];
  const strIcons=['💪','🎯','⭐','🏆'];
  const wkIcons=['🔧','📌','⚠️','🔑'];

  const avgScore=pm.dim.reduce((a,b)=>a+b.v,0)/pm.dim.length|0;
  const grade=avgScore>=92?'S':avgScore>=87?'A+':avgScore>=82?'A':avgScore>=77?'B+':'B';
  const pctRank=Math.max(2,Math.min(15,100-avgScore+Math.floor(Math.random()*5)));
  const totalUsers=(Math.floor(Math.random()*200)+300).toLocaleString();
  const today=new Date().toLocaleDateString('ko-KR',{year:'numeric',month:'long',day:'numeric'});

  function dimLevel(v){return v>=90?'매우 높음':v>=80?'높음':v>=70?'보통':v>=60?'다소 낮음':'낮음'}
  function dimDesc(name,v){
    const h=v>=85,templates={
      '내향성':h?'혼자만의 시간에서 깊은 에너지를 얻으며, 소수의 깊은 관계를 선호합니다. 자신만의 풍부한 내면 세계가 있으며, 이를 통해 창의적인 아이디어를 발전시킵니다. 사회적 상황에서 에너지가 소모되기 때문에, 충분한 혼자만의 시간이 정서적 건강에 필수적입니다. 이 특성은 깊이 있는 사고와 집중력의 원천입니다.':'적당히 사교적이면서도 혼자만의 시간을 즐길 줄 아는 균형 잡힌 성향입니다. 상황에 따라 유연하게 에너지를 전환할 수 있어, 다양한 환경에서 적응력이 높습니다.',
      '외향성':h?'사람들과 함께할 때 에너지가 충전되며, 새로운 만남을 두려워하지 않습니다. 자연스러운 리더십이 있으며, 그룹 내에서 분위기를 이끄는 역할을 자주 맡습니다. 풍부한 사회적 네트워크를 형성하며, 이를 통해 다양한 기회를 만들어냅니다. 다만, 혼자만의 시간을 의식적으로 확보하는 것이 장기적 건강에 중요합니다.':'필요할 때 사교적으로 행동할 수 있지만, 과도한 사교 활동에는 피로를 느낍니다. 소규모 모임이나 1:1 대화를 더 선호하며, 깊이 있는 관계를 중시합니다.',
      '직관력':h?'눈에 보이지 않는 것을 감지하는 탁월한 능력이 있습니다. 상대의 감정이나 상황의 본질을 직관적으로 파악하며, 이 능력은 인간관계와 의사결정 모두에서 큰 자산이 됩니다. 때로는 논리적 설명 없이도 올바른 판단을 내리는 경우가 많아, 주변 사람들이 놀라기도 합니다. 이 직관을 더 신뢰하고 활용하면 인생의 중요한 전환점에서 큰 도움이 됩니다.':'경험을 통해 점차 직관력을 키워가고 있습니다. 의식적인 관찰과 반성의 습관을 들이면 이 영역이 크게 발전할 수 있으며, 명상이나 마인드풀니스 연습이 직관력 향상에 도움됩니다.',
      '감수성':h?'예술적 감각과 감정의 깊이가 뛰어납니다. 다른 사람이 놓치는 미묘한 아름다움과 감정을 포착하며, 이는 창작 활동이나 대인관계에서 특별한 강점이 됩니다. 음악, 영화, 자연의 아름다움에 깊이 감동하며, 이 감수성이 삶을 풍요롭게 만듭니다. 다만, 부정적 자극에도 민감할 수 있으므로 감정적 경계를 설정하는 것이 중요합니다.':'감정적 깊이와 논리적 판단 사이에서 적절한 균형을 유지합니다. 필요할 때 감성적으로 공감하면서도, 이성적 판단을 놓치지 않는 실용적인 성향입니다.',
      '분석력':h?'복잡한 문제의 핵심을 빠르게 파악하고 체계적으로 분석하는 능력이 탁월합니다. 데이터와 패턴을 읽는 눈이 뛰어나며, 논리적 사고 과정을 통해 최적의 해결책을 도출합니다. 이 능력은 학술, 비즈니스, 기술 분야에서 특히 빛을 발하며, 복잡한 의사결정 상황에서 핵심적인 역할을 합니다. 감정적 요소도 분석에 포함시키면 더욱 완전한 판단이 가능합니다.':'논리적 사고와 직관적 판단을 상황에 맞게 활용하는 유연한 사고방식입니다. 복잡한 문제에도 당황하지 않으며, 경험과 논리를 결합해 실용적인 해결책을 찾습니다.'
    };
    return templates[name]||`${name} 수치가 ${v}%로 ${dimLevel(v)} 수준입니다. ${h?'이 영역에서 탁월한 능력을 보이며, 일상과 직업 모두에서 핵심 강점으로 활용할 수 있습니다. 이 역량은 당신의 정체성의 중요한 부분이며, 의식적으로 개발할수록 더 큰 성과를 만들어냅니다. 특히 이 강점을 인식하고 적극적으로 활용하는 것이 성장의 핵심 열쇠입니다.':'이 영역은 의식적인 개발을 통해 더 성장시킬 수 있는 잠재력이 있습니다. 현재 수준에서도 충분히 기능하지만, 관련 활동이나 학습을 통해 발전시키면 전체적인 균형이 좋아지고 새로운 가능성이 열립니다. 작은 도전부터 시작해보세요.'}`;
  }

  function careerPct(i){return[96,91,87,83,79][i]||75}
  const careerDescs=[
    '당신의 핵심 역량과 가장 높은 적합도를 보이는 직업입니다. 자연스러운 강점을 최대한 활용할 수 있으며, 일에 대한 만족도가 매우 높을 것으로 예상됩니다. 이 분야에서는 별도의 노력 없이도 자연스럽게 두각을 나타낼 수 있습니다.',
    '주요 성향과 잘 맞으며, 성장 가능성이 높은 분야입니다. 핵심 강점을 활용하면서도 새로운 역량을 개발할 수 있는 균형 잡힌 선택입니다. 장기적으로 높은 성취감을 느낄 수 있습니다.',
    '핵심 강점 일부를 활용할 수 있으며, 동시에 새로운 역량 개발의 기회도 제공합니다. 도전적이면서도 안정적인 성장 경로를 제시하며, 다양한 경험을 쌓기에 좋은 분야입니다.',
    '관심사와 연결되며, 약간의 역량 개발로 충분히 성공할 수 있는 분야입니다. 기존 강점에 새로운 스킬을 더하면 독특한 전문성을 갖출 수 있습니다.',
    '도전적이지만 보람 있는 선택이 될 수 있습니다. 기존에 없던 새로운 가능성을 열어주며, 성장 과정 자체가 큰 배움이 됩니다. 부족한 역량은 학습을 통해 충분히 보완할 수 있습니다.'
  ];

  // Section overview data
  const sections=[
    {ic:'📊',label:'종합 대시보드',preview:`등급 ${grade} · 상위 ${pctRank}%`},
    {ic:'📈',label:'5가지 성향',preview:pm.dim.map(d=>d.n).join(' · ')},
    {ic:'🔮',label:'숨겨진 내면',preview:px.hidden.substring(0,30)+'...'},
    {ic:'💪',label:'강점 분석',preview:pm.strength.slice(0,2).join(' · ')},
    {ic:'🔧',label:'성장 전략',preview:pm.weakness.slice(0,2).join(' · ')},
    {ic:'🗣️',label:'대인관계',preview:px.commStyle+' · '+px.conflictStyle},
    {ic:'💕',label:'연애 분석',preview:px.loveLanguage.substring(0,15)},
    {ic:'🤝',label:'궁합 상세',preview:'최고/도전/동일 유형'},
    {ic:'💼',label:'직업 적합도',preview:pm.career.slice(0,2).join(' · ')},
    {ic:'💰',label:'재정 성향',preview:px.moneyType},
    {ic:'🧘',label:'스트레스 관리',preview:'트리거 · 경고 · 대처법'},
    {ic:'⭐',label:'유명인 매칭',preview:pm.celeb.map(c=>c.nm).slice(0,2).join(' · ')},
    {ic:'📅',label:'7일 챌린지',preview:'미니 성장 미션'},
    {ic:'🍀',label:'행운의 요소',preview:px.luckyColor+' · '+px.luckyItem},
    {ic:'🎯',label:'오늘의 미션',preview:'바로 실천 가능'}
  ];

  let html=`
    <!-- ===== 리포트 헤더 ===== -->
    <div class="pm-report-hd">
      <div class="rpt-ic">${r.ic}</div>
      <h2>${r.ty}</h2>
      <div class="rpt-sub">${r.su}</div>
      <div class="rpt-meta">
        <span class="rpt-chip ${grade==='S'||grade==='A+'?'grade-s':'grade-a'}">등급 ${grade}</span>
        <span class="rpt-chip pct">상위 ${pctRank}%</span>
        <span class="rpt-chip">${today} 분석</span>
      </div>
      <div class="sum-badges" style="margin-top:16px">
        ${r.tg.map((t,i)=>`<span class="sum-badge ${['sb-purple','sb-green','sb-gold','sb-pink'][i%4]}">#${t}</span>`).join('')}
      </div>
    </div>

    <!-- ========================================= -->
    <!--   📋 프리미엄 요약 대시보드 (한눈에 보기)   -->
    <!-- ========================================= -->
    <div class="pm-dash">
      <div class="pm-dash-title">📋 리포트 한눈에 보기</div>

      <!-- 핵심 지표 4개 -->
      <div class="pm-metrics">
        <div class="pm-metric"><div class="mt-val mt-score">${avgScore}</div><div class="mt-lab">종합 점수</div></div>
        <div class="pm-metric"><div class="mt-val mt-grade">${grade}</div><div class="mt-lab">분석 등급</div></div>
        <div class="pm-metric"><div class="mt-val mt-pct">Top${pctRank}%</div><div class="mt-lab">${totalUsers}만명 중</div></div>
        <div class="pm-metric"><div class="mt-val mt-type">${px.commStyle}</div><div class="mt-lab">소통 유형</div></div>
      </div>

      <!-- 성향 바 차트 요약 -->
      <div class="pm-bars-summary">
        ${pm.dim.map((d,i)=>`
        <div class="pm-bar-row">
          <div class="pm-bar-label">${dimIcons[i]} ${d.n}</div>
          <div class="pm-bar-track"><div class="pm-bar-fill bf-${i%5+1}" style="width:0%" data-w="${d.v}">${d.v}%</div></div>
        </div>`).join('')}
      </div>

      <!-- 핵심 요약 그리드 -->
      <div class="pm-glance">
        <div class="pm-gl-item"><div class="gl-hd">💪 최고 강점</div><div class="gl-val">${pm.strength[0]}</div></div>
        <div class="pm-gl-item"><div class="gl-hd">🔧 성장 포인트</div><div class="gl-val">${pm.weakness[0]}</div></div>
        <div class="pm-gl-item"><div class="gl-hd">💕 사랑의 언어</div><div class="gl-val">${px.loveLanguage.split('+')[0].trim()}</div></div>
        <div class="pm-gl-item"><div class="gl-hd">💰 재정 유형</div><div class="gl-val">${px.moneyType}</div></div>
        <div class="pm-gl-item"><div class="gl-hd">💼 최적 직업</div><div class="gl-val">${pm.career[0]}</div></div>
        <div class="pm-gl-item"><div class="gl-hd">🍀 행운 컬러</div><div class="gl-val">${px.luckyColor}</div></div>
      </div>

      <!-- 15개 섹션 미리보기 그리드 -->
      <div class="pm-overview">
        ${sections.map((s,i)=>`
        <div class="pm-ov-item" onclick="document.getElementById('pmSec${i+1}').scrollIntoView({behavior:'smooth',block:'start'})">
          <span class="ov-num">${i+1}</span>
          <div class="ov-ic">${s.ic}</div>
          <div class="ov-label">${s.label}</div>
          <div class="ov-preview">${s.preview}</div>
        </div>`).join('')}
      </div>
    </div>

    <!-- 프리미엄 초반 공유 배너 -->
    <div style="margin:20px 0;padding:18px 16px;background:linear-gradient(135deg,rgba(254,229,0,.06),rgba(139,92,246,.04));border:1px solid rgba(254,229,0,.15);border-radius:14px;text-align:center">
      <p style="font-size:.92rem;color:var(--text);margin-bottom:4px;font-weight:700">🎉 이 결과 친구에게 자랑해보세요!</p>
      <p style="font-size:.78rem;color:var(--text-sec);margin-bottom:14px">같이 하면 결과 비교하는 재미가 두 배!</p>
      <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
        <button onclick="shareKakao()" style="background:#FEE500;color:#3C1E1E;border:none;border-radius:10px;padding:10px 18px;font-weight:700;font-size:.82rem;cursor:pointer">💬 카카오톡</button>
        <button onclick="shareInstagram()" style="background:linear-gradient(135deg,#833ab4,#fd1d1d,#fcb045);color:#fff;border:none;border-radius:10px;padding:10px 18px;font-weight:700;font-size:.82rem;cursor:pointer">📸 인스타</button>
        <button onclick="shareThreads()" style="background:#333;color:#fff;border:none;border-radius:10px;padding:10px 14px;font-weight:700;font-size:.82rem;cursor:pointer">🔗 스레드</button>
        <button onclick="copyLink()" style="background:var(--bg-card);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px 14px;font-weight:600;font-size:.82rem;cursor:pointer">🔗 복사</button>
      </div>
    </div>

    <div id="cpMiniTop"></div>

    <div class="pm-divider"></div>

    <!-- ===== 1. 종합 성향 대시보드 ===== -->
    <div class="pm-section" id="pmSec1">
      <div class="pm-section-title"><span class="st-num">1</span>종합 성향 대시보드</div>
      <div class="stat-grid">
        <div class="stat-box"><div class="sb-val">${avgScore}</div><div class="sb-lab">종합 점수</div><div class="sb-bar"><div class="sb-fill" style="width:0%" data-w="${avgScore}"></div></div></div>
        <div class="stat-box"><div class="sb-val">상위${pctRank}%</div><div class="sb-lab">${totalUsers}만명 중</div><div class="sb-bar"><div class="sb-fill" style="width:0%" data-w="${100-pctRank}"></div></div></div>
        <div class="stat-box"><div class="sb-val">${grade}</div><div class="sb-lab">분석 등급</div></div>
        <div class="stat-box"><div class="sb-val">${pm.dim[0].v}%</div><div class="sb-lab">핵심: ${pm.dim[0].n}</div></div>
      </div>
      <div class="insight-box">
        <div class="ib-title">📊 종합 분석 요약</div>
        <div class="ib-body">당신의 종합 점수는 <strong>${avgScore}점</strong>으로, 전체 ${totalUsers}만명의 참여자 중 <strong>상위 ${pctRank}%</strong>에 해당합니다. 이는 분석 등급 <strong>${grade}</strong>에 해당하며, ${pm.dim[0].n}(${pm.dim[0].v}%)이 가장 두드러진 핵심 역량입니다. ${pm.dim[1]?`또한 ${pm.dim[1].n}(${pm.dim[1].v}%)도 높은 수준을 보여, 이 두 역량의 조합이 당신만의 독특한 강점을 형성합니다.`:''} 아래 15개 섹션에서 각 영역의 상세한 분석을 확인해보세요.</div>
      </div>
    </div>

    <!-- ===== 2. 5가지 성향 상세 분석 ===== -->
    <div class="pm-section" id="pmSec2">
      <div class="pm-section-title"><span class="st-num">2</span>5가지 성향 상세 분석</div>
      ${pm.dim.map((d,i)=>`
        <div class="gauge-ex">
          <div class="ge-top"><span class="ge-name">${dimIcons[i]} ${d.n}</span><span class="ge-val">${d.v}% <span style="font-size:.85rem;font-weight:400;color:var(--text-dim)">(${dimLevel(d.v)})</span></span></div>
          <div class="ge-track"><div class="ge-fill ${colors[i%5]}" style="width:0%" data-w="${d.v}">${d.v}%</div></div>
          <div class="ge-desc">${dimDesc(d.n,d.v)}</div>
        </div>`).join('')}
    </div>

    <div class="pm-divider"></div>

    <!-- ===== 3. 숨겨진 내면 분석 ===== -->
    <div class="pm-section" id="pmSec3">
      <div class="pm-section-title"><span class="st-num">3</span>숨겨진 내면 분석</div>
      <div class="dt-card" style="background:linear-gradient(135deg,rgba(139,92,246,.06),rgba(236,72,153,.06));border-color:rgba(139,92,246,.15)">
        <h4>🔮 당신이 아직 발견하지 못한 또 다른 자아</h4>
        <p style="white-space:pre-line;line-height:1.95">${px.hidden}</p>
      </div>
      <div class="insight-box">
        <div class="ib-title">🪞 왜 이런 면이 숨어있을까?</div>
        <div class="ib-body">${pm.dim[0].n}이(가) 강한 만큼 그 반대편 욕구도 무의식에 존재해요. 결핍이 아니라 <strong>균형을 향한 자연스러운 움직임</strong>이에요. 가까운 사람에게 평소와 다른 모습을 조금씩 보여주는 것부터 시작해보세요.</div>
      </div>
    </div>

    <!-- ===== 4. 강점 심층 분석 ===== -->
    <div class="pm-section" id="pmSec4">
      <div class="pm-section-title"><span class="st-num">4</span>강점 심층 분석</div>
      ${pm.strength.map((s,i)=>{
        const tipDB=[
          {k:/분석|체계|논리|냉철|판단|핵심.*파악|통찰|문제.*해결/,t:'이번 주에 해볼 것: 복잡한 문제 하나를 포스트잇에 적고, 원인 3가지를 나열해보세요. "왜?"를 3번 반복하면 핵심이 보입니다. 회의에서 "정리하면 이런 뜻이죠?"라고 요약하는 습관을 들이면 이 강점이 빛나요.'},
          {k:/공감|감정.*읽|위로|배려|섬세|따뜻|미묘.*감정/,t:'이번 주에 해볼 것: 대화할 때 "그랬구나, 그때 기분이 어땠어?"라고 한 번 더 물어보세요. 이 한마디가 관계를 깊게 만들어요. 단, 상대 감정에 지치지 않도록 하루 끝에 5분간 나만의 시간을 꼭 가지세요.'},
          {k:/창의|창작|예술|감각|표현|독창|영감|아이디어/,t:'이번 주에 해볼 것: 매일 아침 3분간 떠오르는 아이디어를 메모장에 아무거나 적어보세요. 질보다 양이 중요해요. 일주일 뒤 모아보면 보석 같은 아이디어가 숨어있을 거예요.'},
          {k:/리더|비전|이끌|지휘|조직|결단|실행/,t:'이번 주에 해볼 것: 모임이나 회의에서 "그러면 이렇게 해볼까요?"라고 먼저 방향을 제시해보세요. 작은 점심 메뉴 정하기부터 시작해도 OK. 결정을 내리는 근육은 쓸수록 강해져요.'},
          {k:/관계|소통|사교|사람|연결|분위기|밝히/,t:'이번 주에 해볼 것: 아는 사람에게 "요즘 어때?"라고 먼저 연락해보세요. 카톡 한 줄이면 돼요. 매주 1명씩만 연락해도 한 달이면 든든한 네트워크가 만들어져요.'},
          {k:/학습|성장|지식|호기심|탐구|끊임없/,t:'이번 주에 해볼 것: 관심 있는 주제로 유튜브 강의 10분 하나만 들어보세요. 핵심 내용 한 줄을 메모장에 적으면 완벽해요. 매일 한 줄씩 모으면 한 달 뒤 나만의 지식 노트가 돼요.'},
          {k:/적응|유연|위기|변화|대처|융통/,t:'이번 주에 해볼 것: 출퇴근길에 평소와 다른 경로로 가보세요. 점심도 안 가본 곳에서 먹어보세요. 작은 변화에 익숙해지면 큰 변화도 두렵지 않게 돼요.'},
          {k:/용기|도전|두려움|시도|모험|대담/,t:'이번 주에 해볼 것: 평소 해보고 싶었지만 미뤘던 것 하나를 오늘 시작하세요. 온라인 클래스 결제, 새 운동 시작, 가고 싶은 카페 방문 — 뭐든 OK. 시작이 반이에요!'},
          {k:/추진|목표|끈기|집중|인내|밀어/,t:'이번 주에 해볼 것: 이번 주 목표 1개를 포스트잇에 적어 모니터에 붙이세요. 매일 자기 전에 그 목표를 위해 오늘 한 것 1가지를 체크하세요. 시각화가 추진력을 2배로 높여줘요.'},
          {k:/직관|영감|예언|신비|통찰|감각/,t:'이번 주에 해볼 것: 중요한 결정을 내리기 전 5분간 눈 감고 첫 느낌이 뭔지 적어보세요. 일주일 뒤 그 직관이 맞았는지 확인해보면 자신의 직관력에 놀랄 거예요.'},
          {k:/진정|성실|신뢰|정직|일관|책임/,t:'이번 주에 해볼 것: 약속 시간 5분 전에 도착하기를 목표로 해보세요. 작은 약속을 지키는 모습이 쌓이면 주변의 신뢰가 자연스럽게 높아져요.'},
          {k:/조화|균형|중재|갈등.*이끄|화합/,t:'이번 주에 해볼 것: 의견이 다른 두 사람 사이에서 "둘 다 일리가 있는데, 이런 건 어때?"라고 중간 의견을 내보세요. 조율하는 연습이 리더십의 시작이에요.'}
        ];
        let tip='이번 주에 해볼 것: 이 강점이 발휘되는 순간을 하루에 1번 메모해보세요. "오늘 __할 때 이 강점을 썼다" 형태로요. 일주일이면 나만의 강점 활용 패턴이 보여요.';
        for(const t of tipDB){if(t.k.test(s)){tip=t.t;break;}}
        const descDB=[
          '이 강점이 자연스럽게 나오는 순간에 주목해보세요. 그 환경을 의도적으로 만들면 성과가 눈에 띄게 달라집니다.',
          '이 역량은 꾸준히 쓸수록 날카로워져요. 의식적으로 활용하는 연습이 실력을 한 단계 끌어올립니다.',
          '전체 참여자 중 이 강점이 두드러지는 비율은 상위권에 속해요. 이미 가진 무기를 더 잘 쓰는 게 핵심이에요.',
          '이 강점은 다른 역량과 결합했을 때 시너지가 폭발해요. 약점을 보완하기보다 이 강점을 극대화하는 전략이 효과적이에요.'
        ];
        return`
        <div class="sw-card">
          <div class="sw-hd"><span class="sw-ic str">${strIcons[i]}</span><span class="sw-nm">${s}</span></div>
          <div class="sw-bd">${descDB[i%descDB.length]} ${pm.dim[i%pm.dim.length].n}(${pm.dim[i%pm.dim.length].v}%) 영역과 연결된 핵심 역량입니다.</div>
          <div class="sw-tip">💡 ${tip}</div>
        </div>`}).join('')}
    </div>

    <!-- ===== 5. 약점 & 성장 전략 ===== -->
    <div class="pm-section" id="pmSec5">
      <div class="pm-section-title"><span class="st-num">5</span>약점 & 성장 전략</div>
      ${pm.weakness.map((w,i)=>{
        const roadmaps={
          '감정 표현 어려움':[
            '📝 <strong>감정 일기 시작</strong> — 매일 밤 오늘 느꼈던 감정 3가지를 단어로 적으세요. "화남", "기쁨" 등 단순한 단어로 시작해도 충분합니다. 감정에 이름을 붙이는 것만으로 표현 능력이 향상됩니다.',
            '🪞 <strong>거울 연습</strong> — 거울 앞에서 "오늘 나는 ~해서 기뻤어" 형태의 문장을 소리내어 말해보세요. 어색하지만 반복하면 자연스러워집니다. 주 3회, 1분씩만 투자하세요.',
            '💬 <strong>안전한 사람에게 시도</strong> — 가장 편한 사람 1명에게 "사실 나 그때 ~했어"라고 감정을 전달해보세요. 큰 감정이 아니어도 됩니다. 작은 성공이 자신감을 키웁니다.',
            '📊 <strong>감정 패턴 분석</strong> — 2주간 쌓인 감정 일기를 돌아보고, 반복되는 패턴을 발견하세요. 어떤 상황에서 감정 표현이 막히는지 파악하면 대비할 수 있습니다.',
            '🎯 <strong>일상에 통합</strong> — 매일 1번 이상 타인에게 감정을 표현하는 것을 목표로 설정하세요. "고마워", "좋았어", "아쉬웠어" 등 한 마디면 충분합니다.'
          ],
          '타인 감정에 과도하게 영향':[
            '🛡️ <strong>감정 경계선 그리기</strong> — "이 감정은 내 것인가, 상대의 것인가?"를 스스로에게 물어보세요. 타인의 감정을 내 것처럼 느끼는 순간을 포착하는 것이 첫걸음입니다.',
            '⏰ <strong>감정 타이머 설정</strong> — 상대의 힘든 이야기를 들을 때 내면에 15분 타이머를 설정하세요. 시간이 지나면 "네 마음 이해해. 나도 잠깐 쉬어야 할 것 같아"라고 자연스럽게 끊는 연습을 하세요.',
            '🌿 <strong>감정 정화 루틴</strong> — 감정적으로 힘든 대화 후 반드시 5분간 혼자만의 시간을 가지세요. 산책, 심호흡, 좋아하는 음악 듣기 등 나만의 리셋 방법을 정해두세요.',
            '📖 <strong>공감 vs 동감 구분</strong> — "너의 상황이 힘들겠다(공감)"와 "나도 같이 힘들다(동감)"의 차이를 의식하세요. 공감은 유지하되, 동감으로 빠지는 순간을 알아차리세요.',
            '💪 <strong>건강한 도움 방식 확립</strong> — 실질적으로 도울 수 있는 것과 없는 것을 구분하세요. 모든 사람의 감정을 책임질 필요가 없다는 것을 받아들이면, 더 효과적으로 도울 수 있습니다.'
          ],
          '거절 어려움':[
            '🔍 <strong>거절 못하는 패턴 기록</strong> — 1주일간 "싫은데 승낙한 것"을 기록하세요. 언제, 누구에게, 왜 거절하지 못했는지 패턴을 발견하는 것이 시작입니다.',
            '⏳ <strong>즉답 대신 시간 벌기</strong> — 요청을 받으면 "생각해보고 답할게"라고 말하는 연습을 하세요. 즉시 승낙하는 습관을 끊는 것만으로도 절반의 불필요한 약속을 줄일 수 있습니다.',
            '🎭 <strong>소프트 거절 연습</strong> — "미안하지만 이번엔 어려울 것 같아"를 거울 앞에서 10번 반복하세요. 거절은 근육과 같아서 사용할수록 자연스러워집니다.',
            '⚖️ <strong>기회비용 생각하기</strong> — 매번 "예"를 말할 때마다 "이것 때문에 포기해야 하는 것은?"을 떠올리세요. 나의 시간과 에너지에도 가치가 있음을 인식하면 거절이 쉬워집니다.',
            '🌟 <strong>건강한 경계 = 건강한 관계</strong> — 거절 후 관계가 나빠지지 않았던 경험을 기록하세요. 대부분의 거절은 상대가 생각보다 잘 받아들입니다. 이 증거가 쌓이면 확신이 생깁니다.'
          ],
          '자기 희생적 경향':[
            '❤️ <strong>나의 욕구 리스트 작성</strong> — "내가 진짜 원하는 것" 10가지를 적어보세요. 타인을 위한 것이 아닌, 순수하게 나를 위한 것만. 의외로 어렵다면, 그것 자체가 변화가 필요하다는 신호입니다.',
            '🔄 <strong>도움 전 자가 체크</strong> — 누군가를 돕기 전에 "나의 에너지는 충분한가?" "이것은 내가 해야 하는 일인가?"를 3초간 점검하세요. 산소마스크는 항상 나부터 착용해야 합니다.',
            '🗓️ <strong>나만의 시간 블록</strong> — 캘린더에 매일 최소 30분 "나만의 시간"을 먼저 확보하세요. 이 시간은 타인 요청으로 대체할 수 없는 약속입니다. 나와의 약속도 약속입니다.',
            '🪞 <strong>희생 동기 점검</strong> — "진심으로 돕고 싶어서인가, 미움받을까 두려워서인가?"를 솔직히 점검하세요. 두려움에 기반한 희생은 결국 원망으로 돌아옵니다.',
            '🎁 <strong>나에게 먼저 주기</strong> — 매주 1회 "나를 위한 보상"을 실행하세요. 좋아하는 카페, 산책, 취미 시간 등. 자기돌봄이 습관이 되면 타인을 돕는 것도 더 건강해집니다.'
          ],
          '감정에 압도':[
            '🌊 <strong>감정 파도 관찰</strong> — 강한 감정이 밀려올 때 "지금 파도가 오고 있구나"라고 이름을 붙이세요. 감정의 관찰자가 되면 휩쓸리지 않습니다.',
            '🧊 <strong>5-4-3-2-1 그라운딩</strong> — 감정에 압도될 때: 보이는 것 5개, 들리는 것 4개, 만져지는 것 3개, 냄새 2개, 맛 1개를 찾으세요. 현재로 돌아오는 즉각적인 방법입니다.',
            '📝 <strong>감정 강도 측정</strong> — 감정에 1~10 점수를 매기세요. "지금 이 분노는 7점이다." 숫자로 객관화하면 감정이 작아지는 효과가 있습니다.',
            '⏰ <strong>감정 대기 시간</strong> — 강한 감정 상태에서 중요한 결정이나 대화를 하지 마세요. 최소 2시간 대기 후 다시 판단하세요. 감정의 절반은 시간이 지나면 자연스럽게 줄어듭니다.',
            '🧘 <strong>일상 안정화 루틴</strong> — 매일 아침 5분 호흡 명상을 습관화하세요. 감정적 기저 안정성이 높아지면 갑작스러운 감정 폭풍에도 흔들리지 않게 됩니다.'
          ],
          '새 환경 적응 느림':[
            '🗺️ <strong>사전 탐색 습관</strong> — 새 환경에 가기 전에 미리 정보를 수집하세요. 장소 사진, 참석자 목록, 일정 등을 파악하면 불안이 크게 줄어듭니다.',
            '🤝 <strong>앵커 포인트 확보</strong> — 새 환경에서 아는 사람 1명 또는 익숙한 물건 1개를 "안전 기지"로 삼으세요. 완전히 낯선 것보다 익숙한 요소가 하나만 있어도 적응이 빨라집니다.',
            '📅 <strong>점진적 노출</strong> — 한 번에 큰 변화를 시도하지 말고, 작은 변화를 자주 경험하세요. 새 카페, 새 산책길 등 일상의 작은 변화가 적응력을 키우는 훈련이 됩니다.',
            '📓 <strong>적응 성공 기록</strong> — 과거에 새 환경에 성공적으로 적응했던 경험을 기록하세요. "처음엔 불편했지만 결국 익숙해졌다"는 증거가 쌓이면 다음 도전이 쉬워집니다.',
            '🌱 <strong>불편함을 성장 신호로</strong> — 적응 과정의 불편함을 "약점"이 아닌 "성장 중"이라는 신호로 재해석하세요. 모든 사람이 새 환경에서 불편함을 느끼며, 이것은 자연스러운 과정입니다.'
          ],
          '과도한 자기 성찰':[
            '⏱️ <strong>성찰 시간 제한</strong> — 자기 성찰을 매일 정해진 10분으로 제한하세요. 타이머를 설정하고, 시간이 끝나면 의식적으로 다른 활동으로 전환하세요.',
            '🚶 <strong>행동 먼저 전략</strong> — "더 생각해봐야지"가 떠오를 때 즉시 5분 산책을 하세요. 몸을 움직이면 과도한 사고 루프가 자연스럽게 끊어집니다.',
            '📋 <strong>생각 vs 행동 비율 체크</strong> — 하루 중 "생각만 한 시간"과 "실제 행동한 시간"의 비율을 기록하세요. 이 비율을 5:5로 맞추는 것을 목표로 삼으세요.',
            '🗣️ <strong>외부 관점 요청</strong> — 혼자 생각이 꼬일 때 신뢰하는 사람에게 "내가 지금 너무 많이 생각하는 것 같은데 어떻게 보여?"라고 물어보세요. 외부 관점이 사고 루프를 깨뜨립니다.',
            '🎯 <strong>완료 기준 미리 설정</strong> — 무언가를 시작하기 전에 "여기까지 하면 충분하다"는 기준을 먼저 정하세요. 기준이 있으면 무한 성찰 없이 마무리할 수 있습니다.'
          ],
          '타인 기대에 맞추려는 스트레스':[
            '📝 <strong>기대 출처 분류</strong> — 느끼는 기대가 "실제 타인의 기대"인지 "내가 추측한 기대"인지 구분하세요. 대부분의 스트레스는 실제가 아닌 추측된 기대에서 옵니다.',
            '🎭 <strong>모든 사람을 만족시킬 수 없다는 것 수용</strong> — "모두를 기쁘게 하는 것은 불가능하다"를 아침마다 되뇌세요. 이 단순한 진실을 내면화하면 압박감이 줄어듭니다.',
            '⭐ <strong>나의 핵심 가치 정의</strong> — 내가 진짜 중요하게 여기는 가치 3가지를 적고 잘 보이는 곳에 붙이세요. 타인의 기대와 충돌할 때, 이 가치가 판단의 기준이 됩니다.',
            '🗣️ <strong>기대 조율 대화</strong> — 중요한 관계에서 "나에게 기대하는 게 뭐야?"를 직접 물어보세요. 막연한 추측보다 직접 확인이 스트레스를 90% 줄여줍니다.',
            '💚 <strong>자기 승인 연습</strong> — 매일 잠자기 전 "오늘 나는 충분했다"를 3번 말하세요. 타인의 승인 대신 자기 승인을 먼저 하는 습관이 근본적인 해결책입니다.'
          ],
          '혼자 있기 어려움':[
            '🕰️ <strong>혼자 시간 5분부터</strong> — 매일 5분부터 시작하세요. 핸드폰도 내려놓고 창밖을 보거나 차를 마시는 것. 점진적으로 늘려 20분까지 확장하세요.',
            '📓 <strong>혼자만의 발견 기록</strong> — 혼자 있을 때 발견한 것들을 기록하세요. 새로운 생각, 평소 못 본 것 등. 혼자만의 시간이 가치 있다는 경험이 쌓이면 습관이 됩니다.',
            '🎧 <strong>혼자 즐기는 활동 목록</strong> — 혼자여야만 즐길 수 있는 활동을 5개 이상 적으세요. 독서, 음악 감상, 그림 등. 혼자 시간을 "외로움"이 아닌 "나만의 즐거움"으로 재정의하세요.',
            '📱 <strong>연락 충동 대기</strong> — 심심해서 연락하고 싶을 때 10분만 참아보세요. 10분 후에도 정말 연락하고 싶으면 하세요. 충동적 연락과 진짜 연결 욕구를 구분하는 연습입니다.',
            '🧘 <strong>고요함의 가치 발견</strong> — 주 1회 "디지털 디톡스 1시간"을 실행하세요. 처음엔 불안하지만, 고요 속에서 자신과 대화하는 경험이 쌓이면 혼자 시간이 충전의 시간이 됩니다.'
          ],
          '깊이보다 넓이 추구':[
            '📚 <strong>깊이 체험 프로젝트</strong> — 한 가지 주제를 정하고 30일간 매일 15분씩 깊이 파보세요. 넓게 아는 것과 깊이 아는 것의 차이를 경험하면 깊이의 가치를 체감합니다.',
            '🎯 <strong>3개로 줄이기</strong> — 현재 진행 중인 관심사/프로젝트 중 최대 3개만 남기세요. "많이"가 아닌 "잘"에 집중하는 연습입니다.',
            '🤝 <strong>깊은 관계 1명 만들기</strong> — 지인 중 1명을 선택해 매주 30분 이상 깊은 대화를 나누세요. 많은 사람과 가볍게 만나는 것보다 1명과 깊이 연결되는 경험이 관계의 패러다임을 바꿉니다.',
            '📝 <strong>완성의 경험</strong> — 시작만 하고 끝내지 못한 것 중 하나를 골라 반드시 완성하세요. 완성의 성취감이 깊이 추구의 동기를 만들어줍니다.',
            '🔍 <strong>왜(Why) 5번 묻기</strong> — 관심 가는 주제에 대해 "왜?"를 5번 연속으로 물어보세요. 표면을 넘어 깊은 층으로 내려가는 사고 훈련입니다.'
          ],
          '타인 평가에 민감':[
            '📊 <strong>평가 영향 기록</strong> — 1주일간 타인의 평가나 시선이 내 행동을 바꾼 순간을 기록하세요. "누구의 어떤 평가가 나를 어떻게 바꿨는지" 패턴을 파악하세요.',
            '🧮 <strong>사실과 해석 분리</strong> — "그 사람이 나를 싫어하는 것 같아"를 "그 사람이 오늘 인사를 안 했다(사실)" + "싫어하는 것 같다(내 해석)"로 분리하세요. 사실만 보면 불안이 절반으로 줄어듭니다.',
            '🏋️ <strong>의도적 노출</strong> — 소소한 의견을 SNS나 대화에서 표현해보세요. 모두가 동의하지 않아도 괜찮다는 경험을 작은 것부터 쌓아가세요.',
            '❤️ <strong>자기 평가 기준 세우기</strong> — "나는 어떤 사람이 되고 싶은가?" 기준을 3개 정하세요. 이 기준에 부합하면 타인의 평가와 무관하게 스스로를 인정할 수 있습니다.',
            '🎯 <strong>행동 기준 내면화</strong> — 중요한 결정 전에 "이것이 타인 시선 때문인가, 내 진짜 원함인가?"를 점검하는 습관을 들이세요. 점차 내면의 나침반이 외부 시선보다 강해집니다.'
          ],
          '집중 유지 어려움':[
            '⏱️ <strong>포모도로 기법 시작</strong> — 25분 집중 + 5분 휴식 사이클로 시작하세요. 25분도 어려우면 15분부터. 짧은 집중 성공 경험이 쌓이면 자연스럽게 시간이 늘어납니다.',
            '📱 <strong>방해 요소 물리적 차단</strong> — 집중 시간에 핸드폰을 다른 방에 두세요. 의지력에 기대지 말고 환경을 바꾸세요. 환경 설계가 의지력보다 10배 효과적입니다.',
            '🎯 <strong>데일리 3 미션</strong> — 매일 아침 "오늘 반드시 완료할 3가지"만 적으세요. 10개가 아니라 3개. 적은 목표에 집중하는 것이 모든 것에 주의가 분산되는 것보다 훨씬 생산적입니다.',
            '🧠 <strong>집중 근육 훈련</strong> — 관심 없는 글을 5분간 읽는 연습을 하세요. 재미없는 것에도 집중하는 능력이 진짜 집중력입니다. 매일 5분씩 훈련하면 2주 후 차이를 느낍니다.',
            '📝 <strong>산만함 노트</strong> — 집중 중 떠오르는 딴 생각을 종이에 빠르게 적고 계속 진행하세요. 생각을 무시하지 않되, 지금은 아니라는 약속을 자신과 하는 것입니다.'
          ],
          '완벽주의 스트레스':[
            '🎯 <strong>80% 규칙 적용</strong> — "80%면 충분하다"를 만트라로 삼으세요. 완벽한 100%와 좋은 80%의 차이는 미미하지만, 투입되는 에너지는 3배입니다.',
            '⏰ <strong>데드라인 먼저 정하기</strong> — 작업 시작 전에 "이 시간까지만 한다"를 정하고, 시간이 되면 그 상태로 제출/완료하세요. 완벽주의는 시간 제한에 의해 건강하게 조절됩니다.',
            '💀 <strong>최악의 시나리오 테스트</strong> — "완벽하지 않으면 무슨 일이 일어날까?"를 끝까지 생각해보세요. 대부분 최악의 결과는 상상보다 훨씬 가볍습니다.',
            '🔄 <strong>의도적 불완전 연습</strong> — 일부러 "B급"으로 무언가를 해보세요. 이메일을 두 번 안 읽고 보내기, 약간 어수선한 채로 두기 등. 불완전함에 대한 내성을 키우세요.',
            '🎉 <strong>과정 축하 습관</strong> — 결과가 아닌 과정의 노력을 축하하세요. "잘했다"가 아닌 "열심히 했다"를 자신에게 말하세요. 과정 중심 마인드셋이 완벽주의를 건강한 성장으로 바꿉니다.'
          ],
          '관계 거리감':[
            '👋 <strong>먼저 인사하기</strong> — 매일 1명에게 먼저 안부를 물어보세요. "밥 먹었어?", "요즘 어때?" 등 가벼운 것부터. 관계의 시작은 항상 작은 시도입니다.',
            '🍽️ <strong>함께하는 시간 만들기</strong> — 주 1회 누군가와 식사 약속을 잡으세요. 함께 밥을 먹는 것만으로도 관계의 온도가 올라갑니다.',
            '💬 <strong>자기 개방 연습</strong> — 가벼운 개인 이야기부터 공유해보세요. "나 요즘 이런 거에 빠져있어"나 "어릴 때 이런 적 있었는데" 등. 자기 개방이 친밀감을 만듭니다.',
            '📱 <strong>연락 루틴 만들기</strong> — 소중한 사람 3명에게 주 1회 안부 메시지를 보내는 루틴을 만드세요. 캘린더에 알림을 설정해도 됩니다. 관계도 관리가 필요합니다.',
            '❤️ <strong>취약함 보여주기</strong> — 약한 모습을 보여주는 것이 관계를 깊게 만듭니다. "나도 이런 게 어렵더라"라고 말할 수 있는 용기가 진짜 연결을 만들어냅니다.'
          ],
          '변화에 스트레스':[
            '🔍 <strong>변화 유형 분류</strong> — 일어난 변화를 "내가 통제 가능"과 "통제 불가능"으로 나누세요. 통제 가능한 것에만 에너지를 쓰고, 나머지는 의식적으로 내려놓으세요.',
            '📋 <strong>변화 적응 계획 세우기</strong> — 변화가 생기면 바로 반응하지 말고, 종이에 "변화 내용 → 내 영향 → 대응 방안"을 적어보세요. 체계적으로 정리하면 불안이 줄어듭니다.',
            '📓 <strong>과거 성공 증거 모으기</strong> — 과거에 변화를 성공적으로 처리했던 경험을 5개 이상 적으세요. "그때도 걱정했지만 잘 됐다"는 증거가 자신감을 줍니다.',
            '🌱 <strong>작은 변화 연습</strong> — 매주 1가지 작은 변화를 의도적으로 시도하세요. 새 메뉴, 새 경로, 새 취미 등. 작은 변화에 익숙해지면 큰 변화에 대한 저항도 줄어듭니다.',
            '🧘 <strong>유연성 만트라</strong> — "계획은 변할 수 있고, 나는 적응할 수 있다"를 매일 아침 되뇌세요. 유연성은 타고나는 것이 아니라 연습으로 기르는 것입니다.'
          ],
          '완벽주의 자기 압박':[
            '📊 <strong>기대치 현실 점검</strong> — 내가 나에게 기대하는 것을 적고, "친한 친구에게도 같은 기준을 적용할까?"를 물어보세요. 대부분 자신에게만 지나치게 높은 기준을 적용합니다.',
            '🎯 <strong>"충분히 좋은" 기준 정하기</strong> — 모든 일에 100%가 아닌, 일의 중요도에 따라 60~90%의 기준을 미리 정하세요. 모든 것에 최선을 다하면 정작 중요한 것에 최선을 다할 수 없습니다.',
            '💬 <strong>자기 대화 모니터링</strong> — 내면의 자기비판 목소리가 들릴 때 "이것은 사실인가, 비판인가?"를 물어보세요. 비판이라면 친구에게 말하듯 부드럽게 바꿔 말하세요.',
            '🏖️ <strong>의식적 쉼 연습</strong> — 쉬는 것도 생산성의 일부임을 받아들이세요. 매일 30분 "아무것도 안 하는 시간"을 확보하세요. 쉬는 것에 대한 죄책감은 생산성을 오히려 떨어뜨립니다.',
            '🎉 <strong>작은 성취 인정하기</strong> — 매일 밤 오늘 해낸 것 3가지를 적으세요. 아무리 작은 것이라도. 성취를 인식하는 습관이 자기 압박을 건강한 자기 격려로 바꿔줍니다.'
          ],
          '다른 방식 인정 어려움':[
            '🔄 <strong>관점 전환 게임</strong> — 의견이 다른 사람의 입장에서 "왜 이 사람은 이렇게 생각할까?"를 3가지 이유를 찾아보세요. 이해가 아닌 이해하려는 시도 자체가 중요합니다.',
            '📖 <strong>다양한 경험 수집</strong> — 매달 1권, 평소와 다른 장르의 책을 읽거나 다른 문화의 콘텐츠를 접해보세요. 다양성에 대한 노출이 자연스럽게 수용력을 높입니다.',
            '🤝 <strong>"그것도 맞을 수 있어" 연습</strong> — 상대 의견에 동의하지 않을 때 바로 반박하지 말고, "그것도 하나의 방법이네"라고 말하는 연습을 하세요. 동의가 아닌 인정입니다.',
            '📝 <strong>나의 방식이 틀렸던 경험 목록</strong> — 과거에 내 방식이 아닌 다른 방식이 더 좋았던 경험을 찾아보세요. 이 경험이 "나의 방식만이 정답이 아니다"는 내면의 증거가 됩니다.',
            '🌈 <strong>다양성의 가치 체험</strong> — 팀 프로젝트에서 의도적으로 다른 사람의 방식을 따라해보세요. 결과가 나쁘지 않다는 경험이 쌓이면 자연스럽게 수용력이 향상됩니다.'
          ],
          '유연성 부족':[
            '🎲 <strong>즉흥 10분</strong> — 매일 10분간 계획에 없던 일을 해보세요. 즉흥적으로 산책, 음악 듣기, 낙서 등. 작은 즉흥이 유연성의 근육을 키웁니다.',
            '📝 <strong>Plan B 습관</strong> — 계획을 세울 때 항상 대안을 1개 이상 함께 적으세요. Plan B가 있다는 것만으로도 변화에 대한 불안이 크게 줄어듭니다.',
            '🔄 <strong>루틴 깨기 챌린지</strong> — 주 1회 평소 루틴 하나를 의도적으로 바꿔보세요. 다른 길로 출퇴근, 다른 메뉴 주문 등. 작은 변화에 대한 내성이 큰 변화 대응력으로 이어집니다.',
            '🧘 <strong>불확실성 수용 명상</strong> — "모든 것을 통제할 수 없고, 그래도 괜찮다"를 5분간 반복 명상하세요. 통제에 대한 집착을 내려놓는 연습입니다.',
            '🎯 <strong>결과보다 과정</strong> — 결과가 완벽하지 않아도 "이 과정에서 뭘 배웠나?"에 집중하세요. 실패해도 배움이 있다면 그것은 성공입니다.'
          ],
          '실행력 부족':[
            '⏱️ <strong>2분 규칙</strong> — 어떤 일이든 2분 안에 시작할 수 있는 첫 단계를 찾으세요. "보고서 쓰기"가 아니라 "문서 열기". 시작의 저항을 극단적으로 낮추세요.',
            '📋 <strong>마이크로 태스크 분해</strong> — 큰 과제를 15분 안에 완료할 수 있는 작은 조각으로 나누세요. "프로젝트 완성"이 아닌 "자료 3개 찾기"로. 완료 가능한 크기가 행동을 만듭니다.',
            '👥 <strong>실행 파트너 구하기</strong> — 함께 목표를 공유하고 점검할 사람을 구하세요. "이번 주 금요일까지 이것을 할게"라고 선언하면 실행 확률이 2배로 올라갑니다.',
            '📊 <strong>진행률 시각화</strong> — 할 일 목록에서 완료한 것을 크게 줄을 긋거나, 진행률 바를 만드세요. 진행되고 있다는 시각적 증거가 다음 행동의 동기를 만듭니다.',
            '🏃 <strong>완벽 대신 완료</strong> — "Done is better than perfect"를 바탕화면에 적어두세요. 완벽하지 않아도 일단 완료하는 습관이 생기면, 그 위에 개선을 얹을 수 있습니다.'
          ],
          '독단적 경향':[
            '⏸️ <strong>의견 말하기 전 3초</strong> — 자신의 생각을 말하기 전에 3초간 멈추고, 먼저 "너는 어떻게 생각해?"라고 물어보세요. 이 작은 습관이 독단에서 협력으로 가는 첫걸음입니다.',
            '📝 <strong>의견 수집 노트</strong> — 중요한 결정 전에 최소 3명의 의견을 수집하는 규칙을 정하세요. 반드시 따를 필요는 없지만, 다양한 관점을 고려했다는 것이 더 나은 결정을 만듭니다.',
            '🎭 <strong>반대 입장 사고</strong> — 자신의 의견에 대해 "이것이 틀렸다면?"을 의도적으로 생각해보세요. 자기 의견에 대한 건강한 의심이 독단을 방지합니다.',
            '🤝 <strong>위임 연습</strong> — 작은 결정부터 다른 사람에게 맡기는 연습을 하세요. 결과가 내 방식과 달라도 받아들이세요. 위임은 신뢰의 표현이자 리더십의 핵심입니다.',
            '💬 <strong>피드백 정기 요청</strong> — 매월 1회 가까운 사람에게 "내가 독단적으로 느껴질 때가 있어?"라고 물어보세요. 솔직한 피드백은 가장 빠른 성장 도구입니다.'
          ],
          '감정 민감성 부족':[
            '👀 <strong>감정 관찰 훈련</strong> — 대화할 때 상대의 표정, 목소리 톤, 몸짓을 의식적으로 관찰하세요. "지금 이 사람의 감정은 뭘까?"를 매 대화마다 1번씩 물어보세요.',
            '📚 <strong>감정 어휘 확장</strong> — 감정 단어 목록을 만들고 매일 1개씩 "오늘 나는 ~을 느꼈다"를 기록하세요. 감정에 이름을 붙이는 능력이 곧 감정 인식 능력입니다.',
            '🎬 <strong>영화/드라마 감정 연습</strong> — 영화를 볼 때 등장인물의 감정 변화를 따라가보세요. "이 장면에서 이 사람은 왜 저렇게 행동했을까?"를 생각하는 것이 공감 근육 훈련입니다.',
            '💬 <strong>감정 확인 질문</strong> — 상대의 감정이 불확실할 때 "지금 기분이 어때?"라고 직접 물어보세요. 추측보다 질문이 정확하고, 상대는 관심받는 느낌을 받습니다.',
            '❤️ <strong>감사와 공감 표현</strong> — 매일 1명에게 "네 덕분에 ~해서 고마워"를 말해보세요. 감정 표현의 시작은 감사에서 출발하면 가장 자연스럽습니다.'
          ],
          '휴식 간과':[
            '🗓️ <strong>휴식을 캘린더에 등록</strong> — 휴식도 미팅처럼 캘린더에 넣으세요. "14:00-14:30 커피 브레이크"처럼. 스케줄에 있어야 지키게 됩니다.',
            '⏰ <strong>에너지 체크포인트</strong> — 매 2시간마다 알림을 설정하고 "내 에너지가 1~10 중 몇인가?"를 체크하세요. 5 이하면 반드시 10분 휴식을 취하세요.',
            '🚫 <strong>생산성 중독 인식</strong> — "쉬면 뒤처진다"는 생각이 들 때, "번아웃은 더 큰 시간 손실"임을 기억하세요. 전략적 휴식은 게으름이 아니라 지속가능성에 대한 투자입니다.',
            '🌿 <strong>회복 활동 목록</strong> — 나를 충전시키는 활동 5가지를 적어두세요. 피곤할 때 목록에서 하나를 바로 실행하세요. 미리 정해둔 것이 있어야 쉬는 것도 쉬워집니다.',
            '😴 <strong>수면 우선순위</strong> — 수면 시간을 하루 일정 중 가장 먼저 확보하세요. 7시간 수면은 생산성, 감정 조절, 건강 모두의 기반입니다. 나머지 일정은 수면 이후에 채우세요.'
          ],
          '번아웃':[
            '🔴 <strong>번아웃 신호 체크리스트</strong> — 매주 체크하세요: 만성 피로, 의욕 저하, 짜증 증가, 수면 문제, 냉소적 태도. 3개 이상이면 즉시 부하를 줄이세요.',
            '✂️ <strong>즉시 줄이기</strong> — 현재 맡은 일 중 "내가 아니어도 되는 것"을 찾아 즉시 위임하거나 포기하세요. 번아웃 상태에서의 모든 활동은 질이 떨어지므로, 줄이는 것이 전체 효율을 높입니다.',
            '🏖️ <strong>마이크로 회복</strong> — 긴 휴가가 어렵다면, 매일 15분 "완전한 쉼"을 확보하세요. 아무것도 하지 않는 15분이 하루의 나머지를 살립니다.',
            '🗣️ <strong>도움 요청하기</strong> — "힘들다"를 입 밖으로 꺼내세요. 혼자 감당하지 않아도 됩니다. 도움을 요청하는 것은 약함이 아닌 현명함입니다.',
            '📋 <strong>경계 재설정</strong> — "할 수 있는 것"과 "해야 하는 것"의 목록을 다시 작성하세요. 번아웃은 경계가 무너졌다는 신호입니다. 건강한 경계를 다시 세우세요.'
          ],
          '갈등 회피':[
            '🔍 <strong>갈등의 의미 재해석</strong> — 갈등은 "관계가 나빠지는 것"이 아니라 "서로를 더 잘 이해할 수 있는 기회"입니다. 이 관점을 자주 되뇌세요.',
            '📝 <strong>불편함 기록</strong> — 불편한 상황을 참고 넘긴 것을 기록하세요. 쌓이면 어떤 대가를 치르게 되는지 시각적으로 확인할 수 있습니다.',
            '💬 <strong>I-메시지 연습</strong> — "너는 왜 항상~"이 아닌 "나는 ~할 때 ~하게 느껴"로 말하는 연습을 하세요. I-메시지는 갈등을 대화로 바꾸는 마법의 공식입니다.',
            '🎭 <strong>역할극 연습</strong> — 친한 친구와 갈등 상황 역할극을 해보세요. 안전한 환경에서의 연습이 실제 상황에서의 자신감을 키워줍니다.',
            '⏰ <strong>48시간 규칙</strong> — 불편한 상황이 생기면 48시간 안에 반드시 이야기하는 규칙을 세우세요. 시간이 지날수록 말하기 어려워지므로, 기한이 행동을 만듭니다.'
          ],
          '현실적 판단 어려움':[
            '📊 <strong>판단 프레임워크</strong> — 결정 전에 "장점 3가지, 단점 3가지, 현실적 제약 3가지"를 적어보세요. 감정이 아닌 사실에 기반한 판단을 훈련합니다.',
            '🤝 <strong>현실적 멘토 구하기</strong> — 실용적인 성향의 친구나 선배에게 중요한 결정 전 의견을 구하세요. 나에게 없는 관점이 균형 잡힌 판단을 만듭니다.',
            '💰 <strong>숫자로 바꾸기</strong> — 결정에 관련된 비용, 시간, 확률을 숫자로 구체화하세요. "좋을 것 같아"를 "성공 확률 약 60%, 필요 비용 50만원"으로 바꾸면 현실적 판단이 됩니다.',
            '📅 <strong>1년 후 테스트</strong> — "이 결정이 1년 후 나에게 어떤 영향을 줄까?"를 생각해보세요. 장기적 관점이 감정적/충동적 판단을 걸러줍니다.',
            '📝 <strong>결정 일기</strong> — 과거 결정과 그 결과를 기록하세요. 패턴이 보이면 "내가 어떤 상황에서 비현실적 판단을 하는지" 알게 되고, 미리 대비할 수 있습니다.'
          ],
          '비판에 민감':[
            '🔍 <strong>비판 분류하기</strong> — 받은 비판을 "건설적 피드백"과 "단순 공격"으로 나누세요. 건설적 피드백만 수용하고 나머지는 의식적으로 흘려보내세요.',
            '⏰ <strong>24시간 규칙</strong> — 비판을 받으면 24시간 후에 다시 생각해보세요. 즉각적인 감정 반응이 가라앉은 후에야 비판의 실제 가치를 판단할 수 있습니다.',
            '📊 <strong>비판 비율 체크</strong> — 받은 피드백 중 긍정과 부정의 비율을 기록하세요. 비판에 민감한 사람은 10개의 칭찬보다 1개의 비판을 더 크게 기억합니다. 실제 비율을 보면 안심이 됩니다.',
            '🛡️ <strong>자기 가치 분리</strong> — "내 작업물에 대한 비판 ≠ 나에 대한 비판"을 반복하세요. 결과물과 자아를 분리하는 것이 비판을 건강하게 받아들이는 핵심입니다.',
            '💪 <strong>비판을 연료로</strong> — 건설적 비판을 받으면 "이것을 통해 무엇을 개선할 수 있을까?"로 전환하세요. 비판을 위협이 아닌 성장 도구로 재정의하면, 비판이 두렵지 않게 됩니다.'
          ],
          '결정 장애':[
            '⏱️ <strong>결정 타이머</strong> — 결정에 시간 제한을 두세요. 작은 결정은 30초, 중간은 10분, 큰 결정은 24시간. 시간이 지나면 그냥 하나를 고르세요. 대부분의 결정은 되돌릴 수 있습니다.',
            '🎲 <strong>동전 던지기 기법</strong> — 두 선택 사이에서 고민될 때 동전을 던지세요. 결과를 보는 순간 "다행이다" 또는 "아쉽다"의 감정이 진짜 원하는 것을 알려줍니다.',
            '📋 <strong>최소 기준 설정</strong> — "이것만 충족하면 OK"라는 최소 기준을 미리 정하세요. 최적의 선택을 찾느라 아무것도 못하는 것보다, 충분히 좋은 선택을 빠르게 하는 것이 낫습니다.',
            '🔄 <strong>선택 후 후회 금지</strong> — 결정을 내린 후 "다른 걸 골랐으면 어땠을까"를 생각하지 마세요. 선택한 것을 최고로 만드는 데 에너지를 쓰세요.',
            '📝 <strong>결정 근거 기록</strong> — 결정할 때 이유를 적어두세요. 나중에 후회가 찾아오면 당시의 논리를 다시 읽어보세요. 과거의 나를 신뢰하는 연습입니다.'
          ]
        };
        // Find best matching roadmap or use generic with specific content
        let steps;
        const wLow=w.toLowerCase?w.toLowerCase():w;
        const matchKey=Object.keys(roadmaps).find(k=>wLow.includes(k.substring(0,4))||k.includes(wLow.substring(0,4)));
        if(matchKey){steps=roadmaps[matchKey]}
        else{
          // Generate contextual fallback based on the weakness text
          const fallbacks=[
            ['감정','표현','서투','어려'],[
              '📝 <strong>감정 인식 훈련</strong> — 매일 "오늘 느낀 감정 3가지"를 적으세요. 감정에 이름을 붙이는 것부터 시작합니다.',
              '🪞 <strong>안전한 표현 연습</strong> — 가장 편한 사람에게 하루 1번 감정을 전달하세요. "나 오늘 좀 힘들었어" 정도면 충분합니다.',
              '💬 <strong>비언어적 표현 활용</strong> — 말이 어려우면 이모지, 손편지, 선물 등 다른 방식으로 마음을 전하세요.',
              '📊 <strong>감정 패턴 분석</strong> — 2주간 기록을 바탕으로 어떤 상황에서 표현이 막히는지 파악하세요.',
              '🎯 <strong>표현의 일상화</strong> — "고마워", "좋았어"를 매일 사용하는 것을 목표로 하세요. 작은 표현이 큰 변화를 만듭니다.'
            ],
            ['집중','주의','산만','분산'],[
              '⏱️ <strong>시간 블록 만들기</strong> — 25분 집중 + 5분 휴식 사이클을 시도하세요. 짧은 집중부터 시작하면 됩니다.',
              '📱 <strong>환경 설계</strong> — 집중 시간에 핸드폰을 다른 방에 두고, 알림을 끄세요. 의지력 대신 환경을 바꾸세요.',
              '🎯 <strong>하루 3개 미션</strong> — 매일 아침 "오늘 꼭 할 3가지"만 정하고 그것에 집중하세요.',
              '📝 <strong>딴 생각 노트</strong> — 집중 중 떠오르는 생각을 노트에 적고 나중에 처리하세요. 생각을 잡아두면 다시 집중할 수 있습니다.',
              '🧠 <strong>집중력 근육</strong> — 매일 5분씩 관심 없는 글 읽기 연습. 재미없는 것에 집중하는 능력이 진짜 집중력입니다.'
            ],
            ['완벽','압박','기준','자기'],[
              '🎯 <strong>80% 규칙</strong> — "80%면 충분하다"를 만트라로 삼으세요. 완벽과 좋음의 차이는 적지만, 소요 에너지는 3배입니다.',
              '⏰ <strong>시간 제한</strong> — 작업 전에 마감시간을 정하고, 시간이 되면 현재 상태로 마무리하세요.',
              '💀 <strong>최악 시나리오 점검</strong> — "완벽하지 않으면 실제로 무슨 일이?" 대부분 상상보다 가볍습니다.',
              '🔄 <strong>의도적 불완전 연습</strong> — 일부러 B급으로 무언가를 해보세요. 불완전함에 대한 내성 키우기.',
              '🎉 <strong>과정 축하하기</strong> — 결과가 아닌 노력을 축하하세요. "잘했다"가 아닌 "열심히 했다"로 바꾸세요.'
            ],
            ['변화','적응','새','유연'],[
              '🌱 <strong>작은 변화 연습</strong> — 매주 1가지 작은 변화를 시도하세요. 새 카페, 새 메뉴, 새 경로 등.',
              '📋 <strong>변화 대응 계획</strong> — 변화 발생 시 "내용 → 영향 → 대응"을 종이에 적어 체계화하세요.',
              '📓 <strong>적응 성공 기록</strong> — 과거에 변화에 잘 적응했던 경험을 모으세요. 증거가 자신감을 줍니다.',
              '🧘 <strong>유연성 만트라</strong> — "계획은 변할 수 있고, 나는 적응할 수 있다"를 매일 되뇌세요.',
              '🎲 <strong>즉흥 연습</strong> — 매일 10분, 계획에 없던 일을 해보세요. 작은 즉흥이 유연성을 키웁니다.'
            ],
            ['관계','거리','사교','혼자'],[
              '👋 <strong>먼저 인사하기</strong> — 매일 1명에게 먼저 안부를 물어보세요. 작은 시도가 관계의 시작입니다.',
              '🍽️ <strong>함께하는 시간</strong> — 주 1회 누군가와 식사 약속을 잡으세요. 함께 밥 먹기만으로 온도가 올라갑니다.',
              '💬 <strong>자기 개방</strong> — 가벼운 개인 이야기부터 공유해보세요. 자기 개방이 친밀감을 만듭니다.',
              '📱 <strong>연락 루틴</strong> — 소중한 사람 3명에게 주 1회 안부를 보내는 루틴을 만드세요.',
              '❤️ <strong>취약함 보여주기</strong> — 약한 모습을 보여주는 것이 관계를 깊게 만드는 가장 빠른 방법입니다.'
            ],
            ['희생','거절','경계','맞추'],[
              '❤️ <strong>나의 욕구 파악</strong> — "내가 진짜 원하는 것" 10가지를 적어보세요. 나를 위한 것만.',
              '🔄 <strong>도움 전 자가 체크</strong> — 돕기 전에 "내 에너지는 충분한가?"를 점검하세요.',
              '🗓️ <strong>나만의 시간 확보</strong> — 매일 30분 "나만의 시간"을 먼저 확보하세요. 이것은 양보 불가입니다.',
              '🪞 <strong>동기 점검</strong> — "진심인가, 미움받을까 두려운 것인가?"를 솔직히 점검하세요.',
              '🎁 <strong>나에게 먼저</strong> — 매주 1회 나를 위한 보상을 실행하세요. 자기돌봄이 습관이 되면 타인 돌봄도 건강해집니다.'
            ]
          ];
          steps=null;
          for(let fi=0;fi<fallbacks.length;fi+=2){
            if(fallbacks[fi].some(kw=>wLow.includes(kw))){steps=fallbacks[fi+1];break;}
          }
          if(!steps){
            steps=[
              '🔍 <strong>패턴 발견</strong> — "'+w+'" 패턴이 나타나는 구체적 상황을 1주일간 기록하세요. 언제, 어디서, 누구와 함께할 때 이 패턴이 강해지는지 파악하는 것이 시작입니다.',
              '📊 <strong>영향도 측정</strong> — 이 패턴이 일상에 미치는 영향을 1~10으로 매일 평가하세요. 수치화하면 개선을 객관적으로 추적할 수 있고, 작은 변화도 눈에 보입니다.',
              '🔄 <strong>대안 행동 선택</strong> — 이 패턴 대신 할 수 있는 구체적인 대안 행동 3가지를 미리 적어두세요. 패턴이 나타날 때 준비된 대안을 즉시 실행하면 자동적 반응을 끊을 수 있습니다.',
              '👥 <strong>지원 시스템 구축</strong> — 이 변화를 함께할 사람을 1명 정하세요. "이 부분을 개선하고 있으니 알려줘"라고 부탁하면, 외부의 시선이 변화를 가속시킵니다.',
              '🎯 <strong>4주 회고</strong> — 4주 후 처음 기록과 비교해보세요. 아무리 작은 변화라도 인정하고 축하하세요. 완벽한 변화가 아니라 지속적인 개선이 진짜 성장입니다.'
            ];
          }
        }
        return`
        <div class="sw-card">
          <div class="sw-hd"><span class="sw-ic wk">${wkIcons[i]}</span><span class="sw-nm">${w}</span></div>
          <div class="sw-bd">이 약점은 ${pm.dim[pm.dim.length-1-i%pm.dim.length]?.n||'특정 성향'}의 과도함 또는 부족에서 비롯됩니다. 흥미롭게도 이 약점은 당신의 강점인 "${pm.strength[i%pm.strength.length]}"의 그림자이기도 합니다. 강점이 과도하게 발현되면 이 약점이 나타나는 패턴을 인식하는 것이 첫 번째 단계입니다.</div>
          <div class="sw-tip">🛠️ 5단계 맞춤 개선 로드맵:<br><br>
          <strong>1단계 · 인식</strong> — ${steps[0]}<br><br>
          <strong>2단계 · 연습</strong> — ${steps[1]}<br><br>
          <strong>3단계 · 전환</strong> — ${steps[2]}<br><br>
          <strong>4단계 · 강화</strong> — ${steps[3]}<br><br>
          <strong>5단계 · 통합</strong> — ${steps[4]}</div>
        </div>`}).join('')}
    </div>

    <div class="pm-divider"></div>

    <!-- ===== 6. 대인관계 프로필 ===== -->
    <div class="pm-section" id="pmSec6">
      <div class="pm-section-title"><span class="st-num">6</span>대인관계 프로필</div>
      <div class="pf-grid">
        <div class="pf-item"><div class="pf-ic">🗣️</div><div class="pf-lab">소통 스타일</div><div class="pf-val">${px.commStyle}</div></div>
        <div class="pf-item"><div class="pf-ic">⚔️</div><div class="pf-lab">갈등 해결</div><div class="pf-val">${px.conflictStyle}</div></div>
        <div class="pf-item"><div class="pf-ic">👥</div><div class="pf-lab">관계 에너지</div><div class="pf-val">${pm.dim[0].v>88?'깊은 소수':'넓은 다수'} 지향</div></div>
        <div class="pf-item"><div class="pf-ic">🤝</div><div class="pf-lab">신뢰 구축</div><div class="pf-val">${pm.dim[0].v>85?'느리지만 깊게':'빠르고 넓게'}</div></div>
      </div>
      <div class="insight-box">
        <div class="ib-title">💬 소통 스타일</div>
        <div class="ib-body">${px.commDesc} ${px.commStyle==='주도형'?'대화를 이끌며 빠른 관계 형성에 탁월해요. 다만 상대의 이야기를 끝까지 듣는 연습이 필요해요.':px.commStyle==='경청형'?'진정으로 들어주는 느낌에 상대가 깊은 신뢰를 느껴요. 자신의 의견을 적극적으로 표현하는 연습도 해보세요.':'상황에 맞게 유연하게 소통하며, 그룹 내 자연스러운 조율자 역할을 해요.'}</div>
      </div>
      <div class="insight-box">
        <div class="ib-title">⚔️ 갈등 해결 패턴</div>
        <div class="ib-body">${px.conflictDesc} 효과적인 전략: ① 감정이 가라앉을 때까지 시간 확보 → ② 핵심 쟁점 정리 → ③ 상대 입장 먼저 이해하기. 이 3단계면 갈등이 관계를 깊게 만드는 기회가 됩니다.</div>
      </div>
    </div>

    <div id="cpMiniMid"></div>
    <!-- 카카오 애드핏 (결과지 중간) -->
    <div style="text-align:center;margin:16px 0">
      <ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-WcSR8S48AekqmYbK" data-ad-width="320" data-ad-height="100"></ins>
    </div>

    <!-- ===== 7. 연애 심층 분석 ===== -->
    <div class="pm-section" id="pmSec7">
      <div class="pm-section-title"><span class="st-num">7</span>연애 심층 분석</div>
      <div class="love-profile">
        <div class="lp-item"><div class="lp-ic">💌</div><div class="lp-lab">사랑의 언어</div><div class="lp-val">${px.loveLanguage}</div></div>
        <div class="lp-item"><div class="lp-ic">👤</div><div class="lp-lab">이상적 파트너</div><div class="lp-val">${px.idealPartner.split('—')[0]||px.idealPartner.substring(0,20)}</div></div>
      </div>
      <div class="insight-box">
        <div class="ib-title">💕 사랑의 언어</div>
        <div class="ib-body">${px.loveDetail} ${px.loveLanguage.includes('시간')?'핸드폰 내려놓고 눈 맞추며 대화하는 순간에 가장 큰 사랑을 느껴요.':px.loveLanguage.includes('말')?'진심 어린 한마디가 천 가지 선물보다 값져요.':px.loveLanguage.includes('봉사')?'말보다 행동으로 사랑을 증명하는 타입이에요.':'다양한 방식으로 사랑을 표현하며 상대에게 유연하게 맞출 수 있어요.'}</div>
      </div>
      <div class="insight-box">
        <div class="ib-title">💑 이상적인 파트너 상세</div>
        <div class="ib-body">${px.idealPartner}<br><br>이런 파트너를 만났을 때 느끼는 감정: 함께 있으면 자연스럽게 더 나은 사람이 되고 싶어지며, 서로의 성장을 응원하는 관계가 만들어집니다. 파트너를 찾을 때 이 유형의 특성을 의식적으로 관찰해보세요.</div>
      </div>
      <div class="insight-box">
        <div class="ib-title">🚩 연애 레드플래그 경고</div>
        <div class="ib-body">${px.loveRedFlag}<br><br>⚠️ 이런 신호가 보이면 주의하세요: 관계에서 지속적으로 에너지가 소진되는 느낌, 자기 자신을 잃어가는 감각, 상대에게 맞추느라 자신의 욕구를 계속 무시하게 되는 패턴. 건강한 관계는 서로에게 에너지를 <strong>충전</strong>시켜주는 관계입니다.</div>
      </div>
      ${pm.love||r.love?`<div class="insight-box"><div class="ib-title">💘 연애 패턴 종합</div><div class="ib-body">${(pm.love||r.love).replace(/\n/g,'<br>')}</div></div>`:''}
    </div>

    <div class="pm-divider"></div>

    <!-- ===== 8. 궁합 상세 분석 ===== -->
    <div class="pm-section" id="pmSec8">
      <div class="pm-section-title"><span class="st-num">8</span>궁합 상세 분석</div>
      ${r.gd?`<div class="compat-item"><div class="ci-ic">💕</div><div class="ci-info"><div class="ci-name">최고의 궁합: ${r.gd}</div><div class="ci-desc">서로의 부족한 부분을 자연스럽게 채워주는 이상적인 조합입니다. 함께할 때 시너지가 극대화되며, 서로에게 새로운 시각을 선물합니다. 갈등이 생기더라도 본질적인 가치관이 맞기 때문에 쉽게 해결할 수 있습니다.</div></div><div class="ci-pct high">95%</div></div>`:''}
      ${r.bd?`<div class="compat-item"><div class="ci-ic">⚡</div><div class="ci-info"><div class="ci-name">도전적 궁합: ${r.bd}</div><div class="ci-desc">초기에는 강한 끌림을 느낄 수 있지만, 깊어질수록 핵심 가치관의 차이가 드러납니다. 그러나 서로를 통해 가장 많이 성장할 수 있는 관계이기도 합니다. 의식적인 소통과 상호 존중이 핵심 열쇠입니다.</div></div><div class="ci-pct low">45%</div></div>`:''}
      <div class="compat-item"><div class="ci-ic">🤝</div><div class="ci-info"><div class="ci-name">같은 유형 궁합</div><div class="ci-desc">깊은 공감대와 이해가 장점이지만, 약점도 겹치기 때문에 서로를 보완하기 어렵습니다. 편안하지만 성장의 자극이 부족할 수 있으며, 의식적으로 새로운 경험을 함께 시도하는 것이 관계 유지의 핵심입니다.</div></div><div class="ci-pct mid">68%</div></div>
    </div>

    <!-- ===== 9. 직업 적합도 분석 ===== -->
    <div class="pm-section" id="pmSec9">
      <div class="pm-section-title"><span class="st-num">9</span>직업 적합도 TOP 5</div>
      ${pm.career.map((c,i)=>{const p=careerPct(i);return`
        <div class="career-item">
          <div class="cr-top"><span class="cr-name">${['🥇','🥈','🥉','4️⃣','5️⃣'][i]} ${c}</span><span class="cr-pct">${p}%</span></div>
          <div class="cr-bar"><div class="cr-fill ${colors[i%5]}" style="width:0%" data-w="${p}">${p}%</div></div>
          <div class="cr-desc">${careerDescs[i]}</div>
        </div>`}).join('')}
      <div class="insight-box" style="margin-top:16px">
        <div class="ib-title">💼 커리어 성장 가이드</div>
        <div class="ib-body">당신의 핵심 역량인 ${pm.dim[0].n}과 ${pm.dim[1]?.n||pm.dim[0].n}을(를) 가장 잘 활용할 수 있는 직업은 <strong>${pm.career[0]}</strong>입니다. 현재 직업이 다르더라도 걱정하지 마세요. 이 역량들은 어떤 분야에서든 차별화된 가치를 만들어낼 수 있습니다.<br><br>💡 <strong>실천 팁:</strong> 현재 직장에서 ${pm.strength[0]}을(를) 더 적극적으로 활용할 수 있는 프로젝트나 역할을 찾아보세요. 관심 있는 TOP 5 직업 중 하나에 대해 이번 달 안에 관련 분야 사람과 대화해보는 것을 추천합니다.</div>
      </div>
    </div>

    <div class="pm-divider"></div>

    <!-- ===== 10. 재정 & 소비 성향 ===== -->
    <div class="pm-section" id="pmSec10">
      <div class="pm-section-title"><span class="st-num">10</span>재정 & 소비 성향</div>
      <div class="pf-grid">
        <div class="pf-item"><div class="pf-ic">💰</div><div class="pf-lab">재정 유형</div><div class="pf-val">${px.moneyType}</div></div>
        <div class="pf-item"><div class="pf-ic">📊</div><div class="pf-lab">저축 성향</div><div class="pf-val">${pm.dim.some(d=>d.n.includes('계획')||d.n.includes('체계')||d.n.includes('책임'))?'높음':'보통'}</div></div>
      </div>
      <div class="insight-box">
        <div class="ib-title">💳 소비 패턴 분석</div>
        <div class="ib-body">${px.moneyDesc}<br><br>당신의 성향을 고려한 재정 관리 핵심 전략: <strong>①</strong> ${px.moneyType.includes('저축')||px.moneyType.includes('관리')?'이미 좋은 저축 습관이 있으니, 투자에 대한 학습을 시작해보세요.':'매달 수입의 최소 20%를 자동이체로 저축하는 시스템을 만드세요.'} <strong>②</strong> ${px.moneyType.includes('충동')||px.moneyType.includes('경험')?'큰 소비 전 24시간 대기 규칙을 적용해보세요. 하루 지나면 절반은 필요 없는 소비였다는 것을 알게 됩니다.':'가끔은 자신을 위한 "보상 소비" 예산을 따로 만들어 두세요. 경직된 재정 관리는 오래 가지 못합니다.'} <strong>③</strong> 월 1회 재정 점검일을 정해 수입/지출을 리뷰하세요.</div>
      </div>
    </div>

    <!-- ===== 11. 스트레스 & 멘탈 관리 ===== -->
    <div class="pm-section" id="pmSec11">
      <div class="pm-section-title"><span class="st-num">11</span>스트레스 & 멘탈 관리</div>
      <div class="insight-box">
        <div class="ib-title">⚡ 스트레스 트리거</div>
        <div class="ib-body">${px.stressTrigger}<br><br>이런 상황들이 반복될 때, 당신의 에너지 레벨은 빠르게 떨어집니다. 핵심은 이 트리거를 미리 인식하고, 상황이 발생하기 전에 예방적으로 대처하는 것입니다. 주간 일정을 계획할 때 이 트리거에 해당하는 상황이 있는지 체크하고, 그 전후에 충전 시간을 배치하세요.</div>
      </div>
      <div class="insight-box">
        <div class="ib-title">🚨 스트레스 경고 신호</div>
        <div class="ib-body">${px.stressSign}<br><br>이 신호가 나타나면 이미 스트레스가 높은 단계에 도달한 것입니다. 즉각적으로 일상의 속도를 늦추고, 아래의 대처법을 실행하세요. 경고 신호를 빨리 인식할수록 회복도 빨라집니다. 가까운 사람에게 "지금 내가 이런 상태인 것 같아"라고 말하는 것만으로도 큰 도움이 됩니다.</div>
      </div>
      <div class="insight-box">
        <div class="ib-title">🧘 맞춤 대처법</div>
        <div class="ib-body">${px.stressCoping}<br><br><strong>즉각 실행 가능한 5분 리셋법:</strong><br>① 현재 하던 것을 멈추고 눈을 감으세요<br>② 4초 들숨 - 7초 멈춤 - 8초 날숨을 3회 반복<br>③ "지금 이 순간 나는 안전하다"를 3번 되뇌세요<br>④ 가장 좋아하는 음악 한 곡을 들으며 스트레칭</div>
      </div>
      <div class="insight-box">
        <div class="ib-title">💚 건강 & 웰니스 팁</div>
        <div class="ib-body">${px.healthTip}<br><br>당신의 유형에 특히 중요한 건강 습관: 수면의 질 관리(같은 시간에 자고 일어나기), 주 3회 이상 30분 유산소 운동, 그리고 하루 2리터 이상의 물 마시기. 이 세 가지만 꾸준히 지켜도 스트레스 저항력이 크게 향상됩니다.</div>
      </div>
    </div>

    <div class="pm-divider"></div>

    <!-- ===== 12. 유명인 매칭 ===== -->
    <div class="pm-section" id="pmSec12">
      <div class="pm-section-title"><span class="st-num">12</span>같은 유형의 유명인</div>
      <div class="fm-row">${pm.celeb.map((c,i)=>`<div class="fm-item"><div class="fm-avatar av-${i+1}">${c.em}</div><div class="fm-nm">${c.nm}</div><div class="fm-tag">${pm.dim[i%pm.dim.length]?.n||'유사'} ${pm.dim[i%pm.dim.length]?.v||85}%</div></div>`).join('')}</div>
      <div class="insight-box" style="margin-top:16px">
        <div class="ib-title">⭐ 유명인과의 공통점 분석</div>
        <div class="ib-body">이 유명인들은 당신과 같은 핵심 역량인 "${pm.dim[0].n}"과 "${pm.dim[1]?.n||pm.dim[0].n}"이 뛰어난 인물들입니다. ${pm.celeb[0]?.nm||'이 유명인'}은(는) ${pm.strength[0]}의 강점을 자신의 분야에서 극대화하여 성공을 거두었습니다.<br><br>이들의 공통된 성공 패턴: <strong>①</strong> 자신의 강점을 정확히 인식하고 그 분야에 집중함 <strong>②</strong> 약점을 보완하기보다 강점을 극대화하는 전략 선택 <strong>③</strong> 꾸준한 자기 개발과 도전을 멈추지 않음. 당신도 같은 잠재력을 가지고 있습니다.</div>
      </div>
    </div>

    <!-- ===== 13. 7일 미니 챌린지 ===== -->
    <div class="pm-section" id="pmSec13">
      <div class="pm-section-title"><span class="st-num">13</span>7일 미니 챌린지</div>
      <div style="text-align:center;margin-bottom:20px;padding:14px;background:rgba(139,92,246,.06);border-radius:14px;border:1px solid rgba(139,92,246,.15)">
        <div style="font-size:1.5rem;margin-bottom:6px">🎯</div>
        <div style="font-size:.95rem;font-weight:700;color:var(--text);margin-bottom:4px">딱 일주일만 도전해보세요!</div>
        <div style="font-size:.82rem;color:var(--text-sec)">하루 5분, 부담 없는 미니 미션으로 변화를 시작하세요</div>
        <div onclick="downloadChecklist()" style="margin:12px auto 0;max-width:340px;padding:16px 20px;background:linear-gradient(135deg,#7c3aed,#a78bfa);border-radius:14px;cursor:pointer;text-align:center;box-shadow:0 4px 20px rgba(139,92,246,.35);transition:all .3s" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 24px rgba(139,92,246,.45)'" onmouseout="this.style.transform='';this.style.boxShadow='0 4px 20px rgba(139,92,246,.35)'"><div style="font-size:1.6rem;margin-bottom:6px">📥</div><div style="font-size:.95rem;font-weight:800;color:#fff;margin-bottom:4px">7일 미니 챌린지 체크리스트</div><div style="font-size:.78rem;color:rgba(255,255,255,.7)">탭하여 다운로드 →</div></div>
      </div>
      ${(function(){
        const cm={
          personality:['거울 보면서 나를 한 문장으로 표현하기 & 오늘 기분을 이모지 3개로 적기','친한 친구에게 "고마워" 메시지 보내기 & 편안한 장소에서 5분 호흡하기','좋아하는 노래 가사에서 나와 겹치는 부분 찾기 & 맛있는 음식 사진 찍기','이번 주 나에게 잘한 점 3가지 소리 내서 말하기'],
          mbti:['포스트잇에 오늘 할 일 3개 적기 & 안 가본 메뉴 도전하기','동료에게 "요즘 어때?" 먼저 물어보기 & 10분 핸드폰 내려놓기','내일 입을 옷 미리 골라놓기 & 좋아하는 영상 하나 정주행','이번 주 가장 뿌듯했던 순간 한 줄로 적기'],
          pastlife:['오늘 하늘 사진 한 장 찍기 & 어릴 때 좋아했던 간식 사먹기','5분간 가장 행복했던 기억 떠올리기 & 안 읽던 장르 탐색','평소 안 지나던 길로 산책하기 & 가족에게 옛날 이야기 물어보기','오늘 발견한 예쁜 것 한 가지 기록하기'],
          love:['소중한 사람에게 좋아하는 점 1가지 말하기 & 좋은 가사 캡처하기','혼자 카페에서 10분 여유 부리기 & 연애에서 중요한 것 3개 적기','친구에게 맛집 추천 물어보기 & 내 장점 5개 메모장에 적기','가장 웃었던 순간 떠올리며 일기 쓰기'],
          mentalage:['알람보다 5분 먼저 일어나기 & 모르는 단어 하나 검색하기','점심 후 10분 스트레칭 & 흥미로운 뉴스 하나 요약하기','안 연락한 친구에게 "밥 먹자" 연락하기 & 감사한 것 1가지 생각하기','이번 주 새로 배운 것 한 가지 정리하기'],
          dark:['좋아하는 음악 3분 집중해서 듣기 & 화난 일 적고 찢어버리기','밤에 별/달 1분 올려다보기 & 스트레스 해소법 TOP 3 적기','좋아하는 명대사 필사하기 & 힘든 것 vs 기쁜 것 비교하기','거울 보면서 "수고했어" 한마디 해주기'],
          talent:['잘한다는 소리 듣는 것 3가지 적기 & 관심 분야 강의 10분 듣기','5분 자유 아이디어 적기 & 존경하는 사람 인터뷰 영상 찾기','뭔가 만들어보기(요리/글/그림 OK) & 1년 후 되고 싶은 모습 한 문장 적기','이번 주 가장 재미있었던 시도 골라보기'],
          color:['오늘 옷 색깔과 기분 비교하기 & 예쁜 색감 발견해서 사진 찍기','좋아하는 색으로 작은 것 꾸미기 & 안 쓰는 색 펜으로 메모하기','하늘 색 3번 다른 시간대에 관찰하기 & 좋아하는 사진 배경화면 설정','이번 주 가장 눈에 띄었던 색 기록하기'],
          animal:['동물 사진 한 장 찍기 & 좋아하는 동물 영상 5분 보기','동물처럼 기지개 스트레칭 & 반려동물에게 간식 주기','동물 다큐 10분 보기 & 오늘을 동물로 표현해보기','이번 주 가장 귀여웠던 동물 사진 저장하기'],
          money:['오늘 쓴 돈 한 줄 메모하기 & 커피값 아끼기 도전','사고 싶은 것 3개 중 필요한 것 체크 & 저금통 만들기','구독 서비스 정리하기 & 안 쓰는 물건 중고거래 올리기','이번 주 잘한 소비 vs 후회 소비 적어보기'],
          stress:['크게 기지개 3번 & 10분 산책하기','좋아하는 향 맡으며 심호흡 & 스트레스 종이에 적고 버리기','따뜻한 물 천천히 마시며 3분 멍때리기 & 좋아하는 노래 따라부르기','이번 주 나에게 "잘 버텼어!" 한마디 해주기']
        };
        const testCM=cm[cQ.id]||cm.personality;
        return testCM.map((m,i)=>`
        <div class="mission-card">
          <div class="mc-week">${['DAY 1~2','DAY 3~4','DAY 5~6','DAY 7'][i]}</div>
          <div class="mc-title">${['☀️','💪','🌈','⭐'][i]} ${['가볍게 워밍업','조금씩 도전','나만의 루틴','셀프 칭찬 데이'][i]}</div>
          <div class="mc-body">이번 주: ${m}<br><br>${['첫걸음은 작을수록 좋아요. 부담 없이 시작해보세요! 😊','조금 어색해도 괜찮아요. 어제보다 한 발짝 나아갔으면 성공! 💪','이제 슬슬 익숙해지는 느낌이 올 거예요. 꾸준함이 핵심! 🌱','일주일 동안의 나를 돌아보며 스스로 칭찬해주세요. 당신은 이미 성장 중! 🎉'][i]}</div>
        </div>`).join('')})()} 
    </div>

    <!-- ===== 14. 행운의 요소 ===== -->
    <div class="pm-section" id="pmSec14">
      <div class="pm-section-title"><span class="st-num">14</span>행운의 요소</div>
      <div class="lucky-grid">
        <div class="lucky-item"><div class="lk-ic">🎨</div><div class="lk-lab">행운의 컬러</div><div class="lk-val">${px.luckyColor}</div></div>
        <div class="lucky-item"><div class="lk-ic">🔢</div><div class="lk-lab">행운의 숫자</div><div class="lk-val">${px.luckyNum}</div></div>
        <div class="lucky-item"><div class="lk-ic">📅</div><div class="lk-lab">행운의 요일</div><div class="lk-val">${px.luckyDay}</div></div>
        <div class="lucky-item"><div class="lk-ic">🎁</div><div class="lk-lab">행운의 아이템</div><div class="lk-val">${px.luckyItem}</div></div>
        <div class="lucky-item"><div class="lk-ic">🌸</div><div class="lk-lab">행운의 향기</div><div class="lk-val">${px.luckyScent}</div></div>
        <div class="lucky-item"><div class="lk-ic">✨</div><div class="lk-lab">파워 만트라</div><div class="lk-val" style="font-size:.92rem">${px.mantra}</div></div>
      </div>
      <div class="insight-box">
        <div class="ib-title">🍀 행운의 요소 활용법</div>
        <div class="ib-body"><strong>${px.luckyColor}</strong> 계열의 아이템을 소지하거나 착용하면 자신감이 높아지는 효과가 있습니다. 중요한 미팅이나 데이트가 있는 날에는 행운의 컬러를 포인트로 활용해보세요. <strong>${px.luckyDay}</strong>에 중요한 결정을 내리거나 새로운 시작을 하면 좋은 에너지가 함께합니다. 매일 아침 파워 만트라 <strong>${px.mantra}</strong>를 3번 되뇌며 하루를 시작해보세요.</div>
      </div>
    </div>

    <div class="pm-divider"></div>

    <!-- ===== 15. 오늘의 특별 미션 ===== -->
    <div class="pm-section" id="pmSec15">
      <div class="today-mission">
        <div class="tm-ic">🎯</div>
        <div class="tm-title">오늘의 특별 미션</div>
        <div class="tm-body">${px.missions[0]}<br><br>이 작은 한 걸음이 당신의 내일을 바꿀 수 있습니다.<br>시작이 반입니다. 지금 바로 실천해보세요! 🚀</div>
      </div>
    </div>

    <!-- ===== AI 맞춤 종합 조언 ===== -->
    <div class="pm-section">
      <div class="pm-section-title"><span class="st-num">✦</span>AI 맞춤 종합 조언</div>
      <div class="dt-card" style="background:linear-gradient(135deg,rgba(139,92,246,.08),rgba(236,72,153,.08));border-color:rgba(139,92,246,.2)">
        <h4>🌟 ${r.ty}인 당신에게 보내는 메시지</h4>
        <p style="white-space:pre-line;font-family:var(--serif);line-height:2.2">${pm.advice||r.advice||''}</p>
      </div>
    </div>

    <!-- 광고 -->
    <div id="cpRec2"></div>

    <!-- 공유 -->
    <div style="text-align:center;margin-top:32px">
      <p id="pmSharePrompt" style="font-size:.92rem;color:var(--text-sec);margin-bottom:16px">친구에게 공유하고 비교해보세요!</p>
      <div class="sh-r"><button class="sh-btn sh-k" onclick="shareKakao()">💬 카카오톡</button><button class="sh-btn sh-ig" onclick="shareInstagram()">📸 인스타그램</button><button class="sh-btn sh-th" onclick="shareThreads()">🔗 스레드</button><button class="sh-btn sh-x" onclick="shareX()">𝕏 X</button><button class="sh-btn sh-c" onclick="copyLink()">🔗 복사</button></div>
    </div>
    <div class="retry-r" style="margin-top:24px">
      <button class="retry" onclick="closePm();startQ(cQ.id)">🔄 다시 하기</button>
      <button class="retry" onclick="closePm();closeQ()">🏠 다른 테스트</button>
    </div>`;

  document.getElementById('pmW').innerHTML=html;
  ov.scrollTo({top:0});

  // Animate all gauges and bars
  setTimeout(()=>{
    document.querySelectorAll('[data-w]').forEach(el=>{el.style.width=el.dataset.w+'%'});
  },300);
}
function closePm(){document.getElementById('pmOv').classList.remove('open')}

/* ===================================================================
   VIRAL REWARD SYSTEM
   =================================================================== */
// Points management
function getPoints(){try{return parseInt(localStorage.getItem('trk_pts')||'0')}catch(e){return 0}}
function addPoints(n){try{const p=getPoints()+n;localStorage.setItem('trk_pts',String(p));updateHeaderUser();return p}catch(e){return n}}
function updatePtsUI(){
  const pts=getPoints();
  const el=document.getElementById('myPts');if(el)el.textContent=pts.toLocaleString()+' P';
  const fill=document.getElementById('ptsFill');if(fill)fill.style.width=Math.min(100,pts/1900*100)+'%';
}

// Generate unique referral code
function getRefCode(){
  try{
    let code=localStorage.getItem('trk_ref');
    if(!code){code='TRK'+Date.now().toString(36).toUpperCase()+Math.random().toString(36).substring(2,5).toUpperCase();localStorage.setItem('trk_ref',code)}
    return code;
  }catch(e){return 'TRK'+Math.random().toString(36).substring(2,8).toUpperCase()}
}

// Check if referred
function checkReferral(){
  const url=new URL(window.location.href);
  const ref=url.searchParams.get('ref');
  if(ref){try{localStorage.setItem('trk_referred_by',ref)}catch(e){}}
}
checkReferral();

// Reward share handler — 3 SHARE UNLOCK SYSTEM
function getShareCount(){try{return parseInt(localStorage.getItem('trk_shares')||'0')}catch(e){return 0}}
function addShareCount(){try{const c=getShareCount()+1;localStorage.setItem('trk_shares',String(c));return c}catch(e){return 1}}
function updateShareUI(){
  const count=getShareCount();
  for(let i=1;i<=3;i++){
    const dot=document.getElementById('spDot'+i);
    if(dot){if(i<=count)dot.classList.add('done');else dot.classList.remove('done')}
  }
  const lines=document.querySelectorAll('.sp-line');
  if(lines[0]&&count>=2)lines[0].classList.add('done');
  if(lines[1]&&count>=3)lines[1].classList.add('done');
  const spCount=document.getElementById('spCount');
  if(spCount)spCount.textContent=Math.min(count,3)+' / 3 공유 완료'+(count>=3?' 🎉':'');
}

function rewardShare(type){
  const r=window._cResult;
  const refCode=getRefCode();
  const shareUrl='https://testrik.co.kr?ref='+refCode;
  const vc=getViralCopy(r);

  if(type==='kakao'){
    if(window.Kakao&&Kakao.isInitialized()){
      Kakao.Share.sendDefault({objectType:'feed',content:{title:vc.kTitle,description:vc.kDesc,imageUrl:'https://testrik.co.kr/og.png',link:{mobileWebUrl:shareUrl,webUrl:shareUrl}},buttons:[{title:'🎯 나도 해보기',link:{mobileWebUrl:shareUrl,webUrl:shareUrl}}]});
    } else {
      navigator.clipboard.writeText(shareUrl+'\n\n'+vc.kTitle+'\n'+vc.kDesc).then(()=>{}).catch(()=>{});
      alert('카카오톡에 이 링크를 붙여넣기 해주세요!\n(링크가 복사되었습니다)');
    }
    const newCount=addShareCount();updateShareUI();showShareProgress(newCount,'kakao');
  }
  else if(type==='instagram'){
    navigator.clipboard.writeText(vc.igTxt||'테스트릭 — 나를 알아가는 가장 재미있는 방법\n'+shareUrl).then(()=>{}).catch(()=>{});
    alert('📸 결과가 복사되었어요!\n\n인스타그램 스토리나 게시물에\n붙여넣기 해주세요!');
    const newCount=addShareCount();updateShareUI();showShareProgress(newCount,'instagram');
  }
  else if(type==='threads'){
    window.open('https://www.threads.net/intent/post?text='+encodeURIComponent((vc.thTxt||'테스트릭')+'\n'+shareUrl));
    const newCount=addShareCount();updateShareUI();showShareProgress(newCount,'threads');
  }
  else if(type==='x'){
    window.open('https://x.com/intent/tweet?text='+encodeURIComponent(vc.thTxt||'테스트릭')+'&url='+encodeURIComponent(shareUrl));
    const newCount=addShareCount();updateShareUI();showShareProgress(newCount,'x');
  }
  else if(type==='invite'){
    showInvitePopup();
  }
}


function showShareProgress(count,via){
  document.querySelectorAll('.rw-popup,.rw-popup-bg').forEach(e=>e.remove());
  const bg=document.createElement('div');bg.className='rw-popup-bg';
  const popup=document.createElement('div');popup.className='rw-popup';
  const viaName=via==='kakao'?'카카오톡':via==='instagram'?'인스타그램':via==='x'?'X':'스레드';
  popup.innerHTML=`
    <div class="rp-ic">👏</div>
    <div class="rp-title">${viaName} 공유 완료!</div>
    <div class="rp-msg">
      친구에게 공유해주셔서 감사합니다! 🎁
    </div>
    <button class="rp-btn" onclick="closeRewardPopup()">확인</button>
  `;
  document.body.append(bg,popup);
  bg.onclick=()=>closeRewardPopup();
  setTimeout(()=>{bg.classList.add('show');popup.classList.add('show')},50);
}

// Reward popup
function showRewardPopup(via){
  document.querySelectorAll('.rw-popup,.rw-popup-bg').forEach(e=>e.remove());
  const bg=document.createElement('div');bg.className='rw-popup-bg';
  const popup=document.createElement('div');popup.className='rw-popup';
  const viaName=via==='kakao'?'카카오톡':via==='instagram'?'인스타그램':via==='x'?'X':'스레드';
  popup.innerHTML=`
    <div class="rp-ic">🎉</div>
    <div class="rp-title">공유 완료!</div>
    <div class="rp-msg">${viaName}에 공유해주셔서 감사합니다! 🎁</div>
    <button class="rp-btn" onclick="closeRewardPopup()">확인</button>
  `;
  document.body.append(bg,popup);
  bg.onclick=()=>closeRewardPopup();
  setTimeout(()=>{bg.classList.add('show');popup.classList.add('show')},50);
}

function closeRewardPopup(){
  document.querySelectorAll('.rw-popup,.rw-popup-bg').forEach(el=>{el.classList.remove('show');setTimeout(()=>el.remove(),400)});
}

// Invite popup
function showInvitePopup(){
  document.querySelectorAll('.rw-popup,.rw-popup-bg').forEach(e=>e.remove());
  const refCode=getRefCode();
  const inviteUrl='https://testrik.co.kr?ref='+refCode;

  const bg=document.createElement('div');bg.className='rw-popup-bg';
  const popup=document.createElement('div');popup.className='rw-popup';
  popup.innerHTML=`
    <div class="rp-ic">👥</div>
    <div class="rp-title">친구 초대하기</div>
    <div class="rp-msg">
      아래 링크를 친구에게 보내주세요!<br>
      친구가 테스트를 완료하면 바이럴이 확산돼요! 🎁
    </div>
    <div class="invite-row">
      <input type="text" value="${inviteUrl}" id="inviteUrl" readonly onclick="this.select()">
      <button onclick="copyInvite()">복사</button>
    </div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="rp-btn" style="flex:1;background:linear-gradient(135deg,#FEE500,#F5D600);color:#3C1E1E;font-size:.92rem;padding:12px" onclick="inviteKakao()">💬 카톡으로 보내기</button>
      <button class="rp-btn" style="flex:1;font-size:.92rem;padding:12px" onclick="closeRewardPopup()">닫기</button>
    </div>
    <div style="margin-top:16px;font-size:.85rem;color:var(--text-dim);line-height:1.6">
      📊 내 추천 코드: <strong style="color:var(--accent-light)">${refCode}</strong>
    </div>
  `;
  document.body.appendChild(bg);document.body.appendChild(popup);
  bg.onclick=()=>closeRewardPopup();
  setTimeout(()=>{bg.classList.add('show');popup.classList.add('show')},50);
}

function copyInvite(){
  const inp=document.getElementById('inviteUrl');if(!inp)return;
  inp.select();navigator.clipboard.writeText(inp.value).then(()=>{
    const btn=inp.nextElementSibling;btn.textContent='✅ 복사됨!';setTimeout(()=>btn.textContent='복사',1500);
  }).catch(()=>alert('링크: '+inp.value));
}

function inviteKakao(){
  const refCode=getRefCode();const shareUrl='https://testrik.co.kr?ref='+refCode;
  if(window.Kakao&&Kakao.isInitialized()){
    Kakao.Share.sendDefault({objectType:'feed',content:{title:'🎯 테스트릭 — 나를 알아가는 가장 재미있는 방법',description:'성격, MBTI, 연애, 다크성향 등 8가지 심리 테스트! 15가지 심층 분석까지 무료로 받아보세요 🎁',imageUrl:'https://testrik.co.kr/og.png',link:{mobileWebUrl:shareUrl,webUrl:shareUrl}},buttons:[{title:'🎯 무료로 시작하기',link:{mobileWebUrl:shareUrl,webUrl:shareUrl}}]});
  } else {
    navigator.clipboard.writeText(shareUrl).then(()=>{alert('링크가 복사되었습니다! 카카오톡에 붙여넣기 해주세요.')}).catch(()=>{});
  }
  closeRewardPopup();
}

// Init points UI on page load
/* ===================================================================
   AUTH & USER SYSTEM — Supabase
   =================================================================== */
const SUPABASE_URL='https://ifaokazbjhrndupabgrg.supabase.co';
const SUPABASE_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmYW9rYXpiamhybmR1cGFiZ3JnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE0MTA3MjUsImV4cCI6MjA4Njk4NjcyNX0.GKx44BLih0s2aMtA6aXeWxOJgITkhI2mvT3IWIRQBmk';
let supa=null;
try{if(window.supabase&&window.supabase.createClient){supa=window.supabase.createClient(SUPABASE_URL,SUPABASE_KEY)}}catch(e){console.warn('Supabase init:',e)}

function getUser(){try{const u=localStorage.getItem('trk_user');return u?JSON.parse(u):null}catch(e){return null}}
function saveUser(u){try{localStorage.setItem('trk_user',JSON.stringify(u))}catch(e){}}

function addPointHistory(label,pts,ic){
  try{
    const hist=JSON.parse(localStorage.getItem('trk_pts_hist')||'[]');
    hist.unshift({label,pts,ic,date:new Date().toISOString()});
    if(hist.length>50)hist.length=50;
    localStorage.setItem('trk_pts_hist',JSON.stringify(hist));
  }catch(e){}
}
function getPointHistory(){try{return JSON.parse(localStorage.getItem('trk_pts_hist')||'[]')}catch(e){return []}}

function updateHeaderUser(){
  const user=getUser();
  const loginBtn=document.getElementById('loginBtn');
  const userPill=document.getElementById('userPill');
  if(!loginBtn||!userPill)return;
  if(user){
    loginBtn.style.display='none';
    userPill.style.display='flex';
    const initial=user.nick?user.nick.charAt(0):'T';
    document.getElementById('upAvatar').textContent=initial;
    document.getElementById('upName').textContent=user.nick||'사용자';
    const pts=getPoints();
    document.getElementById('upPts').textContent=pts.toLocaleString()+' P';
    document.getElementById('udName').textContent=user.nick||'사용자';
    document.getElementById('udEmail').textContent=user.email||'';
    document.getElementById('udPts').textContent=pts.toLocaleString()+' P';
    document.getElementById('udPtsLeft').textContent=Math.max(0,1900-pts).toLocaleString();
  } else {
    loginBtn.style.display='';
    userPill.style.display='none';
  }
}

function toggleUserDrop(){
  const drop=document.getElementById('userDrop');
  drop.classList.toggle('show');
  if(drop.classList.contains('show')){
    setTimeout(()=>{
      const closer=function(e){
        if(!drop.contains(e.target)&&!document.getElementById('userPill').contains(e.target)){
          drop.classList.remove('show');document.removeEventListener('click',closer);
        }
      };
      document.addEventListener('click',closer);
    },10);
  }
}

function openAuth(tab){
  document.getElementById('authOv').classList.add('show');
  switchAuthTab(tab||'login');
}
function closeAuth(){document.getElementById('authOv').classList.remove('show')}

function switchAuthTab(tab){
  document.querySelectorAll('.auth-tab').forEach((t,i)=>{t.classList.toggle('active',i===(tab==='register'?1:0))});
  const body=document.getElementById('authBody');
  if(tab==='register'){
    body.innerHTML=`
      <div class="auth-social">
        <button class="social-btn kakao" onclick="socialAuth('kakao')"><span class="sb-ic">💬</span><span class="sb-tx">카카오로 3초 가입</span></button>
        <button class="social-btn google" onclick="socialAuth('google')"><span class="sb-ic">🔵</span><span class="sb-tx">구글로 3초 가입</span></button>
      </div>
      <div class="auth-divider">또는 이메일로 가입</div>
      <div id="authMsg" class="auth-msg"></div>
      <div class="auth-field"><label>닉네임</label><input type="text" id="regNick" placeholder="2~10자 닉네임"></div>
      <div class="auth-field"><label>이메일</label><input type="email" id="regEmail" placeholder="email@example.com"></div>
      <div class="auth-field"><label>비밀번호</label><input type="password" id="regPw" placeholder="6자 이상"></div>
      <div class="auth-field"><label>비밀번호 확인</label><input type="password" id="regPw2" placeholder="비밀번호 재입력"></div>
      <button class="auth-submit" onclick="registerUser()">🎉 회원가입하고 500P 받기</button>
    `;
  } else {
    body.innerHTML=`
      <div class="auth-social">
        <button class="social-btn kakao" onclick="socialAuth('kakao')"><span class="sb-ic">💬</span><span class="sb-tx">카카오로 로그인</span></button>
        <button class="social-btn google" onclick="socialAuth('google')"><span class="sb-ic">🔵</span><span class="sb-tx">구글로 로그인</span></button>
      </div>
      <div class="auth-divider">또는 이메일로 로그인</div>
      <div id="authMsg" class="auth-msg"></div>
      <div class="auth-field"><label>이메일</label><input type="email" id="loginEmail" placeholder="email@example.com"></div>
      <div class="auth-field"><label>비밀번호</label><input type="password" id="loginPw" placeholder="비밀번호 입력"></div>
      <button class="auth-submit" onclick="loginUser()">로그인</button>
      <div style="text-align:center;margin-top:14px"><span style="font-size:.82rem;color:var(--text-dim)">아직 회원이 아니세요? </span><span style="font-size:.82rem;color:var(--accent-light);font-weight:700;cursor:pointer" onclick="switchAuthTab('register')">회원가입</span></div>
    `;
  }
}

function showAuthMsg(msg,type){
  const el=document.getElementById('authMsg');
  if(el){el.textContent=msg;el.className='auth-msg '+type}
}

// === Supabase Social Auth ===
async function socialAuth(provider){
  if(!supa){
    // fallback if supabase not loaded
    const name=provider==='kakao'?'카카오':'구글';
    const nick=name+'유저_'+Math.floor(Math.random()*9000+1000);
    const email=nick+'@'+provider+'.com';
    const user={nick,email,provider,joinDate:new Date().toISOString()};
    saveUser(user);
    if(!localStorage.getItem('trk_social_joined_'+provider)){
      localStorage.setItem('trk_social_joined_'+provider,'1');
      
    }
    closeAuth();updateHeaderUser();
    return;
  }
  try{
    showAuthMsg('로그인 화면으로 이동 중...','ok');
    const{data,error}=await supa.auth.signInWithOAuth({
      provider:provider,
      options:{redirectTo:window.location.origin+window.location.pathname}
    });
    if(error)showAuthMsg('로그인 실패: '+error.message,'err');
  }catch(e){showAuthMsg('오류가 발생했습니다','err')}
}

// === Supabase Email Register ===
async function registerUser(){
  const nick=document.getElementById('regNick')?.value.trim();
  const email=document.getElementById('regEmail')?.value.trim();
  const pw=document.getElementById('regPw')?.value;
  const pw2=document.getElementById('regPw2')?.value;
  if(!nick||nick.length<2||nick.length>10)return showAuthMsg('닉네임은 2~10자로 입력해주세요','err');
  if(!email||!email.includes('@'))return showAuthMsg('올바른 이메일을 입력해주세요','err');
  if(!pw||pw.length<6)return showAuthMsg('비밀번호는 6자 이상이어야 합니다','err');
  if(pw!==pw2)return showAuthMsg('비밀번호가 일치하지 않습니다','err');

  if(!supa){
    // fallback
    const user={nick,email,provider:'email',joinDate:new Date().toISOString()};
    saveUser(user);
    closeAuth();updateHeaderUser();return;
  }
  try{
    showAuthMsg('가입 중...','ok');
    const{data,error}=await supa.auth.signUp({
      email,password:pw,
      options:{data:{nick:nick}}
    });
    if(error)return showAuthMsg(error.message==='User already registered'?'이미 가입된 이메일입니다':error.message,'err');
    if(data?.user){
      const user={nick,email,provider:'email',joinDate:new Date().toISOString(),supaId:data.user.id};
      saveUser(user);
      
      closeAuth();updateHeaderUser();
      showAuthMsg('가입 완료!','ok');
    }
  }catch(e){showAuthMsg('오류가 발생했습니다','err')}
}

// === Supabase Email Login ===
async function loginUser(){
  const email=document.getElementById('loginEmail')?.value.trim();
  const pw=document.getElementById('loginPw')?.value;
  if(!email||!pw)return showAuthMsg('이메일과 비밀번호를 입력해주세요','err');

  if(!supa){
    showAuthMsg('인증 서비스에 연결할 수 없습니다','err');return;
  }
  try{
    showAuthMsg('로그인 중...','ok');
    const{data,error}=await supa.auth.signInWithPassword({email,password:pw});
    if(error)return showAuthMsg(error.message==='Invalid login credentials'?'이메일 또는 비밀번호가 올바르지 않습니다':error.message,'err');
    if(data?.user){
      const nick=data.user.user_metadata?.nick||data.user.user_metadata?.name||email.split('@')[0];
      const user={nick,email,provider:'email',joinDate:data.user.created_at,supaId:data.user.id};
      saveUser(user);
      closeAuth();updateHeaderUser();
    }
  }catch(e){showAuthMsg('오류가 발생했습니다','err')}
}

// === Supabase Logout ===
async function logoutUser(){
  if(supabase){try{await supa.auth.signOut()}catch(e){}}
  localStorage.removeItem('trk_user');
  document.getElementById('userDrop').classList.remove('show');
  updateHeaderUser();
}

// === Supabase Auth State Listener ===
function initSupabaseAuth(){
  if(!supa)return;
  try{
    supa.auth.onAuthStateChange((event,session)=>{
      if(event==='SIGNED_IN'&&session?.user){
        const u=session.user;
        const meta=u.user_metadata||{};
        const provider=u.app_metadata?.provider||'email';
        const nick=meta.nick||meta.name||meta.full_name||meta.preferred_username||(u.email?u.email.split('@')[0]:'사용자');
        const user={
          nick:nick,
          email:u.email||meta.email||'',
          provider:provider,
          joinDate:u.created_at,
          supaId:u.id
        };
        saveUser(user);
        if(!localStorage.getItem('trk_social_joined_'+provider)){
          localStorage.setItem('trk_social_joined_'+provider,'1');
        }
        closeAuth();updateHeaderUser();
      } else if(event==='SIGNED_OUT'){
        localStorage.removeItem('trk_user');
        updateHeaderUser();
      }
    });
    supa.auth.getSession().then(({data:{session}})=>{
      if(session?.user){
        const u=session.user;
        const meta=u.user_metadata||{};
        const provider=u.app_metadata?.provider||'email';
        const nick=meta.nick||meta.name||meta.full_name||meta.preferred_username||(u.email?u.email.split('@')[0]:'사용자');
        const user={nick,email:u.email||'',provider,joinDate:u.created_at,supaId:u.id};
        saveUser(user);updateHeaderUser();
      }
    }).catch(()=>{});
  }catch(e){console.warn('Supabase auth init error:',e)}
}
initSupabaseAuth();

function openMyPage(section){
  document.getElementById('userDrop')?.classList.remove('show');
  const user=getUser();
  if(!user){openAuth();return}
  const initial=user.nick?user.nick.charAt(0):'T';

  document.getElementById('mypageContent').innerHTML=`
    <div class="mp-profile">
      <div class="mp-avatar">${initial}</div>
      <div class="mp-name">${user.nick||'사용자'}</div>
      <div class="mp-email">${user.email||''} · ${user.provider==='email'?'이메일 가입':user.provider==='kakao'?'카카오 가입':user.provider==='google'?'구글 가입':'소셜 가입'}</div>
    </div>
    <button class="mp-logout" onclick="logoutUser();closeMyPage()">🚪 로그아웃</button>
  `;

  document.getElementById('mypageOv').classList.add('show');
  if(section==='points'){setTimeout(()=>{document.getElementById('mpHistory')?.scrollIntoView({behavior:'smooth'})},200)}
}

function closeMyPage(){document.getElementById('mypageOv').classList.remove('show')}

// Close auth/mypage on overlay click
document.getElementById('authOv')?.addEventListener('click',function(e){if(e.target===this)closeAuth()});
document.getElementById('mypageOv')?.addEventListener('click',function(e){if(e.target===this)closeMyPage()});

document.addEventListener('DOMContentLoaded',()=>{updateShareUI();buildComingSoon();updateHeaderUser()});

// ===== COMING SOON TEST SECTION =====
const upcomingTests=[
  {id:'animal',ic:'🐾',title:'나의 동물 성격 유형은?',desc:'당신의 내면에 숨겨진 동물적 본능! AI가 분석하는 나의 야생 성격과 생존 전략.',gr:'linear-gradient(135deg,#34d399,#059669)',cat:'심리',date:'2026-02-25'},
  {id:'money',ic:'💰',title:'나의 재정 성향 심층 분석',desc:'돈을 쓰는 방식으로 알아보는 숨겨진 재정 DNA. 맞춤 재정 전략까지!',gr:'linear-gradient(135deg,#f59e0b,#d97706)',cat:'능력',date:'2026-03-05'},
  {id:'stress',ic:'🧘',title:'스트레스 대처 유형 테스트',desc:'위기 상황에서 당신은 어떤 타입? 개인 맞춤 스트레스 해소법 처방전.',gr:'linear-gradient(135deg,#06b6d4,#0284c7)',cat:'심리',date:'2026-03-12'},
  {id:'friendship',ic:'🤝',title:'우정 케미 궁합 테스트',desc:'베프와 함께! 우리의 우정 점수와 숨겨진 케미 포인트를 분석합니다.',gr:'linear-gradient(135deg,#f472b6,#db2777)',cat:'연애',date:'2026-03-20'},
  {id:'brain',ic:'🧠',title:'좌뇌 vs 우뇌 심층 분석',desc:'논리와 감성, 당신의 두뇌는 어디에 가까운가? 뇌유형별 맞춤 가이드.',gr:'linear-gradient(135deg,#8b5cf6,#6d28d9)',cat:'능력',date:'2026-03-28'}
];

function buildComingSoon(){
  const container=document.getElementById('csCard');
  if(!container)return;
  // Pick the nearest upcoming test
  const now=new Date();
  const upcoming=upcomingTests.filter(t=>new Date(t.date)>now).sort((a,b)=>new Date(a.date)-new Date(b.date));
  const test=upcoming[0]||upcomingTests[0];
  const targetDate=new Date(test.date);
  const diffMs=targetDate-now;
  const dDay=Math.max(0,Math.ceil(diffMs/(1000*60*60*24)));
  const dateStr=`${targetDate.getMonth()+1}월 ${targetDate.getDate()}일 공개`;

  container.innerHTML=`
    <div class="cs-vis">
      <div class="bg" style="background:${test.gr}"></div>
      <span class="ic">${test.ic}</span>
      <div class="cs-overlay">
        <div class="cs-dday">D-${dDay}</div>
        <div class="cs-dday-sub">${dateStr}</div>
      </div>
    </div>
    <div class="cs-body">
      <span class="cs-badge">🔜 준비 중</span>
      <div class="cs-title">${test.title}</div>
      <div class="cs-desc">${test.desc}</div>
    </div>
  `;
}

/* ===================================================================
   SHARING
   =================================================================== */
function downloadChecklist(){
  const r=window._cResult;if(!r)return;
  let px;
  const rKey=cQ.id+'_'+(r._mbtiType||Object.keys(cQ.results||{}).find(k=>(cQ.results||{})[k]===r)||'');
  if(typeof PMX!=='undefined'&&PMX[rKey]){px=PMX[rKey]}
  else if(r._mbtiType&&typeof getMBTIPMX==='function'){px=getMBTIPMX(r._mbtiType)}
  else if(typeof getGenericPMX==='function'){px=getGenericPMX(cQ,r)}
  const qThemes={
    personality:{color:'#8b5cf6',emoji:'🪞'},mbti:{color:'#0ea5e9',emoji:'🧬'},
    pastlife:{color:'#a855f7',emoji:'🏛'},love:{color:'#ec4899',emoji:'💕'},
    mentalage:{color:'#10b981',emoji:'🧒'},dark:{color:'#6366f1',emoji:'🖤'},
    talent:{color:'#f59e0b',emoji:'💎'},color:{color:'#ef4444',emoji:'🎨'}
  };
  const qT=qThemes[cQ.id]||{color:'#8b5cf6',emoji:'✨'};
  const today=new Date();
  const dateStr=`${today.getFullYear()}.${today.getMonth()+1}.${today.getDate()}`;

  // Concrete daily missions per category
  const concreteMissions={
    personality:[
      '거울 보면서 "나는 __한 사람이야" 한 문장 말하기',
      '오늘 기분을 이모지 3개로 표현해서 메모장에 적기',
      '내가 가장 편안한 장소에서 5분간 눈 감고 호흡하기',
      '친한 친구에게 "고마워" 메시지 하나 보내기',
      '좋아하는 노래 1곡 가사 읽으며 나와 겹치는 부분 찾기',
      '오늘 먹은 것 중 가장 맛있었던 음식 사진 찍기',
      '이번 주 나에게 잘한 점 3가지 소리 내서 말하기'
    ],
    mbti:[
      '아침에 일어나면 오늘 할 일 3개만 포스트잇에 적기',
      '점심시간에 안 가본 메뉴 하나 도전해보기',
      '동료/친구에게 "요즘 어때?" 먼저 물어보기',
      '퇴근 후 10분간 핸드폰 내려놓고 창밖 바라보기',
      '내일 입을 옷을 오늘 밤에 미리 골라놓기',
      '좋아하는 유튜브 채널 새 영상 하나 정주행하기',
      '이번 주 가장 뿌듯했던 순간 한 줄로 적기'
    ],
    pastlife:[
      '오늘 하늘 사진 한 장 찍어서 갤러리에 저장하기',
      '어릴 때 좋아했던 간식 하나 사먹기',
      '5분간 눈 감고 가장 행복했던 기억 떠올리기',
      '안 읽던 장르의 글/영상 하나 찾아보기',
      '산책하면서 평소 안 지나던 길로 걸어보기',
      '가족이나 친구에게 어릴 때 이야기 하나 물어보기',
      '오늘 발견한 예쁜 것 한 가지 메모장에 적기'
    ],
    love:[
      '소중한 사람에게 좋아하는 점 1가지 말해주기',
      '오늘 들은 노래 중 가사가 좋은 것 캡처해두기',
      '혼자 카페에서 10분간 사람 구경하며 여유 부리기',
      '내가 연애에서 가장 중요하게 생각하는 것 3개 적기',
      '좋아하는 사람(친구도 OK)에게 맛집 추천 물어보기',
      '내 장점 5개를 핸드폰 메모장에 적어두기',
      '오늘 하루 중 가장 웃었던 순간 떠올리며 일기 쓰기'
    ],
    mentalage:[
      '아침 알람보다 5분 먼저 일어나기 도전',
      '모르는 단어 하나 검색해서 뜻 알아보기',
      '점심 먹고 10분간 가벼운 스트레칭하기',
      '오늘 본 뉴스 중 흥미로운 것 하나 요약해보기',
      '안 연락한 친구에게 "밥 한번 먹자" 연락하기',
      '잠자기 전 오늘 감사한 것 1가지 생각하기',
      '이번 주 새로 배운 것 한 가지 정리해보기'
    ],
    dark:[
      '좋아하는 음악 틀고 3분간 아무 생각 없이 듣기',
      '화나거나 짜증났던 일을 종이에 적고 찢어버리기',
      '밤에 조용한 곳에서 별이나 달 1분간 올려다보기',
      '나만의 스트레스 해소법 TOP 3 적어보기',
      '좋아하는 영화/드라마 명대사 하나 필사하기',
      '오늘 하루 나를 힘들게 한 것 vs 기쁘게 한 것 비교하기',
      '거울 보면서 "수고했어" 한마디 해주기'
    ],
    talent:[
      '평소 잘한다는 소리 듣는 것 3가지 적어보기',
      '유튜브에서 관심 분야 강의 10분만 들어보기',
      '5분간 낙서하듯 자유롭게 아이디어 적어보기',
      '존경하는 사람 한 명 인터뷰 영상 찾아보기',
      '오늘 뭔가를 만들어보기 (요리, 글, 그림 뭐든 OK)',
      '내가 1년 후 되고 싶은 모습 한 문장으로 적기',
      '이번 주 시도한 것들 중 가장 재미있었던 것 골라보기'
    ],
    color:[
      '오늘 입은 옷 색깔이 내 기분과 맞는지 생각해보기',
      '출퇴근길에 예쁜 색감 하나 발견해서 사진 찍기',
      '좋아하는 색으로 작은 것 하나 꾸며보기 (메모, 배경화면 등)',
      '평소 안 쓰는 색 펜이나 형광펜으로 메모해보기',
      '하늘 색을 3번 다른 시간대에 관찰해보기',
      '좋아하는 그림이나 사진 한 장 배경화면으로 설정하기',
      '이번 주 가장 눈에 띄었던 색 한 가지 기록하기'
    ],
    animal:[
      '오늘 본 동물(강아지,고양이 등) 사진 한 장 찍기',
      '좋아하는 동물 영상 하나 보면서 5분 힐링하기',
      '동물처럼 기지개 켜면서 온몸 스트레칭하기',
      '반려동물 또는 친구의 반려동물에게 간식 주기',
      '동물 다큐멘터리 하나 찾아서 10분만 보기',
      '오늘 하루를 동물로 표현하면? 메모장에 적기',
      '이번 주 가장 귀여웠던 동물 사진 갤러리에 저장하기'
    ],
    money:[
      '오늘 쓴 돈을 한 줄로 메모장에 적어보기',
      '커피값 아끼기: 텀블러에 물 or 집에서 내린 커피 마시기',
      '사고 싶은 것 3개 적고 "정말 필요한가?" 체크하기',
      '1000원짜리 저금통 만들기 (빈 통 아무거나 OK)',
      '구독 서비스 목록 정리하고 안 쓰는 거 하나 찾기',
      '중고거래 앱에서 안 쓰는 물건 하나 올려보기',
      '이번 주 가장 잘한 소비 vs 후회하는 소비 적어보기'
    ],
    stress:[
      '아침에 일어나서 크게 기지개 3번 켜기',
      '점심 먹고 10분간 아무 생각 없이 산책하기',
      '좋아하는 향(핸드크림,디퓨저 등) 맡으며 심호흡 3번',
      '오늘 가장 스트레스 받은 것 종이에 적고 구겨서 버리기',
      '따뜻한 물 한 잔 천천히 마시면서 3분간 멍 때리기',
      '좋아하는 노래 1곡 소리 내서 따라 부르기',
      '이번 주 나에게 "잘 버텼어!" 한마디 해주기'
    ]
  };

  const testMissions=concreteMissions[cQ.id]||concreteMissions.personality;
  const dayMissions=testMissions;
  const dayLabels=['☀️ 가볍게 시작','💬 한마디 챌린지','📝 기록해보기','💪 조금 더 도전','🌈 새로운 시도','🎯 집중하는 하루','⭐ 셀프 칭찬 데이'];
  const w=window.open('','_blank');
  w.document.write(`<!DOCTYPE html><html><head><meta charset="utf-8"><title>테스트릭 7일 미니 챌린지</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Pretendard','Apple SD Gothic Neo',sans-serif;background:#fafafa;color:#1e1e2e;padding:24px;max-width:500px;margin:0 auto}
.header{text-align:center;padding:28px 20px;background:linear-gradient(135deg,${qT.color}15,${qT.color}08);border-radius:20px;margin-bottom:20px;border:1px solid ${qT.color}20}
.logo{font-size:12px;font-weight:800;color:${qT.color};letter-spacing:3px;margin-bottom:12px}
.emoji-big{font-size:2.5rem;margin-bottom:10px}
.result-name{font-size:1.15rem;font-weight:800;color:#1e1e2e;margin-bottom:4px}
.result-sub{font-size:.82rem;color:#64748b}
.date{font-size:.72rem;color:#94a3b8;margin-top:8px}
.intro{text-align:center;padding:16px;margin-bottom:16px}
.intro h2{font-size:1.1rem;font-weight:800;color:#1e1e2e;margin-bottom:6px}
.intro p{font-size:.82rem;color:#64748b;line-height:1.6}
.day-card{display:flex;align-items:flex-start;gap:14px;padding:16px;margin-bottom:8px;background:#fff;border-radius:14px;border:1px solid #e2e8f0;transition:all .2s}
.day-card:hover{border-color:${qT.color}40;box-shadow:0 2px 8px ${qT.color}10}
.day-num{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,${qT.color},${qT.color}cc);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.82rem;font-weight:800;flex-shrink:0}
.day-info{flex:1}
.day-label{font-size:.78rem;font-weight:700;color:${qT.color};margin-bottom:3px}
.day-mission{font-size:.85rem;color:#334155;line-height:1.5;font-weight:500}
.check-box{width:28px;height:28px;border-radius:8px;border:2px solid ${qT.color}40;flex-shrink:0;margin-top:6px}
.footer{text-align:center;padding:20px;margin-top:12px;border-top:1px solid #e2e8f0}
.footer p{font-size:.72rem;color:#94a3b8;line-height:1.5}
.tip{text-align:center;padding:14px;background:${qT.color}08;border-radius:12px;margin-bottom:16px;font-size:.82rem;color:#475569;line-height:1.6}
.tip strong{color:${qT.color}}
.btn-area{text-align:center;margin:20px 0}
.btn-area button{padding:14px 32px;border-radius:12px;border:none;background:${qT.color};color:#fff;font-size:.92rem;font-weight:700;cursor:pointer}
@media print{.btn-area{display:none}body{padding:16px}}
</style></head><body>
<div class="header">
  <div class="logo">TESTRIK</div>
  <div class="emoji-big">${qT.emoji}</div>
  <div class="result-name">${r.ic} ${r.ty}</div>
  <div class="result-sub">${r.su}</div>
  <div class="date">시작일: ${dateStr}</div>
</div>
<div class="intro">
  <h2>🎯 나를 위한 7일 미니 챌린지</h2>
  <p>하루 5분, 부담 없이! 매일 하나씩 체크해보세요 ✅</p>
</div>
<div class="tip">💡 <strong>꿀팁:</strong> 완벽하게 하지 않아도 괜찮아요. 시도한 것 자체가 성장이에요!</div>
${dayMissions.map((m,i)=>`<div class="day-card">
  <div class="day-num">D${i+1}</div>
  <div class="day-info">
    <div class="day-label">${dayLabels[i]}</div>
    <div class="day-mission">${m}</div>
  </div>
  <div class="check-box"></div>
</div>`).join('')}
<div class="footer">
  <p>💜 테스트릭 | testrik.co.kr<br>당신의 성장을 응원합니다!</p>
</div>
<div class="btn-area">
  <button onclick="window.print()">🖨️ PDF로 저장하기</button>
  <div style="margin-top:8px;font-size:.72rem;color:#94a3b8">Ctrl+P → PDF로 저장 선택</div>
</div>
</body></html>`);
  w.document.close();
}
// ===== 동적 OG 태그 업데이트 =====
function updateOG(title,desc){
  const setMeta=(prop,val)=>{let m=document.querySelector('meta[property="'+prop+'"]')||document.querySelector('meta[name="'+prop+'"]');if(m)m.setAttribute('content',val)};
  setMeta('og:title',title);setMeta('og:description',desc);setMeta('twitter:title',title);setMeta('twitter:description',desc);document.title=title;
}

// ===== 바이럴 공유 문구 생성 =====
function getViralCopy(r){
  if(!r||!cQ) return {title:'테스트릭 — 나를 알아가는 가장 재미있는 방법',kDesc:'8가지 무료 심리테스트로 숨겨진 나를 발견하세요!',prompt:'친구에게 공유하고 비교해보세요!',kTitle:'테스트릭 — 나를 알아가는 가장 재미있는 방법'};
  const vm={
    personality:{prompt:'내 진짜 성격이 이거라니… 😮 친구도 해봐!',kDesc:'나도 모르던 내 성격의 비밀! 너는 어떤 유형?',ig:'#성격테스트 #심리테스트 #테스트릭'},
    mbti:{prompt:'내 MBTI 심층 분석 결과 소름… 🫢 너도 해봐!',kDesc:'단순 4글자가 아닌 진짜 MBTI 심층 분석!',ig:'#MBTI #MBTI테스트 #테스트릭'},
    pastlife:{prompt:'내 전생이 이거라니ㅋㅋ 🤣 친구 전생도 궁금!',kDesc:'전생에 나는 누구였을까? 결과 보고 깜짝 놀람!',ig:'#전생테스트 #전생 #테스트릭'},
    love:{prompt:'내 연애 유형 맞는듯… 💕 너는 어떤 유형?',kDesc:'나의 연애 스타일과 찰떡궁합은? 소름 주의!',ig:'#연애테스트 #궁합테스트 #테스트릭'},
    mentalage:{prompt:'내 정신연령 실화?! 😂 친구 것도 궁금!',kDesc:'실제 나이 vs 정신연령의 충격적 차이!',ig:'#정신연령테스트 #나이테스트 #테스트릭'},
    dark:{prompt:'내 다크성향 결과 소름 돋음… 🖤 너도 해봐!',kDesc:'숨겨진 내면의 어둠… 너의 다크성향은?',ig:'#다크성향 #심리테스트 #테스트릭'},
    talent:{prompt:'숨겨진 재능이 이거였어?! 💎 너의 재능은?',kDesc:'아직 발견 못한 나만의 숨겨진 재능은?',ig:'#재능테스트 #숨겨진재능 #테스트릭'},
    color:{prompt:'내 컬러 심리 결과 신기해… 🎨 너는 무슨 색?',kDesc:'색으로 읽는 나의 무의식! 너의 컬러는?',ig:'#컬러테스트 #색채심리 #테스트릭'},
    animal:{prompt:'내 동물 유형 찰떡이야! 🐾 너는 뭐야?',kDesc:'당신의 숨겨진 동물 자아는? 결과 보고 놀람!',ig:'#동물테스트 #성격테스트 #테스트릭'},
    money:{prompt:'내 금전 감각 실화?! 💰 너도 확인해봐!',kDesc:'나의 돈 관리 스타일은? 충격적 결과!',ig:'#돈테스트 #재정테스트 #테스트릭'},
    stress:{prompt:'내 스트레스 유형 맞음ㅋㅋ 😅 너는?',kDesc:'당신의 스트레스 대처법은? 맞춤 분석!',ig:'#스트레스테스트 #심리테스트 #테스트릭'},
    brain:{prompt:'내 두뇌 유형 소름… 🧠 너도 해봐!',kDesc:'좌뇌형? 우뇌형? 당신의 두뇌 스타일은?',ig:'#두뇌테스트 #뇌유형 #테스트릭'},
    friendship:{prompt:'내 우정 스타일 찰떡이야! 🤝 너는?',kDesc:'나는 어떤 친구? 우정 유형 분석!',ig:'#우정테스트 #친구테스트 #테스트릭'}
  };
  const v=vm[cQ.id]||vm.personality;
  return {
    kTitle:r.ic+' 나는 \''+r.ty+'\'!',
    kDesc:v.kDesc,
    prompt:v.prompt,
    igTxt:r.ic+' 나의 결과: '+r.ty+'\n'+r.su+'\n\n'+v.prompt+'\n👉 testrik.co.kr\n\n'+v.ig,
    thTxt:r.ic+' 나의 결과: '+r.ty+'\n'+r.su+'\n\n'+v.prompt+' 👉'
  };
}

function shareKakao(){
  const r=window._cResult;const vc=getViralCopy(r);
  if(window.Kakao&&Kakao.isInitialized()){Kakao.Share.sendDefault({objectType:'feed',content:{title:vc.kTitle,description:vc.kDesc,imageUrl:'https://testrik.co.kr/og.png',link:{mobileWebUrl:'https://testrik.co.kr',webUrl:'https://testrik.co.kr'}},buttons:[{title:'🎯 나도 해보기',link:{mobileWebUrl:'https://testrik.co.kr',webUrl:'https://testrik.co.kr'}}]})}
  else{navigator.clipboard.writeText('https://testrik.co.kr').then(()=>{}).catch(()=>{});alert('링크가 복사되었습니다!\n카카오톡에 붙여넣기 해주세요 💬')}
}
function shareInstagram(){
  const r=window._cResult;const vc=getViralCopy(r);
  navigator.clipboard.writeText(vc.igTxt||'테스트릭 — 나를 알아가는 가장 재미있는 방법\nhttps://testrik.co.kr').then(()=>{}).catch(()=>{});
  alert('📸 결과가 복사되었어요!\n\n인스타그램 스토리나 게시물에\n붙여넣기 해주세요!');
}
function shareThreads(){
  const r=window._cResult;const vc=getViralCopy(r);
  window.open('https://www.threads.net/intent/post?text='+encodeURIComponent((vc.thTxt||'테스트릭 — 나를 알아가는 가장 재미있는 방법')+'\nhttps://testrik.co.kr'))
}
function shareX(){
  const r=window._cResult;const vc=getViralCopy(r);
  window.open('https://x.com/intent/tweet?text='+encodeURIComponent(vc.thTxt||'테스트릭 — 나를 알아가는 가장 재미있는 방법')+'&url='+encodeURIComponent('https://testrik.co.kr'))
}
function copyLink(){
  navigator.clipboard.writeText('https://testrik.co.kr').then(()=>{const b=event.target;b.textContent='✅ 복사됨!';setTimeout(()=>b.textContent='🔗 링크 복사',1500)}).catch(()=>alert('링크: https://testrik.co.kr'));
}
function mainShareKakao(){
  if(window.Kakao&&Kakao.isInitialized()){Kakao.Share.sendDefault({objectType:'feed',content:{title:'🎯 테스트릭 — 나를 알아가는 가장 재미있는 방법',description:'성격, MBTI, 전생, 연애 등 8가지 심리테스트! "이거 해봐!" 😆',imageUrl:'https://testrik.co.kr/og.png',link:{mobileWebUrl:'https://testrik.co.kr',webUrl:'https://testrik.co.kr'}},buttons:[{title:'🎯 무료로 시작하기',link:{mobileWebUrl:'https://testrik.co.kr',webUrl:'https://testrik.co.kr'}}]})}
  else{navigator.clipboard.writeText('https://testrik.co.kr').then(()=>alert('링크가 복사되었습니다!\n카카오톡에 붙여넣기 해주세요 💬')).catch(()=>{})}
}
function mainCopyLink(){
  navigator.clipboard.writeText('테스트릭 